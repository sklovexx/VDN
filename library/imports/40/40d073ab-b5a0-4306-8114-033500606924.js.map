{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\Script\\Ui\\AnnouncementPanel/assets\\Script\\Ui\\AnnouncementPanel\\AnnouncementPanel.js"],"names":["cc","Class","extends","Component","properties","emailItem","Prefab","container_email","Node","start","onEnable","Global","ProtocolMgr","queryGetMessage","res","code","data","removeAllChildren","i","instantiate","getComponent","setData","on","EventType","TOUCH_END","PageMgr","onOpenPage","pages","addChild","length","showTipPage","message"],"mappings":";;;;;;AAEAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,mBAAUL,GAAGM,MADL;AAERC,yBAAgBP,GAAGQ;AAFX,KAHP;AAOLC,SAPK,mBAOI,CAER,CATI;AAULC,YAVK,sBAUK;AAAA;;AACNC,eAAOC,WAAP,CAAmBC,eAAnB,CAAmC,UAACC,GAAD,EAAO;AACtC,gBAAGA,IAAIC,IAAJ,IAAU,GAAb,EAAiB;AAAA;AACb,wBAAIC,OAAOF,IAAIE,IAAf;AACA,0BAAKT,eAAL,CAAqBU,iBAArB;;AAFa,+CAGLC,CAHK;AAIT,4BAAIb,YAAYL,GAAGmB,WAAH,CAAe,MAAKd,SAApB,CAAhB;AACAA,kCAAUe,YAAV,CAAuB,WAAvB,EAAoCC,OAApC,CAA4CL,KAAKE,CAAL,CAA5C,EAAoD,CAApD;AACAb,kCAAUiB,EAAV,CAAatB,GAAGQ,IAAH,CAAQe,SAAR,CAAkBC,SAA/B,EAAyC,YAAI;AACzCb,mCAAOc,OAAP,CAAeC,UAAf,CAA0B,EAA1B;AACAf,mCAAOc,OAAP,CAAeE,KAAf,CAAqB,EAArB,EAAyBP,YAAzB,CAAsC,kBAAtC,EAA0DC,OAA1D,CAAkEL,KAAKE,CAAL,CAAlE,EAA0E,CAA1E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACH,yBAZD;AAaA,8BAAKX,eAAL,CAAqBqB,QAArB,CAA8BvB,SAA9B;AAnBS;;AAGb,yBAAI,IAAIa,IAAI,CAAZ,EAAcA,IAAEF,KAAKa,MAArB,EAA4BX,GAA5B,EAAgC;AAAA,8BAAxBA,CAAwB;AAiB/B;AApBY;AAqBhB,aArBD,MAqBK;AACDP,uBAAOc,OAAP,CAAeK,WAAf,CAA2BhB,IAAIiB,OAA/B;AACH;AACJ,SAzBD;AA0BH;AArCI,CAAT","file":"AnnouncementPanel.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Script\\Ui\\AnnouncementPanel","sourcesContent":["\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        emailItem:cc.Prefab,\r\n        container_email:cc.Node\r\n    },\r\n    start () {\r\n\r\n    },\r\n    onEnable(){\r\n        Global.ProtocolMgr.queryGetMessage((res)=>{\r\n            if(res.code==200){\r\n                let data = res.data\r\n                this.container_email.removeAllChildren();\r\n                for(let i = 0;i<data.length;i++){\r\n                    let emailItem = cc.instantiate(this.emailItem);\r\n                    emailItem.getComponent(\"emailItem\").setData(data[i],2)\r\n                    emailItem.on(cc.Node.EventType.TOUCH_END,()=>{\r\n                        Global.PageMgr.onOpenPage(20);\r\n                        Global.PageMgr.pages[20].getComponent(\"EmailDetailPanel\").setData(data[i],2);\r\n                        // if(data[i].state==0){\r\n                        //     Global.ProtocolMgr.readEmail(data[i].id,(res2)=>{\r\n                        //         if(res2.code==200){\r\n                        //             console.log(res2);\r\n                        //         }else{\r\n                        //             Global.PageMgr.showTipPage(res2.message); \r\n                        //         }\r\n                        //     })\r\n                        // }\r\n                    })\r\n                    this.container_email.addChild(emailItem);\r\n                }\r\n            }else{\r\n                Global.PageMgr.showTipPage(res.message);\r\n            }\r\n        })\r\n    }\r\n});\r\n"]}