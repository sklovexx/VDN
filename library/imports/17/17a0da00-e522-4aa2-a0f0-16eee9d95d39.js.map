{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\NiuNiu\\script\\common/assets\\NiuNiu\\script\\common\\DataObject.js"],"names":["DataObject","cc","Class","properties","parse","data","key","hasOwnProperty","undefined","toString","JSON","stringify","PlayerObject","extends","uid","fbid","fbtoken","fbicon","fbname","fb_cache_key","bid","coins","nickname","rkeys","avatar","ctor","props","js","createMap","lastDailyRewardTime","normalGameTimes","challengeGameTimes","isControlTime","getMaxGunLevel","maxLevel","i","GlobalNiuNiu","config","GUN_COUNTS","Math","max","formatStr","PropObject","type","num","init","IAPObject","hadPay","propRefreshTime","prop1hadBuy","prop2hadBuy","prop3hadBuy","shopProps","showPropTips","vipValid","SettingObject","musicOn","effectOn","musicVol","effectVol","notify","AchieveObject","accCoins","killMonsters","gotFrozens","gotShields","hadDone","ChestObject","oneOnlyNum","starNumCollect","shortOpenTime","longOpenTime","showChestTips","GuideObject","module","exports","IapObject"],"mappings":"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","file":"DataObject.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\NiuNiu\\script\\common","sourcesContent":["/**\n * Created by skyxu on 2018/3/23.\n */\n\n\"use strict\";\n\n/**\n * 基础数据对象\n */\nlet DataObject = cc.Class({\n    properties: {},\n\n    /**\n     * 解析数据\n     * @param data {Object} JSON Object\n     * @returns {DataObject}\n     */\n    parse(data){\n        var key;\n        for (key in data) {\n            if (!this.hasOwnProperty(key)) {\n                continue;\n            }\n\n            if (data[key] !== undefined && data[key] !== null) {\n                this[key] = data[key];\n            }\n        }\n    },\n\n    // 只保留属性字段，不保留function\n    toString(){\n        return JSON.stringify(this);\n    }\n});\n\n/**\n * 玩家基础数据\n */\nlet PlayerObject = cc.Class({\n    extends: DataObject,\n\n    properties: {\n        uid: 0,\n        fbid: 0,\n        fbtoken: 0,\n        fbicon: \"\",\n        fbname: \"\",\n        fb_cache_key: \"\",           // facebook icon cache key\n\n        bid: \"\",\n        coins: 100000,              // 初始金币\n        nickname: \"逢赌必赢\",\n        rkeys: 10,\n        avatar: \"\",\n\n    },\n    ctor(){\n        this.props = cc.js.createMap();\n\n        if (this.lastDailyRewardTime === undefined) {\n            this.lastDailyRewardTime = 0;\n        }\n        if (this.normalGameTimes === undefined) {\n            this.normalGameTimes = 0;\n        }\n        if (this.challengeGameTimes === undefined) {\n            this.challengeGameTimes = 0;\n        }\n\n        // 初始化是否开启时间验证\n        if (this.isControlTime === undefined) {\n            this.isControlTime = true;\n        }\n    },\n\n    /**\n     * 获得所有枪支中最高的等级\n     * @returns {number}\n     */\n    getMaxGunLevel(){\n        let maxLevel = 0;\n        for (let i = 1; i <= GlobalNiuNiu.config.GUN_COUNTS; i++) {\n            maxLevel = Math.max(maxLevel, this[cc.js.formatStr(\"gun%dLevel\", i)]);\n        }\n\n        return maxLevel;\n    }\n});\n\n/**\n * 道具数据\n */\nlet PropObject = cc.Class({\n    extends: DataObject,\n\n    properties: {\n        type: 0, // 道具类型\n        num: 0   // 道具数量\n    },\n\n    ctor(){\n    },\n\n    init(type, num) {\n        this.type = type;\n        this.num = num;\n    }\n});\n\n/**\n * 玩家付费数据\n */\nlet IAPObject = cc.Class({\n    extends: DataObject,\n\n    properties: {\n        hadPay: 0,              // 消费总数\n        propRefreshTime: 0,     // 道具下次刷新时间\n        prop1hadBuy: false,\n        prop2hadBuy: false,\n        prop3hadBuy: false,\n        shopProps: [],          // 商店道具信息\n        showPropTips: false,    // 显示道具刷新提示\n        vipValid: false,       // vip是否有效\n    }\n});\n\n/**\n * 游戏设置信息\n */\nlet SettingObject = cc.Class({\n    extends: DataObject,\n\n    properties: {\n        musicOn: true,\n        effectOn: true,\n        musicVol: 1,\n        effectVol: 1,\n        notify: true\n    }\n});\n\nlet AchieveObject = cc.Class({\n    extends: DataObject,\n\n    properties:{\n        accCoins: 0,        // 累计获得的金币\n        killMonsters: 0,    // 杀死敌人数量\n        gotFrozens: 0,      // 获得冰冻道具数量\n        gotShields: 0,      // 获得护盾道具数量\n        hadDone: null,      // 标记已经达成的成就 hadDone['id'] = true\n    },\n    ctor(){\n        this.hadDone = cc.js.createMap();\n    }\n});\n\n/**\n * 宝箱奖励信息\n */\nlet ChestObject = cc.Class({\n    extends: DataObject,\n\n    properties:{\n        oneOnlyNum: 0,          // 只开启一个宝箱的计数,\n        starNumCollect: 0,      // 已经收集的星星，获得奖励后清零\n        shortOpenTime: 0,       // 短时宝箱开启时间(秒)\n        longOpenTime: 0,        // 长时宝箱开启时间(秒)\n        showChestTips: false,   // 显示开启宝箱提示\n    }\n});\n\nlet GuideObject = cc.Class({\n    extends: DataObject,\n\n    properties: {}\n});\n\nmodule.exports = {\n    DataObject: DataObject,\n    PlayerObject: PlayerObject,\n    PropObject: PropObject,\n    IapObject: IAPObject,\n    SettingObject: SettingObject,\n    GuideObject: GuideObject,\n    ChestObject: ChestObject,\n    AchieveObject: AchieveObject\n};"]}