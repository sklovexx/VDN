{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\NiuNiu\\script\\views/assets\\NiuNiu\\script\\views\\ToastCtrl.js"],"names":["ViewBase","require","ViewMgr","ToastCtrl","cc","Class","extends","properties","content","Label","bg","Node","initView","t","cb","string","_cb","_t","_rmSelf","node","removeFromParent","destroy","start","scheduleOnce","showText","toast","instantiate","GlobalNiuNiu","assetMgr","toastPrefab","tCtrl","getComponent","getInstance","pushViewImmediate"],"mappings":";;;;AAAA;;;;AAIA;;AAEA,IAAIA,WAAWC,QAAQ,sBAAR,CAAf;AACA,IAAIC,UAAUD,QAAQ,qBAAR,CAAd;;AAEA,IAAIE,YAAYC,GAAGC,KAAH,CAAS;AACrBC,aAASN,QADY;;AAGrBO,gBAAY;AACRC,iBAASJ,GAAGK,KADJ;AAERC,YAAIN,GAAGO;AAFC,KAHS;;AASrBC,YATqB,oBASZJ,OATY,EASHK,CATG,EASAC,EATA,EASG;AACpB,aAAKN,OAAL,CAAaO,MAAb,GAAsBP,OAAtB;AACA,aAAKQ,GAAL,GAAWF,EAAX;AACA,aAAKG,EAAL,GAAUJ,CAAV;AACH,KAboB;AAerBK,WAfqB,qBAeZ;AACL,YAAI,KAAKF,GAAT,EAAa;AACT,iBAAKA,GAAL;AACH;AACD,aAAKG,IAAL,CAAUC,gBAAV,CAA2B,IAA3B;AACA,aAAKD,IAAL,CAAUE,OAAV;AACH,KArBoB;AAuBrBC,SAvBqB,mBAuBd;AACH,aAAKL,EAAL,GAAU,KAAKA,EAAL,GAAU,KAAKA,EAAf,GAAoB,CAA9B;AACA,aAAKM,YAAL,CAAkB,KAAKL,OAAvB,EAAgC,KAAKD,EAArC;AACH;AA1BoB,CAAT,CAAhB;;AA6BA;;;;;AAKAd,UAAUqB,QAAV,GAAqB,UAAUhB,OAAV,EAAmBK,CAAnB,EAAsBC,EAAtB,EAA0B;AAC3CD,QAAIA,IAAEA,CAAF,GAAI,CAAR;AACA,QAAIY,QAAQrB,GAAGsB,WAAH,CAAeC,aAAaC,QAAb,CAAsBC,WAArC,CAAZ;AACA,QAAIC,QAAQL,MAAMM,YAAN,CAAmB,WAAnB,CAAZ;AACAD,UAAMlB,QAAN,CAAeJ,OAAf,EAAwBK,CAAxB,EAA2BC,EAA3B;AACAZ,YAAQ8B,WAAR,GAAsBC,iBAAtB,CAAwCR,KAAxC;AACH,CAND","file":"ToastCtrl.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\NiuNiu\\script\\views","sourcesContent":["/**\r\n * Created by skyxu on 2019/3/22.\r\n */\r\n\r\n\"use strict\";\r\n\r\nlet ViewBase = require(\"./../common/ViewBase\");\r\nlet ViewMgr = require(\"./../common/ViewMgr\");\r\n\r\nlet ToastCtrl = cc.Class({\r\n    extends: ViewBase,\r\n\r\n    properties: {\r\n        content: cc.Label,\r\n        bg: cc.Node,\r\n    },\r\n\r\n\r\n    initView(content, t, cb){\r\n        this.content.string = content;\r\n        this._cb = cb;\r\n        this._t = t;\r\n    },\r\n\r\n    _rmSelf(){\r\n        if (this._cb){\r\n            this._cb();\r\n        }\r\n        this.node.removeFromParent(true);\r\n        this.node.destroy();\r\n    },\r\n\r\n    start(){\r\n        this._t = this._t ? this._t : 1;\r\n        this.scheduleOnce(this._rmSelf, this._t);\r\n    }\r\n});\r\n\r\n/**\r\n * 提示框\r\n * @param content{String} 内容\r\n * @param t{Number} 停留时间\r\n */\r\nToastCtrl.showText = function (content, t, cb) {\r\n    t = t?t:1;\r\n    let toast = cc.instantiate(GlobalNiuNiu.assetMgr.toastPrefab);\r\n    let tCtrl = toast.getComponent(\"ToastCtrl\");\r\n    tCtrl.initView(content, t, cb);\r\n    ViewMgr.getInstance().pushViewImmediate(toast);\r\n};\r\n\r\n\r\n"]}