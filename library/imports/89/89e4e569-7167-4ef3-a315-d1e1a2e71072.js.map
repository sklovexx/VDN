{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\Script\\Ui\\JiaoYiPanel/assets\\Script\\Ui\\JiaoYiPanel\\JiaoYiPanel.js"],"names":["cc","Class","extends","Component","properties","jiaoyi_item","Prefab","container","Node","btn_item","Sprite","onEnable","getListData","event","customData","forEach","e","spriteFrame","loader","loadRes","SpriteFrame","err","sf","parseInt","Global","ProtocolMgr","queryJiaoYiList","res","code","data","console","log","removeAllChildren","i","length","jiaoyiItemNode","instantiate","getComponent","setData","addChild","PageMgr","showTipPage","message","close","onClosePage"],"mappings":";;;;;;AACAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,qBAAYL,GAAGM,MADP;AAERC,mBAAUP,GAAGQ,IAFL;AAGRC,kBAAS,CAACT,GAAGU,MAAJ;AAHD,KAHP;;AASL;;AAEA;;AAEAC,YAbK,sBAaK;AACN,aAAKC,WAAL,CAAiB,IAAjB,EAAsB,CAAtB;AACH,KAfI;AAgBLA,eAhBK,uBAgBOC,KAhBP,EAgBaC,UAhBb,EAgBwB;AAAA;;AACzB,aAAKL,QAAL,CAAcM,OAAd,CAAsB,aAAG;AACrBC,cAAEC,WAAF,GAAgB,IAAhB;AACH,SAFD;AAGAjB,WAAGkB,MAAH,CAAUC,OAAV,CAAkB,WAAlB,EAA+BnB,GAAGoB,WAAlC,EAA+C,UAACC,GAAD,EAAMC,EAAN,EAAW;AACtD,gBAAI,CAACD,GAAL,EAAS;AACL,sBAAKZ,QAAL,CAAcc,SAAST,UAAT,CAAd,EAAoCG,WAApC,GAAkDK,EAAlD;AACH;AACJ,SAJD;AAKAE,eAAOC,WAAP,CAAmBC,eAAnB,CAAmC,UAACC,GAAD,EAAO;AACtC,gBAAGA,IAAIC,IAAJ,IAAU,GAAb,EAAiB;AACb,oBAAIC,OAAOF,IAAIE,IAAf;AACAC,wBAAQC,GAAR,CAAYF,IAAZ;AACA,sBAAKtB,SAAL,CAAeyB,iBAAf;AACA,qBAAI,IAAIC,IAAI,CAAZ,EAAcA,IAAEJ,KAAKK,MAArB,EAA4BD,GAA5B,EAAgC;AAC5B,wBAAIE,iBAAiBnC,GAAGoC,WAAH,CAAe,MAAK/B,WAApB,CAArB;AACA8B,mCAAeE,YAAf,CAA4B,aAA5B,EAA2CC,OAA3C,CAAmDL,CAAnD,EAAqDJ,KAAKI,CAAL,CAArD;AACA,0BAAK1B,SAAL,CAAegC,QAAf,CAAwBJ,cAAxB;AACH;AACJ,aATD,MASK;AACDX,uBAAOgB,OAAP,CAAeC,WAAf,CAA2Bd,IAAIe,OAA/B;AACH;AACJ,SAbD;AAcH,KAvCI;AAwCLC,SAxCK,mBAwCE;AACHnB,eAAOgB,OAAP,CAAeI,WAAf,CAA2B,CAA3B;AACH;AACD;;AA3CK,CAAT","file":"JiaoYiPanel.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Script\\Ui\\JiaoYiPanel","sourcesContent":["\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        jiaoyi_item:cc.Prefab,\r\n        container:cc.Node,\r\n        btn_item:[cc.Sprite]\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    // onLoad () {},\r\n\r\n    onEnable(){\r\n        this.getListData(null,0)\r\n    },\r\n    getListData(event,customData){\r\n        this.btn_item.forEach(e=>{\r\n            e.spriteFrame = null;\r\n        })\r\n        cc.loader.loadRes(\"imgs/按钮bg\", cc.SpriteFrame, (err, sf)=>{\r\n            if (!err){\r\n                this.btn_item[parseInt(customData)].spriteFrame = sf;\r\n            }\r\n        });\r\n        Global.ProtocolMgr.queryJiaoYiList((res)=>{\r\n            if(res.code==200){\r\n                let data = res.data\r\n                console.log(data);\r\n                this.container.removeAllChildren();\r\n                for(let i = 0;i<data.length;i++){\r\n                    let jiaoyiItemNode = cc.instantiate(this.jiaoyi_item);\r\n                    jiaoyiItemNode.getComponent(\"jiaoyi_item\").setData(i,data[i]);\r\n                    this.container.addChild(jiaoyiItemNode);\r\n                }\r\n            }else{\r\n                Global.PageMgr.showTipPage(res.message);\r\n            }\r\n        })\r\n    },\r\n    close(){\r\n        Global.PageMgr.onClosePage(3);\r\n    }\r\n    // update (dt) {},\r\n});\r\n"]}