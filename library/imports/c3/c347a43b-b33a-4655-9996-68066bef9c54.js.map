{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\Script\\Global/assets\\Script\\Global\\GlobalEvent.js"],"names":["cc","director","GlobalEvent","_handles","emit","event","data","rArray","name","i","length","rValue","push","on","callback","target","bind","off","offAll"],"mappings":";;;;;;AAAAA,GAAGC,QAAH,CAAYC,WAAZ,GAA0B;AACtBC,cAAU,EADY;;AAGtB;AACAC,UAAM,cAAUC,KAAV,EAAiBC,IAAjB,EAAuB;AACzB,YAAIC,SAAS,EAAb;;AAEA;;AAEA,aAAK,IAAIC,IAAT,IAAiB,KAAKL,QAAtB,EAAgC;AAC5B,gBAAIK,SAASH,KAAb,EAAoB;AAChB,qBAAK,IAAII,IAAI,CAAb,EAAgBA,IAAI,KAAKN,QAAL,CAAcK,IAAd,EAAoBE,MAAxC,EAAgDD,GAAhD,EAAqD;AACjD,wBAAI,OAAO,KAAKN,QAAL,CAAcK,IAAd,EAAoBC,CAApB,CAAP,KAAkC,UAAtC,EAAkD;AAC9C,4BAAIE,SAAS,KAAKR,QAAL,CAAcK,IAAd,EAAoBC,CAApB,EAAuBH,IAAvB,CAAb;AACAC,+BAAOK,IAAP,CAAYD,MAAZ;AACH;AACJ;AACJ;AACJ;AACD,eAAOJ,MAAP;AACH,KApBqB;;AAsBtB;AACAM,QAAI,YAAUR,KAAV,EAAiBS,QAAjB,EAA2BC,MAA3B,EAAmC;AACnC,aAAKZ,QAAL,CAAcE,KAAd,IAAuB,KAAKF,QAAL,CAAcE,KAAd,KAAwB,EAA/C;AACA,aAAKF,QAAL,CAAcE,KAAd,EAAqBO,IAArB,CAA0BE,SAASE,IAAT,CAAcD,MAAd,CAA1B;AACA,eAAO,IAAP;AACH,KA3BqB;;AA6BtB;AACAE,SAAK,aAAUZ,KAAV,EAAiB;AAClB,aAAKF,QAAL,CAAcE,KAAd,IAAuB,EAAvB;AACA,eAAO,IAAP;AACH,KAjCqB;AAkCtBa,YAAQ,kBAAU;AACd,aAAKf,QAAL,GAAgB,EAAhB;AACA,eAAO,IAAP;AACH;AArCqB,CAA1B","file":"GlobalEvent.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\Script\\Global","sourcesContent":["cc.director.GlobalEvent = {\r\n    _handles: {},\r\n\r\n    // 触发事件\r\n    emit: function (event, data) {\r\n        let rArray = [];\r\n\r\n        //data.event = event;\r\n\r\n        for (let name in this._handles) {\r\n            if (name === event) {\r\n                for (let i = 0; i < this._handles[name].length; i++) {\r\n                    if (typeof this._handles[name][i] === 'function') {\r\n                        let rValue = this._handles[name][i](data);\r\n                        rArray.push(rValue)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return rArray\r\n    },\r\n\r\n    // 监听事件\r\n    on: function (event, callback, target) {\r\n        this._handles[event] = this._handles[event] || [];\r\n        this._handles[event].push(callback.bind(target));\r\n        return this;\r\n    },\r\n\r\n    // 取消监听\r\n    off: function (event) {\r\n        this._handles[event] = [];\r\n        return this;\r\n    },\r\n    offAll: function(){\r\n        this._handles = {}\r\n        return this;\r\n    }\r\n};\r\n"]}