{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\NiuNiu\\script\\config/assets\\NiuNiu\\script\\config\\GunData.js"],"names":["UtilsOther","require","GunLevelObj","cc","Class","ctor","level","attackAdd","denseAdd","range","expend","length","coolingAdd","GunObj","baseAttack","baseDense","baseLength","baseSpeed","baseSkillCooling","baseNum","baseGap","levels","skill1level","skill2level","skill3level","skill4level","skill1des","skill2des","skill3des","skill4des","unlockType","unlockAdTimes","unlockChallenge","GunData","_jsonBaseData","_jsonLevelData","gunData","setBaseData","jsonBaseData","setLevelData","jsonLevelData","initBaseData","i","aGunBaseCfg","gunId","clone","initLevelData","aLevelCfgArr","hasOwnProperty","getGunData","obj","newObj","constructor","key","copy"],"mappings":"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","file":"GunData.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\NiuNiu\\script\\config","sourcesContent":["/**\n * Created by skyxu on 2018/6/7.\n */\n\n\"use strict\";\n\nlet UtilsOther = require('./../common/UtilsOther');\n\nlet GunLevelObj = cc.Class({\n    ctor(){\n        this.level = 1;         // 当前等级\n        this.attackAdd = 0;     // 基础攻击力加成\n        this.denseAdd = 0;      // 基础发射速度加成\n        this.range = 0;         // 火箭弹爆炸范围0-1\n        this.expend = 0;        // 升级到当前等级所需花费\n        this.length = 1;        // 激光长度0-1\n        this.coolingAdd = 0;    // 大技能冷却加成\n    }\n});\n\nlet GunObj = cc.Class({\n    ctor(){\n        this.baseAttack = 10;           // 基础攻击力\n        this.baseDense = 1.25;          // 基础发射速度(bps)\n        this.baseLength = 1;            // 基础长度0-1 激光武器\n        this.baseSpeed = 20;            // 基础子弹飞行速度\n        this.baseSkillCooling = 10;     // 大技能基础冷却时间\n        this.baseNum = 3;               // 散弹枪每次发射子弹数量\n        this.baseGap = 5;               // 散弹枪子弹间隔角度\n        this.levels = new GunLevelObj;  // 枪支等级信息\n        this.skill1level = 1;           // 技能开启等级\n        this.skill2level = 1;\n        this.skill3level = 1;\n        this.skill4level = 1;\n        this.skill1des = \"\";\n        this.skill2des = \"\";\n        this.skill3des = \"\";\n        this.skill4des = \"\";\n        this.unlockType = 1;            // 1:金币解锁 2:观看广告解锁  3:挑战指定关卡解锁\n        this.unlockAdTimes = 10;        // 解锁所需观看广告次数\n        this.unlockChallenge = 10;      // 解锁所需挑战关卡数\n    }\n});\n\nlet GunData = cc.Class({\n\n});\n\n\nGunData._jsonBaseData = null;\nGunData._jsonLevelData = null;\nGunData.gunData = null;\n\nGunData.setBaseData = function (jsonBaseData) {\n    GunData._jsonBaseData = jsonBaseData;\n};\n\nGunData.setLevelData = function (jsonLevelData) {\n    GunData._jsonLevelData = jsonLevelData;\n};\n\nGunData.initBaseData = function () {\n    if (!GunData._jsonBaseData){\n        return;\n    }\n\n    GunData.gunData = new GunData();\n    for (let i=0; i<GunData._jsonBaseData.length; i++){\n        let aGunBaseCfg = GunData._jsonBaseData[i];\n        GunData.gunData[\"gun_\" + aGunBaseCfg.gunId] = new GunObj();\n        GunData.clone(aGunBaseCfg, GunData.gunData[\"gun_\" + aGunBaseCfg.gunId]);\n    }\n\n    delete GunData._jsonBaseData;\n};\n\nGunData.initLevelData = function () {\n    if (!this._jsonLevelData){\n        return;\n    }\n\n    for (let i=0; i<this._jsonLevelData.length; i++){\n        let aLevelCfgArr = this._jsonLevelData[i];\n        if (!GunData.gunData.hasOwnProperty(\"gun_\" + aLevelCfgArr[0].gunId)){\n            continue;\n        }\n        GunData.gunData[\"gun_\" + aLevelCfgArr[0].gunId].levels = aLevelCfgArr;\n    }\n\n    delete GunData._jsonLevelData;\n};\n\n/**\n * 获取枪支信息\n * @param gunId{cc.Integer} 1: 双枪 2:火箭弹(范围伤害) 3:激光武器 4:散弹枪\n */\nGunData.getGunData = function (gunId) {\n    if (!GunData.gunData || !GunData.gunData[\"gun_\" + gunId]){\n        return null;\n    }\n    return GunData.gunData[\"gun_\" + gunId];\n};\n\nGunData.clone = function (obj, newObj) {\n    if (!newObj) {\n        newObj = (obj.constructor) ? new obj.constructor() : {};\n    }\n\n    let key;\n    let copy;\n    for (key in obj) {\n        if (!obj.hasOwnProperty(key) || obj[key] == -1) {\n            continue;\n        }\n        copy = obj[key];\n        // Beware that typeof null == \"object\" !\n        if (((typeof copy) === \"object\") && copy) {\n            newObj[key] = UtilsOther.clone(copy, null);\n        } else {\n            newObj[key] = copy;\n        }\n    }\n    return newObj;\n};"]}