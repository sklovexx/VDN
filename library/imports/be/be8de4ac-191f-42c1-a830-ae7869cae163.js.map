{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\NiuNiu\\script\\common/assets\\NiuNiu\\script\\common\\BtnCtrl.js"],"names":["GCONFIG","require","cc","Class","extends","Component","properties","onLoad","btn","node","getComponent","Button","GlobalNiuNiu","eventManager","on","EVENT_ONSPIN","_onStartSpin","EVENT_STOPSPIN","_onStopSpin","interactable","onDestroy","off"],"mappings":";;;;AAAA;;;;;AAKA;;AAEA,IAAIA,UAAUC,QAAQ,WAAR,CAAd;AACAC,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfQ,KAHP;;AAqBL;;AAEAC,UAvBK,oBAuBK;AACN,YAAIC,MAAM,KAAKC,IAAL,CAAUC,YAAV,CAAuBR,GAAGS,MAA1B,CAAV;AACA,YAAI,CAACH,GAAL,EAAS;AACL;AACH,SAFD,MAEM;AACF;AACAI,yBAAaC,YAAb,CAA0BC,EAA1B,CAA6Bd,QAAQe,YAArC,EAAmD,KAAKC,YAAxD,EAAsE,IAAtE;AACAJ,yBAAaC,YAAb,CAA0BC,EAA1B,CAA6Bd,QAAQiB,cAArC,EAAqD,KAAKC,WAA1D,EAAuE,IAAvE;AACH;AACJ,KAhCI;;;AAkCLF,kBAAc,wBAAU;AACpB,YAAIR,MAAM,KAAKC,IAAL,CAAUC,YAAV,CAAuBR,GAAGS,MAA1B,CAAV;AACAH,YAAIW,YAAJ,GAAmB,KAAnB;AACH,KArCI;AAsCLD,iBAAa,uBAAU;AACnB,YAAIV,MAAM,KAAKC,IAAL,CAAUC,YAAV,CAAuBR,GAAGS,MAA1B,CAAV;AACAH,YAAIW,YAAJ,GAAmB,IAAnB;AACH,KAzCI;;AA2CL;;AAEA;;AAEAC,eAAW,qBAAU;AACjBR,qBAAaC,YAAb,CAA0BQ,GAA1B,CAA8BrB,QAAQe,YAAtC,EAAoD,KAAKC,YAAzD;AACAJ,qBAAaC,YAAb,CAA0BQ,GAA1B,CAA8BrB,QAAQiB,cAAtC,EAAsD,KAAKC,WAA3D;AACH;;AAED;AApDK,CAAT","file":"BtnCtrl.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\NiuNiu\\script\\common","sourcesContent":["/**\r\n * Created by skyxu on 2018/3/13.\r\n * 该节点有button组件，通过接受消息来控制button的可用与不可用\r\n */\r\n\r\n\"use strict\";\r\n\r\nlet GCONFIG = require(\"./GCONFIG\");\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        // foo: {\r\n        //     // ATTRIBUTES:\r\n        //     default: null,        // The default value will be used only when the component attaching\r\n        //                           // to a node for the first time\r\n        //     type: cc.SpriteFrame, // optional, default is typeof default\r\n        //     serializable: true,   // optional, default is true\r\n        // },\r\n        // bar: {\r\n        //     get () {\r\n        //         return this._bar;\r\n        //     },\r\n        //     set (value) {\r\n        //         this._bar = value;\r\n        //     }\r\n        // },\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n        let btn = this.node.getComponent(cc.Button);\r\n        if (!btn){\r\n            return;\r\n        } else{\r\n            // btn.enableAutoGrayEffect = true;\r\n            GlobalNiuNiu.eventManager.on(GCONFIG.EVENT_ONSPIN, this._onStartSpin, this);\r\n            GlobalNiuNiu.eventManager.on(GCONFIG.EVENT_STOPSPIN, this._onStopSpin, this);\r\n        }\r\n    },\r\n\r\n    _onStartSpin: function(){\r\n        let btn = this.node.getComponent(cc.Button);\r\n        btn.interactable = false;\r\n    },\r\n    _onStopSpin: function(){\r\n        let btn = this.node.getComponent(cc.Button);\r\n        btn.interactable = true;\r\n    },\r\n\r\n    // start () {\r\n\r\n    // },\r\n\r\n    onDestroy: function(){\r\n        GlobalNiuNiu.eventManager.off(GCONFIG.EVENT_ONSPIN, this._onStartSpin);\r\n        GlobalNiuNiu.eventManager.off(GCONFIG.EVENT_STOPSPIN, this._onStopSpin);\r\n    }\r\n\r\n    // update (dt) {},\r\n});\r\n"]}