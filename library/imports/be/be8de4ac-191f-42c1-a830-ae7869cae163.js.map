{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\NiuNiu\\script\\common/assets\\NiuNiu\\script\\common\\BtnCtrl.js"],"names":["GCONFIG","require","cc","Class","extends","Component","properties","onLoad","btn","node","getComponent","Button","GlobalNiuNiu","eventManager","on","EVENT_ONSPIN","_onStartSpin","EVENT_STOPSPIN","_onStopSpin","interactable","onDestroy","off"],"mappings":";;;;AAAA;;;;;AAKA;;AAEA,IAAIA,UAAUC,QAAQ,WAAR,CAAd;AACAC,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfQ,KAHP;;AAqBL;;AAEAC,UAvBK,oBAuBK;AACN,YAAIC,MAAM,KAAKC,IAAL,CAAUC,YAAV,CAAuBR,GAAGS,MAA1B,CAAV;AACA,YAAI,CAACH,GAAL,EAAS;AACL;AACH,SAFD,MAEM;AACF;AACAI,yBAAaC,YAAb,CAA0BC,EAA1B,CAA6Bd,QAAQe,YAArC,EAAmD,KAAKC,YAAxD,EAAsE,IAAtE;AACAJ,yBAAaC,YAAb,CAA0BC,EAA1B,CAA6Bd,QAAQiB,cAArC,EAAqD,KAAKC,WAA1D,EAAuE,IAAvE;AACH;AACJ,KAhCI;;;AAkCLF,kBAAc,wBAAU;AACpB,YAAIR,MAAM,KAAKC,IAAL,CAAUC,YAAV,CAAuBR,GAAGS,MAA1B,CAAV;AACAH,YAAIW,YAAJ,GAAmB,KAAnB;AACH,KArCI;AAsCLD,iBAAa,uBAAU;AACnB,YAAIV,MAAM,KAAKC,IAAL,CAAUC,YAAV,CAAuBR,GAAGS,MAA1B,CAAV;AACAH,YAAIW,YAAJ,GAAmB,IAAnB;AACH,KAzCI;;AA2CL;;AAEA;;AAEAC,eAAW,qBAAU;AACjBR,qBAAaC,YAAb,CAA0BQ,GAA1B,CAA8BrB,QAAQe,YAAtC,EAAoD,KAAKC,YAAzD;AACAJ,qBAAaC,YAAb,CAA0BQ,GAA1B,CAA8BrB,QAAQiB,cAAtC,EAAsD,KAAKC,WAA3D;AACH;;AAED;AApDK,CAAT","file":"BtnCtrl.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\NiuNiu\\script\\common","sourcesContent":["/**\n * Created by skyxu on 2018/3/13.\n * 该节点有button组件，通过接受消息来控制button的可用与不可用\n */\n\n\"use strict\";\n\nlet GCONFIG = require(\"./GCONFIG\");\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        // foo: {\n        //     // ATTRIBUTES:\n        //     default: null,        // The default value will be used only when the component attaching\n        //                           // to a node for the first time\n        //     type: cc.SpriteFrame, // optional, default is typeof default\n        //     serializable: true,   // optional, default is true\n        // },\n        // bar: {\n        //     get () {\n        //         return this._bar;\n        //     },\n        //     set (value) {\n        //         this._bar = value;\n        //     }\n        // },\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad () {\n        let btn = this.node.getComponent(cc.Button);\n        if (!btn){\n            return;\n        } else{\n            // btn.enableAutoGrayEffect = true;\n            GlobalNiuNiu.eventManager.on(GCONFIG.EVENT_ONSPIN, this._onStartSpin, this);\n            GlobalNiuNiu.eventManager.on(GCONFIG.EVENT_STOPSPIN, this._onStopSpin, this);\n        }\n    },\n\n    _onStartSpin: function(){\n        let btn = this.node.getComponent(cc.Button);\n        btn.interactable = false;\n    },\n    _onStopSpin: function(){\n        let btn = this.node.getComponent(cc.Button);\n        btn.interactable = true;\n    },\n\n    // start () {\n\n    // },\n\n    onDestroy: function(){\n        GlobalNiuNiu.eventManager.off(GCONFIG.EVENT_ONSPIN, this._onStartSpin);\n        GlobalNiuNiu.eventManager.off(GCONFIG.EVENT_STOPSPIN, this._onStopSpin);\n    }\n\n    // update (dt) {},\n});\n"]}