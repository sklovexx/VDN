{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\Script\\Ui\\KnapsackPanel/assets\\Script\\Ui\\KnapsackPanel\\KnapsackPanel.js"],"names":["cc","Class","extends","Component","properties","NFT_item","Prefab","XHP_item","container","Node","btn_item","Sprite","onEnable","getShopList","Global","ProtocolMgr","queryUserData","event","customData","forEach","e","spriteFrame","loader","loadRes","SpriteFrame","err","sf","parseInt","removeAllChildren","queryKnapsackNFTList","res","console","log","code","data","i","length","NFTItemNode","instantiate","getComponent","setData","addChild","PageMgr","showTipPage","message","queryKnapsackXHPList","XHPItemNode","onOpenPage","onDisable"],"mappings":";;;;;;AACAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,kBAASL,GAAGM,MADJ;AAERC,kBAASP,GAAGM,MAFJ;AAGRE,mBAAUR,GAAGS,IAHL;AAIRC,kBAAS,CAACV,GAAGW,MAAJ;AAJD,KAHP;;AAUL;;AAEA;;AAEAC,YAdK,sBAcK;AACN,aAAKC,WAAL,CAAiB,IAAjB,EAAsB,CAAtB;AACAC,eAAOC,WAAP,CAAmBC,aAAnB;AACH,KAjBI;AAkBLH,eAlBK,uBAkBOI,KAlBP,EAkBaC,UAlBb,EAkBwB;AAAA;;AACzB,aAAKR,QAAL,CAAcS,OAAd,CAAsB,aAAG;AACrBC,cAAEC,WAAF,GAAgB,IAAhB;AACH,SAFD;AAGArB,WAAGsB,MAAH,CAAUC,OAAV,CAAkB,WAAlB,EAA+BvB,GAAGwB,WAAlC,EAA+C,UAACC,GAAD,EAAMC,EAAN,EAAW;AACtD,gBAAI,CAACD,GAAL,EAAS;AACL,sBAAKf,QAAL,CAAciB,SAAST,UAAT,CAAd,EAAoCG,WAApC,GAAkDK,EAAlD;AACH;AACJ,SAJD;AAKA,aAAKlB,SAAL,CAAeoB,iBAAf;AACA,gBAAQD,SAAST,UAAT,CAAR;AACI,iBAAK,CAAL;AACIJ,uBAAOC,WAAP,CAAmBc,oBAAnB,CAAwC,UAACC,GAAD,EAAO;AAC3CC,4BAAQC,GAAR,CAAYF,GAAZ;AACA,wBAAGA,IAAIG,IAAJ,IAAU,GAAb,EAAiB;AACb,4BAAIC,OAAOJ,IAAII,IAAf;AACA,6BAAI,IAAIC,IAAI,CAAZ,EAAcA,IAAID,KAAKE,MAAvB,EAA8BD,GAA9B,EAAkC;AAC9B,gCAAIE,cAAcrC,GAAGsC,WAAH,CAAe,MAAKjC,QAApB,CAAlB;AACAgC,wCAAYE,YAAZ,CAAyB,UAAzB,EAAqCC,OAArC,CAA6CN,KAAKC,CAAL,CAA7C,EAAqD,CAArD;AACA,kCAAK3B,SAAL,CAAeiC,QAAf,CAAwBJ,WAAxB;AACH;AACJ,qBAPD,MAOK;AACDvB,+BAAO4B,OAAP,CAAeC,WAAf,CAA2Bb,IAAIc,OAA/B;AACH;AACJ,iBAZD;AAaA;AACJ,iBAAK,CAAL;AACI9B,uBAAOC,WAAP,CAAmB8B,oBAAnB,CAAwC,UAACf,GAAD,EAAO;AAC3CC,4BAAQC,GAAR,CAAYF,GAAZ;AACA,wBAAGA,IAAIG,IAAJ,IAAU,GAAb,EAAiB;AACb,4BAAIC,OAAOJ,IAAII,IAAf;AACA,6BAAI,IAAIC,IAAI,CAAZ,EAAcA,IAAID,KAAKE,MAAvB,EAA8BD,GAA9B,EAAkC;AAC9B,gCAAIW,cAAc9C,GAAGsC,WAAH,CAAe,MAAK/B,QAApB,CAAlB;AACAuC,wCAAYP,YAAZ,CAAyB,UAAzB,EAAqCC,OAArC,CAA6CN,KAAKC,CAAL,CAA7C,EAAqD,CAArD;AACA,kCAAK3B,SAAL,CAAeiC,QAAf,CAAwBK,WAAxB;AACH;AACJ,qBAPD,MAOK;AACDhC,+BAAO4B,OAAP,CAAeC,WAAf,CAA2Bb,IAAIc,OAA/B;AACH;AACJ,iBAZD;AAaA;AACJ,iBAAK,CAAL;AACI9B,uBAAO4B,OAAP,CAAeK,UAAf,CAA0B,CAA1B;AACA;AACJ;AACI;AAnCR;AAqCH,KAjEI;AAkELC,aAlEK,uBAkEM,CACV;AACD;;AApEK,CAAT","file":"KnapsackPanel.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Script\\Ui\\KnapsackPanel","sourcesContent":["\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        NFT_item:cc.Prefab,\r\n        XHP_item:cc.Prefab,\r\n        container:cc.Node,\r\n        btn_item:[cc.Sprite]\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    // onLoad () {},\r\n\r\n    onEnable(){\r\n        this.getShopList(null,0);\r\n        Global.ProtocolMgr.queryUserData();\r\n    },\r\n    getShopList(event,customData){\r\n        this.btn_item.forEach(e=>{\r\n            e.spriteFrame = null;\r\n        })\r\n        cc.loader.loadRes(\"imgs/按钮bg\", cc.SpriteFrame, (err, sf)=>{\r\n            if (!err){\r\n                this.btn_item[parseInt(customData)].spriteFrame = sf;\r\n            }\r\n        });\r\n        this.container.removeAllChildren();\r\n        switch (parseInt(customData)) {\r\n            case 0:\r\n                Global.ProtocolMgr.queryKnapsackNFTList((res)=>{\r\n                    console.log(res)\r\n                    if(res.code==200){\r\n                        let data = res.data;\r\n                        for(let i = 0;i < data.length;i++){\r\n                            let NFTItemNode = cc.instantiate(this.NFT_item);\r\n                            NFTItemNode.getComponent(\"NFT_item\").setData(data[i],2);\r\n                            this.container.addChild(NFTItemNode);\r\n                        }\r\n                    }else{\r\n                        Global.PageMgr.showTipPage(res.message);\r\n                    }\r\n                })\r\n                break;\r\n            case 1:\r\n                Global.ProtocolMgr.queryKnapsackXHPList((res)=>{\r\n                    console.log(res)\r\n                    if(res.code==200){\r\n                        let data = res.data;\r\n                        for(let i = 0;i < data.length;i++){\r\n                            let XHPItemNode = cc.instantiate(this.XHP_item);\r\n                            XHPItemNode.getComponent(\"XHP_item\").setData(data[i],2);\r\n                            this.container.addChild(XHPItemNode);\r\n                        }\r\n                    }else{\r\n                        Global.PageMgr.showTipPage(res.message);\r\n                    }\r\n                })\r\n                break;\r\n            case 2:\r\n                Global.PageMgr.onOpenPage(6);\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    },\r\n    onDisable(){\r\n    }\r\n    // update (dt) {},\r\n});\r\n"]}