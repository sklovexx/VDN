{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\Script\\Ui\\LoginPanel/assets\\Script\\Ui\\LoginPanel\\LoginPanel.js"],"names":["cc","Class","extends","Component","properties","btn_login","Node","btn_register","btn_go_login","btn_go_register","editBox_zhujici","EditBox","editBox_password","editBox_inviteCode","PanleLogin","Panle2","PanleForgetPassword","editBox_RegisterPassword","editBox_RegisterPassword2","editBox_RegisterinviteCode","editBox_InviteCodeEditBox","editBox_RegisterPassword3","editBox_RegisterPassword4","editBox_VerificationCode","editBox_mail","Register_btn_determine","Register_btn_ObtainingVerificationCode","Register_btn_register","Register_btn_break","_time","onLoad","onEnable","string","token","sys","localStorage","getItem","console","log","GameData","Global","ResourceMgr","playBgAudio","PageMgr","onClosePage","ProtocolMgr","queryUserData","SocketMgr","openSocket","queryGonggao","res2","code","find","getComponent","Label","data","title","showTipPage","message","audio","playLoginAudio","goLogin","start","active","login","myreg","test","zhujici","getZhujici","reqData","account","password","res","tokenHead","setItem","forgotPassword","goRegister","register","payPassword","channelCode","setRegisterString","i","length","push","join","breakLogin","onClickSureModify","authCode","rePassword","queryForgetPassword","onClickObtainingVerificationCode","verifyType","queryGetAuthCode","update","dt"],"mappings":";;;;;;AACAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,mBAAUL,GAAGM,IADL;AAERC,sBAAaP,GAAGM,IAFR;AAGRE,sBAAaR,GAAGM,IAHR;AAIRG,yBAAgBT,GAAGM,IAJX;AAKRI,yBAAgB,CAACV,GAAGW,OAAJ,CALR;AAMRC,0BAAiBZ,GAAGW,OANZ;AAORE,4BAAmBb,GAAGW,OAPd;AAQRG,oBAAWd,GAAGM,IARN;AASRS,gBAAOf,GAAGM,IATF;AAURU,6BAAoBhB,GAAGM,IAVf;AAWRW,kCAAyBjB,GAAGW,OAXpB;AAYRO,mCAA0BlB,GAAGW,OAZrB;AAaRQ,oCAA2BnB,GAAGW,OAbtB;AAcRS,mCAA0BpB,GAAGW,OAdrB;;AAgBRU,mCAA0BrB,GAAGW,OAhBrB;AAiBRW,mCAA0BtB,GAAGW,OAjBrB;AAkBRY,kCAAyBvB,GAAGW,OAlBpB;AAmBRa,sBAAaxB,GAAGW,OAnBR;AAoBRc,gCAAuBzB,GAAGM,IApBlB;AAqBRoB,gDAAuC1B,GAAGM,IArBlC;;AAuBRqB,+BAAsB3B,GAAGM,IAvBjB;AAwBRsB,4BAAmB5B,GAAGM,IAxBd;AAyBRuB,eAAM;AAzBE,KAHP;;AA+BL;;AAEAC,UAjCK,oBAiCK,CAET,CAnCI;AAoCLC,YApCK,sBAoCK;AACN,aAAKnB,gBAAL,CAAsBoB,MAAtB,GAA+B,EAA/B;AACA,aAAKnB,kBAAL,CAAwBmB,MAAxB,GAAiC,EAAjC;AACA,YAAIC,QAAQjC,GAAGkC,GAAH,CAAOC,YAAP,CAAoBC,OAApB,CAA4B,oBAA5B,CAAZ;AACAC,gBAAQC,GAAR,CAAYL,KAAZ;AACA,YAAGA,SAAOA,SAAO,EAAjB,EAAoB;AAChBM,qBAASN,KAAT,GAAiBA,KAAjB;AACAO,mBAAOC,WAAP,CAAmBC,WAAnB;AACAF,mBAAOG,OAAP,CAAeC,WAAf,CAA2B,CAA3B;AACAJ,mBAAOK,WAAP,CAAmBC,aAAnB;AACAN,mBAAOO,SAAP,CAAiBC,UAAjB;;AAEAR,mBAAOK,WAAP,CAAmBI,YAAnB,CAAgC,UAACC,IAAD,EAAQ;AACpC,oBAAGA,KAAKC,IAAL,IAAW,GAAd,EAAkB;AACdnD,uBAAGoD,IAAH,CAAQ,qCAAR,EAA+CC,YAA/C,CAA4DrD,GAAGsD,KAA/D,EAAsEtB,MAAtE,GAA+EkB,KAAKK,IAAL,CAAUC,KAAzF;AACH,iBAFD,MAEK;AACDhB,2BAAOG,OAAP,CAAec,WAAf,CAA2BP,KAAKQ,OAAhC;AACH;AACJ,aAND;AAOA;AACH;AACDnB,iBAASoB,KAAT,GAAiB,IAAjB;AACAnB,eAAOC,WAAP,CAAmBmB,cAAnB;AACA,aAAKC,OAAL;AACH,KA5DI;AA6DLC,SA7DK,mBA6DI,CAER,CA/DI;AAgELD,WAhEK,qBAgEI;AACL;AACA;AACA;AACA;AACA,aAAK/C,UAAL,CAAgBiD,MAAhB,GAAyB,IAAzB;AACA,aAAKhD,MAAL,CAAYgD,MAAZ,GAAqB,KAArB;AACA,aAAK/C,mBAAL,CAAyB+C,MAAzB,GAAkC,KAAlC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACH,KArFI;;AAsFL;AACAC,SAvFK,mBAuFE;AAAA;;AACH;AACA,YAAG,KAAKpD,gBAAL,CAAsBoB,MAAtB,IAAgC,EAAhC,IAAsC,KAAKnB,kBAAL,CAAwBmB,MAAxB,IAAkC,EAA3E,EACA;AACI,gBAAIiC,QAAQ,0DAAZ;AACA,gBAAG,CAACA,MAAMC,IAAN,CAAW,KAAKrD,kBAAL,CAAwBmB,MAAnC,CAAJ,EACA;AACIQ,uBAAOG,OAAP,CAAec,WAAf,CAA2B,UAA3B;AACH,aAHD,MAIA;AACI,oBAAIU,UAAU,KAAKC,UAAL,EAAd;AACA,oBAAIC,UAAU;AACVC,6BAAQ,KAAKzD,kBAAL,CAAwBmB,MADtB;AAEVuC,8BAAS,KAAK3D,gBAAL,CAAsBoB;AAFrB,iBAAd;AAIAQ,uBAAOK,WAAP,CAAmBmB,KAAnB,CAAyBK,OAAzB,EAAiC,UAACG,GAAD,EAAO;AACpC,wBAAGA,IAAIrB,IAAJ,IAAY,IAAf,EAAoB;AAChBZ,iCAASN,KAAT,GAAiBuC,IAAIjB,IAAJ,CAASkB,SAAT,GAAqB,GAArB,GAA2BD,IAAIjB,IAAJ,CAAStB,KAArD;AACAjC,2BAAGkC,GAAH,CAAOC,YAAP,CAAoBuC,OAApB,CAA4B,oBAA5B,EAAiDnC,SAASN,KAA1D;AACAO,+BAAOG,OAAP,CAAec,WAAf,CAA2Be,IAAId,OAA/B;AACAlB,+BAAOC,WAAP,CAAmBC,WAAnB;AACAF,+BAAOG,OAAP,CAAeC,WAAf,CAA2B,CAA3B;AACAJ,+BAAOK,WAAP,CAAmBC,aAAnB;AACAN,+BAAOO,SAAP,CAAiBC,UAAjB;;AAEAR,+BAAOK,WAAP,CAAmBI,YAAnB,CAAgC,UAACC,IAAD,EAAQ;AACpC,gCAAGA,KAAKC,IAAL,IAAa,IAAhB,EAAqB;AACjBd,wCAAQC,GAAR,CAAYtC,GAAGoD,IAAH,CAAQ,qCAAR,CAAZ,EAA2DF,KAAKK,IAAL,CAAUC,KAArE;AACAxD,mCAAGoD,IAAH,CAAQ,qCAAR,EAA+CC,YAA/C,CAA4DrD,GAAGsD,KAA/D,EAAsEtB,MAAtE,GAA+EkB,KAAKK,IAAL,CAAUC,KAAzF;AACH,6BAHD,MAGK;AACDhB,uCAAOG,OAAP,CAAec,WAAf,CAA2BP,KAAKQ,OAAhC;AACH;AACJ,yBAPD;AAQA;AACA;AACA;AACA;AACA;AACA,8BAAK9C,gBAAL,CAAsBoB,MAAtB,GAA+B,EAA/B;AACA,8BAAKnB,kBAAL,CAAwBmB,MAAxB,GAAiC,EAAjC;AACH,qBAxBD,MAwBK;AACDQ,+BAAOG,OAAP,CAAec,WAAf,CAA2Be,IAAId,OAA/B;AACH;AACJ,iBA5BD;AA6BH;AACJ,SA3CD,MA6CA;AACI,gBAAG,KAAK7C,kBAAL,CAAwBmB,MAAxB,IAAiC,EAApC,EACA;AACIQ,uBAAOG,OAAP,CAAec,WAAf,CAA2B,MAA3B;AACH,aAHD,MAGM,IAAG,KAAK7C,gBAAL,CAAsBoB,MAAtB,IAA+B,EAAlC,EACN;AACIQ,uBAAOG,OAAP,CAAec,WAAf,CAA2B,MAA3B;AACH;AACJ;AACJ,KA/II;;;AAiJL;AACAkB,kBAlJK,4BAkJW;AACZ,aAAK7D,UAAL,CAAgBiD,MAAhB,GAAyB,KAAzB;AACA,aAAKhD,MAAL,CAAYgD,MAAZ,GAAqB,KAArB;AACA,aAAK/C,mBAAL,CAAyB+C,MAAzB,GAAkC,IAAlC;AACH,KAtJI;;;AAwJL;AACAa,cAzJK,wBAyJO;AACR,aAAK9D,UAAL,CAAgBiD,MAAhB,GAAyB,KAAzB;AACA,aAAKhD,MAAL,CAAYgD,MAAZ,GAAqB,IAArB;AACA,aAAK/C,mBAAL,CAAyB+C,MAAzB,GAAkC,KAAlC;AACA,aAAKnD,gBAAL,CAAsBoB,MAAtB,GAA+B,EAA/B;AACA,aAAKnB,kBAAL,CAAwBmB,MAAxB,GAAiC,EAAjC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACH,KAhLI;;;AAkLL;AACA6C,YAnLK,sBAmLK;AAAA;;AACN,YAAG,KAAK5D,wBAAL,CAA8Be,MAA9B,IAAwC,EAAxC,IAA8C,KAAKd,yBAAL,CAA+Bc,MAA/B,IAAyC,EAAvF,IACD,KAAKb,0BAAL,CAAgCa,MAAhC,IAA0C,EAD5C,EAEA;AACI,gBAAG,KAAKd,yBAAL,CAA+Bc,MAA/B,IAAyC,KAAKf,wBAAL,CAA8Be,MAA1E,EACA;AACI,oBAAIiC,QAAQ,0DAAZ;AACA,oBAAG,CAACA,MAAMC,IAAN,CAAW,KAAK/C,0BAAL,CAAgCa,MAA3C,CAAJ,EACA;AACIQ,2BAAOG,OAAP,CAAec,WAAf,CAA2B,UAA3B;AACH,iBAHD,MAIA;AACA,wBAAIY,gBAAJ;AACA,wBAAG,KAAKjD,yBAAL,CAA+BY,MAA/B,IAAyC,EAA5C,EACA;AACIqC,kCAAU;AACNC,qCAAQ,KAAKnD,0BAAL,CAAgCa,MADlC;AAEN8C,yCAAY,KAAK7D,wBAAL,CAA8Be,MAFpC;AAGN+C,yCAAY,KAAK3D,yBAAL,CAA+BY;AAHrC,yBAAV;AAKH,qBAPD,MAQA;AACIqC,kCAAU;AACNC,qCAAQ,KAAKnD,0BAAL,CAAgCa,MADlC;AAEN8C,yCAAY,KAAK7D,wBAAL,CAA8Be;AAFpC,yBAAV;AAIH;;AAEDQ,2BAAOK,WAAP,CAAmBgC,QAAnB,CAA4BR,OAA5B,EAAoC,UAACG,GAAD,EAAO;AACvC,4BAAGA,IAAIrB,IAAJ,IAAU,GAAb,EAAiB;AACb;AACAnD,+BAAGkC,GAAH,CAAOC,YAAP,CAAoBuC,OAApB,CAA4B,oBAA5B,EAAiDF,IAAIjB,IAAJ,CAAStB,KAA1D;AACA;AACA;AACA;AACA,mCAAKpB,kBAAL,CAAwBmB,MAAxB,GAAiC,OAAKb,0BAAL,CAAgCa,MAAjE;AACA,mCAAKpB,gBAAL,CAAsBoB,MAAtB,GAA8B,OAAKf,wBAAL,CAA8Be,MAA5D;AACA,mCAAKgC,KAAL;AACAxB,mCAAOK,WAAP,CAAmBI,YAAnB,CAAgC,UAACC,IAAD,EAAQ;AACpC,oCAAGA,KAAKC,IAAL,IAAW,GAAd,EAAkB;AACdd,4CAAQC,GAAR,CAAYtC,GAAGoD,IAAH,CAAQ,qCAAR,CAAZ,EAA2DF,KAAKK,IAAL,CAAUC,KAArE;AACAxD,uCAAGoD,IAAH,CAAQ,qCAAR,EAA+CC,YAA/C,CAA4DrD,GAAGsD,KAA/D,EAAsEtB,MAAtE,GAA+EkB,KAAKK,IAAL,CAAUC,KAAzF;AACA,2CAAKwB,iBAAL;AACH,iCAJD,MAIK;AACDxC,2CAAOG,OAAP,CAAec,WAAf,CAA2BP,KAAKQ,OAAhC;AACH;AACJ,6BARD;AASH,yBAlBD,MAkBK;AACDlB,mCAAOG,OAAP,CAAec,WAAf,CAA2Be,IAAId,OAA/B;AACH;AACJ,qBAtBD;AAuBC;AACJ,aAhDD,MAiDA;AACIlB,uBAAOG,OAAP,CAAec,WAAf,CAA2B,OAA3B;AACH;AACJ,SAvDD,MAwDA;AACI,gBAAG,KAAKtC,0BAAL,CAAgCa,MAAhC,IAAyC,EAA5C,EACA;AACIQ,uBAAOG,OAAP,CAAec,WAAf,CAA2B,MAA3B;AACH,aAHD,MAGM,IAAG,KAAKxC,wBAAL,CAA8Be,MAA9B,IAAuC,EAA1C,EACN;AACIQ,uBAAOG,OAAP,CAAec,WAAf,CAA2B,MAA3B;AACH,aAHK,MAGA,IAAG,KAAKvC,yBAAL,CAA+Bc,MAA/B,IAAwC,EAA3C,EACN;AACIQ,uBAAOG,OAAP,CAAec,WAAf,CAA2B,QAA3B;AACH;AACJ;AACJ,KAxPI;AA0PLW,cA1PK,wBA0PO;AACR,YAAID,UAAU,EAAd;AACA,aAAI,IAAIc,IAAI,CAAZ,EAAcA,IAAE,KAAKvE,eAAL,CAAqBwE,MAArC,EAA4CD,GAA5C,EAAgD;AAC5Cd,oBAAQgB,IAAR,CAAa,KAAKzE,eAAL,CAAqBuE,CAArB,EAAwBjD,MAArC;AACH;AACD,eAAOmC,QAAQiB,IAAR,CAAa,GAAb,CAAP;AACH,KAhQI;;;AAkQL;AACAC,cAnQK,wBAmQO;AACR,aAAKvE,UAAL,CAAgBiD,MAAhB,GAAyB,IAAzB;AACA,aAAKhD,MAAL,CAAYgD,MAAZ,GAAqB,KAArB;AACA,aAAK/C,mBAAL,CAAyB+C,MAAzB,GAAkC,KAAlC;AACA,aAAKiB,iBAAL;AACH,KAxQI;;;AA0QL;AACAM,qBA3QK,+BA4QL;AAAA;;AACI,YAAG,KAAKjE,yBAAL,CAA+BW,MAA/B,IAAyC,EAAzC,IAA+C,KAAKV,yBAAL,CAA+BU,MAA/B,IAAyC,EAAxF,IACD,KAAKT,wBAAL,CAA8BS,MAA9B,IAAwC,EADvC,IAC2C,KAAKR,YAAL,CAAkBQ,MAAlB,IAA4B,EAD1E,EAEA;AACI,gBAAG,KAAKX,yBAAL,CAA+BW,MAA/B,IAAyC,KAAKV,yBAAL,CAA+BU,MAA3E,EACA;AACI,oBAAIiC,QAAQ,0DAAZ;AACA,oBAAG,CAACA,MAAMC,IAAN,CAAW,KAAK1C,YAAL,CAAkBQ,MAA7B,CAAJ,EACA;AACIQ,2BAAOG,OAAP,CAAec,WAAf,CAA2B,UAA3B;AACH,iBAHD,MAIA;AACI,wBAAIY,UAAU;AACNC,iCAAQ,KAAK9C,YAAL,CAAkBQ,MADpB;AAENuD,kCAAS,KAAKhE,wBAAL,CAA8BS,MAFjC;AAGNuC,kCAAU,KAAKlD,yBAAL,CAA+BW,MAHnC;AAINwD,oCAAW,KAAKlE,yBAAL,CAA+BU;AAJpC,qBAAd;;AAOAQ,2BAAOK,WAAP,CAAmB4C,mBAAnB,CAAuCpB,OAAvC,EAA+C,UAACG,GAAD,EAAO;AAClD,4BAAGA,IAAIrB,IAAJ,IAAU,GAAb,EAAiB;AACbX,mCAAOG,OAAP,CAAec,WAAf,CAA2B,MAA3B;AACA,mCAAK4B,UAAL;AACH,yBAHD,MAGK;AACD7C,mCAAOG,OAAP,CAAec,WAAf,CAA2Be,IAAId,OAA/B;AACH;AACJ,qBAPD;AAQH;AACJ,aAxBD,MAyBA;AACIlB,uBAAOG,OAAP,CAAec,WAAf,CAA2B,OAA3B;AACH;AACJ,SA/BD,MAgCA;AACI,gBAAG,KAAKjC,YAAL,CAAkBQ,MAAlB,IAA2B,EAA9B,EACA;AACIQ,uBAAOG,OAAP,CAAec,WAAf,CAA2B,MAA3B;AACH,aAHD,MAGM,IAAG,KAAKpC,yBAAL,CAA+BW,MAA/B,IAAwC,EAA3C,EACN;AACIQ,uBAAOG,OAAP,CAAec,WAAf,CAA2B,MAA3B;AACH,aAHK,MAGA,IAAG,KAAKnC,yBAAL,CAA+BU,MAA/B,IAAwC,EAA3C,EACN;AACIQ,uBAAOG,OAAP,CAAec,WAAf,CAA2B,QAA3B;AACH,aAHK,MAGA,IAAG,KAAKlC,wBAAL,CAA8BS,MAA9B,IAAuC,EAA1C,EACN;AACIQ,uBAAOG,OAAP,CAAec,WAAf,CAA2B,OAA3B;AACH;AACJ;AACJ,KA5TI;;;AA8TL;AACAiC,oCA/TK,8CAgUL;AACI,YAAG,KAAK7D,KAAL,GAAa,CAAhB,EACA;AACIW,mBAAOG,OAAP,CAAec,WAAf,CAA2B,OAA3B;AACA;AACH;AACD,YAAG,KAAKjC,YAAL,CAAkBQ,MAAlB,IAA4B,EAA/B,EACA;AACI,gBAAIiC,QAAQ,0DAAZ;AACA,gBAAG,CAACA,MAAMC,IAAN,CAAW,KAAK1C,YAAL,CAAkBQ,MAA7B,CAAJ,EACA;AACIQ,uBAAOG,OAAP,CAAec,WAAf,CAA2B,UAA3B;AACH,aAHD,MAIA;AACI,qBAAK5B,KAAL,GAAa,EAAb;AACA,oBAAIwC,UAAU;AACVC,6BAAQ,KAAK9C,YAAL,CAAkBQ,MADhB;AAEV2D,gCAAW;AAFD,iBAAd;;AAKAnD,uBAAOK,WAAP,CAAmB+C,gBAAnB,CAAoCvB,OAApC,EAA4C,UAACG,GAAD,EAAO;AAC/C,wBAAGA,IAAIrB,IAAJ,IAAU,GAAb,EAAiB;AACbX,+BAAOG,OAAP,CAAec,WAAf,CAA2B,MAA3B;AACH,qBAFD,MAIA;AACIjB,+BAAOG,OAAP,CAAec,WAAf,CAA2Be,IAAId,OAA/B;AACH;AACJ,iBARD;AASH;AACJ,SAxBD,MA0BA;AACIlB,mBAAOG,OAAP,CAAec,WAAf,CAA2B,QAA3B;AACH;AACJ,KAnWI;;;AAqWL;AACAuB,qBAtWK,+BAuWL;AACI,aAAK/D,wBAAL,CAA8Be,MAA9B,GAAuC,EAAvC;AACA,aAAKd,yBAAL,CAA+Bc,MAA/B,GAAwC,EAAxC;AACA,aAAKb,0BAAL,CAAgCa,MAAhC,GAAyC,EAAzC;AACA,aAAKZ,yBAAL,CAA+BY,MAA/B,GAAwC,EAAxC;;AAEA,aAAKX,yBAAL,CAA+BW,MAA/B,GAAwC,EAAxC;AACA,aAAKV,yBAAL,CAA+BU,MAA/B,GAAwC,EAAxC;AACA,aAAKT,wBAAL,CAA8BS,MAA9B,GAAuC,EAAvC;AACA,aAAKR,YAAL,CAAkBQ,MAAlB,GAA2B,EAA3B;AACH,KAjXI;AAkXL6D,UAlXK,kBAkXGC,EAlXH,EAkXO;AACR,YAAG,KAAKjE,KAAL,GAAa,CAAhB,EACA;AACI,iBAAKA,KAAL,IAAciE,EAAd;AACH;AACJ;AAvXI,CAAT","file":"LoginPanel.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Script\\Ui\\LoginPanel","sourcesContent":["\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        btn_login:cc.Node,\r\n        btn_register:cc.Node,\r\n        btn_go_login:cc.Node,\r\n        btn_go_register:cc.Node,\r\n        editBox_zhujici:[cc.EditBox],\r\n        editBox_password:cc.EditBox,\r\n        editBox_inviteCode:cc.EditBox,\r\n        PanleLogin:cc.Node,\r\n        Panle2:cc.Node,\r\n        PanleForgetPassword:cc.Node,\r\n        editBox_RegisterPassword:cc.EditBox,\r\n        editBox_RegisterPassword2:cc.EditBox,\r\n        editBox_RegisterinviteCode:cc.EditBox,\r\n        editBox_InviteCodeEditBox:cc.EditBox,\r\n\r\n        editBox_RegisterPassword3:cc.EditBox,\r\n        editBox_RegisterPassword4:cc.EditBox,\r\n        editBox_VerificationCode:cc.EditBox,\r\n        editBox_mail:cc.EditBox,\r\n        Register_btn_determine:cc.Node,\r\n        Register_btn_ObtainingVerificationCode:cc.Node,\r\n\r\n        Register_btn_register:cc.Node,\r\n        Register_btn_break:cc.Node,\r\n        _time:0,\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n       \r\n    },\r\n    onEnable(){\r\n        this.editBox_password.string = \"\";\r\n        this.editBox_inviteCode.string = \"\";\r\n        let token = cc.sys.localStorage.getItem(\"com.game.vdn.token\");\r\n        console.log(token)\r\n        if(token&&token!=\"\"){\r\n            GameData.token = token;\r\n            Global.ResourceMgr.playBgAudio();\r\n            Global.PageMgr.onClosePage(0);\r\n            Global.ProtocolMgr.queryUserData();\r\n            Global.SocketMgr.openSocket();\r\n\r\n            Global.ProtocolMgr.queryGonggao((res2)=>{\r\n                if(res2.code==200){\r\n                    cc.find(\"Canvas/Main/view/mask/label_gonggao\").getComponent(cc.Label).string = res2.data.title;\r\n                }else{\r\n                    Global.PageMgr.showTipPage(res2.message);\r\n                }\r\n            })\r\n            return;\r\n        }\r\n        GameData.audio = true;\r\n        Global.ResourceMgr.playLoginAudio();\r\n        this.goLogin();\r\n    },\r\n    start () {\r\n\r\n    },\r\n    goLogin(){\r\n        // this.btn_login.active = true;\r\n        // this.btn_go_login.active = false;\r\n        // this.btn_go_register.active = true;\r\n        // this.btn_register.active = false;\r\n        this.PanleLogin.active = true;\r\n        this.Panle2.active = false;\r\n        this.PanleForgetPassword.active = false;\r\n        // this.editBox_inviteCode.node.active = false;\r\n        // let zhujici;\r\n        // // let zhujici = \"bitter,undo,later,custom,unfold,owner,bargain,electric,rigid,ginger,range,cupboard\"\r\n        // for(let i = 0;i<this.editBox_zhujici.length;i++){\r\n        //     this.editBox_zhujici[i].enabled = true;\r\n        //     this.editBox_zhujici[i].string = \"\";\r\n        // }\r\n        // if(zhujici){\r\n        //     let zhujiciArr = zhujici.split(\",\");\r\n        //     for(let i = 0;i<this.editBox_zhujici.length;i++){\r\n        //         this.editBox_zhujici[i].string = zhujiciArr[i];\r\n        //     }\r\n        // }\r\n    },\r\n    //登录\r\n    login(){\r\n        // return;\r\n        if(this.editBox_password.string != \"\" && this.editBox_inviteCode.string != \"\")\r\n        {\r\n            var myreg = /^([a-zA-Z]|[0-9])(\\w|\\-)+@[a-zA-Z0-9]+\\.([a-zA-Z]{2,4})$/;\r\n            if(!myreg.test(this.editBox_inviteCode.string))\r\n            {\r\n                Global.PageMgr.showTipPage(\"请输入正确的邮箱\"); \r\n            }else\r\n            {\r\n                let zhujici = this.getZhujici();\r\n                let reqData = {\r\n                    account:this.editBox_inviteCode.string,\r\n                    password:this.editBox_password.string,\r\n                }\r\n                Global.ProtocolMgr.login(reqData,(res)=>{\r\n                    if(res.code != 3001){\r\n                        GameData.token = res.data.tokenHead + \" \" + res.data.token;\r\n                        cc.sys.localStorage.setItem(\"com.game.vdn.token\",GameData.token);\r\n                        Global.PageMgr.showTipPage(res.message);\r\n                        Global.ResourceMgr.playBgAudio();\r\n                        Global.PageMgr.onClosePage(0);\r\n                        Global.ProtocolMgr.queryUserData();\r\n                        Global.SocketMgr.openSocket();\r\n\r\n                        Global.ProtocolMgr.queryGonggao((res2)=>{\r\n                            if(res2.code != 3001){\r\n                                console.log(cc.find(\"Canvas/Main/view/mask/label_gonggao\"),res2.data.title)\r\n                                cc.find(\"Canvas/Main/view/mask/label_gonggao\").getComponent(cc.Label).string = res2.data.title;\r\n                            }else{\r\n                                Global.PageMgr.showTipPage(res2.message);\r\n                            }\r\n                        })\r\n                        // console.log(cc.find(\"Canvas/Main/view/mask/label_gonggao\"),res2.data.title)\r\n                        // if(cc.find(\"Canvas/Main/view/mask/label_gonggao\") != null)\r\n                        // {\r\n                        //     cc.find(\"Canvas/Main/view/mask/label_gonggao\").getComponent(cc.Label).string = res2.data.title;\r\n                        // }\r\n                        this.editBox_password.string = \"\";\r\n                        this.editBox_inviteCode.string = \"\";\r\n                    }else{\r\n                        Global.PageMgr.showTipPage(res.message);\r\n                    }\r\n                })\r\n            }\r\n        }\r\n        else\r\n        {\r\n            if(this.editBox_inviteCode.string ==\"\")\r\n            {\r\n                Global.PageMgr.showTipPage(\"邮箱为空\"); \r\n            }else if(this.editBox_password.string ==\"\")\r\n            {\r\n                Global.PageMgr.showTipPage(\"密码为空\"); \r\n            }\r\n        }\r\n    },\r\n    \r\n    //忘记密码\r\n    forgotPassword(){\r\n        this.PanleLogin.active = false;\r\n        this.Panle2.active = false;\r\n        this.PanleForgetPassword.active = true;\r\n    },\r\n\r\n    //点击登录界面注册按钮\r\n    goRegister(){\r\n        this.PanleLogin.active = false;\r\n        this.Panle2.active = true;\r\n        this.PanleForgetPassword.active = false;\r\n        this.editBox_password.string = \"\";\r\n        this.editBox_inviteCode.string = \"\";\r\n\r\n        // Global.ProtocolMgr.queryZhujici((res)=>{\r\n        //     if(res.code==200){\r\n        //         let zhujiciArr = res.data.mnemonic.split(\",\");\r\n        //         this.btn_login.active = false;\r\n        //         this.btn_go_login.active = true;\r\n        //         this.btn_go_register.active = false;\r\n        //         this.btn_register.active = true;\r\n        //         this.editBox_inviteCode.node.active = true;\r\n        //         for(let i = 0;i<this.editBox_zhujici.length;i++){\r\n        //             this.editBox_zhujici[i].string = zhujiciArr[i];\r\n        //             this.editBox_zhujici[i].enabled = false;\r\n        //         }\r\n        //     }else{\r\n        //         Global.PageMgr.showTipPage(res.message);\r\n        //     }\r\n        // });\r\n    },\r\n\r\n    //点击注册界面注册按钮\r\n    register(){\r\n        if(this.editBox_RegisterPassword.string != \"\" && this.editBox_RegisterPassword2.string != \"\"\r\n        &&this.editBox_RegisterinviteCode.string != \"\")\r\n        {\r\n            if(this.editBox_RegisterPassword2.string == this.editBox_RegisterPassword.string)\r\n            {\r\n                var myreg = /^([a-zA-Z]|[0-9])(\\w|\\-)+@[a-zA-Z0-9]+\\.([a-zA-Z]{2,4})$/;\r\n                if(!myreg.test(this.editBox_RegisterinviteCode.string))\r\n                {\r\n                    Global.PageMgr.showTipPage(\"请输入正确的邮箱\"); \r\n                }else\r\n                {\r\n                let reqData;\r\n                if(this.editBox_InviteCodeEditBox.string != \"\")\r\n                {\r\n                    reqData = {\r\n                        account:this.editBox_RegisterinviteCode.string,\r\n                        payPassword:this.editBox_RegisterPassword.string,\r\n                        channelCode:this.editBox_InviteCodeEditBox.string\r\n                    }\r\n                }else\r\n                {\r\n                    reqData = {\r\n                        account:this.editBox_RegisterinviteCode.string,\r\n                        payPassword:this.editBox_RegisterPassword.string\r\n                    }\r\n                }\r\n                \r\n                Global.ProtocolMgr.register(reqData,(res)=>{\r\n                    if(res.code==200){\r\n                        // GameData.token = res.data.token;\r\n                        cc.sys.localStorage.setItem(\"com.game.vdn.token\",res.data.token);\r\n                        // Global.PageMgr.showTipPage(res.message);\r\n                        // Global.ResourceMgr.playBgAudio();\r\n                        // Global.PageMgr.onClosePage(0);\r\n                        this.editBox_inviteCode.string = this.editBox_RegisterinviteCode.string;\r\n                        this.editBox_password.string =this.editBox_RegisterPassword.string;\r\n                        this.login();\r\n                        Global.ProtocolMgr.queryGonggao((res2)=>{\r\n                            if(res2.code==200){\r\n                                console.log(cc.find(\"Canvas/Main/view/mask/label_gonggao\"),res2.data.title)\r\n                                cc.find(\"Canvas/Main/view/mask/label_gonggao\").getComponent(cc.Label).string = res2.data.title;\r\n                                this.setRegisterString();\r\n                            }else{\r\n                                Global.PageMgr.showTipPage(res2.message);\r\n                            }\r\n                        })\r\n                    }else{\r\n                        Global.PageMgr.showTipPage(res.message);\r\n                    }\r\n                })\r\n                }\r\n            }else\r\n            {\r\n                Global.PageMgr.showTipPage(\"密码不一致\"); \r\n            }\r\n        }else\r\n        {\r\n            if(this.editBox_RegisterinviteCode.string ==\"\")\r\n            {\r\n                Global.PageMgr.showTipPage(\"邮箱为空\"); \r\n            }else if(this.editBox_RegisterPassword.string ==\"\")\r\n            {\r\n                Global.PageMgr.showTipPage(\"密码为空\"); \r\n            }else if(this.editBox_RegisterPassword2.string ==\"\")\r\n            {\r\n                Global.PageMgr.showTipPage(\"确定密码为空\"); \r\n            }\r\n        }\r\n    },\r\n\r\n    getZhujici(){\r\n        let zhujici = [];\r\n        for(let i = 0;i<this.editBox_zhujici.length;i++){\r\n            zhujici.push(this.editBox_zhujici[i].string);\r\n        }\r\n        return zhujici.join(\",\");\r\n    },\r\n\r\n    //返回登录\r\n    breakLogin(){\r\n        this.PanleLogin.active = true;\r\n        this.Panle2.active = false;\r\n        this.PanleForgetPassword.active = false;\r\n        this.setRegisterString();\r\n    },\r\n\r\n    //确定修改密码\r\n    onClickSureModify()\r\n    {\r\n        if(this.editBox_RegisterPassword3.string != \"\" && this.editBox_RegisterPassword4.string != \"\"\r\n        &&this.editBox_VerificationCode.string != \"\"&&this.editBox_mail.string != \"\")\r\n        {\r\n            if(this.editBox_RegisterPassword3.string == this.editBox_RegisterPassword4.string)\r\n            {\r\n                var myreg = /^([a-zA-Z]|[0-9])(\\w|\\-)+@[a-zA-Z0-9]+\\.([a-zA-Z]{2,4})$/;\r\n                if(!myreg.test(this.editBox_mail.string))\r\n                {\r\n                    Global.PageMgr.showTipPage(\"请输入正确的邮箱\"); \r\n                }else\r\n                {\r\n                    let reqData = {\r\n                            account:this.editBox_mail.string,\r\n                            authCode:this.editBox_VerificationCode.string,\r\n                            password :this.editBox_RegisterPassword3.string,\r\n                            rePassword:this.editBox_RegisterPassword4.string\r\n                        };\r\n\r\n                    Global.ProtocolMgr.queryForgetPassword(reqData,(res)=>{\r\n                        if(res.code==200){\r\n                            Global.PageMgr.showTipPage(\"修改成功\");\r\n                            this.breakLogin();\r\n                        }else{\r\n                            Global.PageMgr.showTipPage(res.message);\r\n                        }\r\n                    });\r\n                }\r\n            }else\r\n            {\r\n                Global.PageMgr.showTipPage(\"密码不一致\"); \r\n            }\r\n        }else\r\n        {\r\n            if(this.editBox_mail.string ==\"\")\r\n            {\r\n                Global.PageMgr.showTipPage(\"邮箱为空\"); \r\n            }else if(this.editBox_RegisterPassword3.string ==\"\")\r\n            {\r\n                Global.PageMgr.showTipPage(\"密码为空\"); \r\n            }else if(this.editBox_RegisterPassword4.string ==\"\")\r\n            {\r\n                Global.PageMgr.showTipPage(\"确定密码为空\"); \r\n            }else if(this.editBox_VerificationCode.string ==\"\")\r\n            {\r\n                Global.PageMgr.showTipPage(\"验证码为空\"); \r\n            }\r\n        }\r\n    },\r\n\r\n    //获取验证码\r\n    onClickObtainingVerificationCode()\r\n    {\r\n        if(this._time > 0)\r\n        {\r\n            Global.PageMgr.showTipPage(\"请稍后再试\"); \r\n            return;\r\n        }\r\n        if(this.editBox_mail.string != \"\")\r\n        {\r\n            var myreg = /^([a-zA-Z]|[0-9])(\\w|\\-)+@[a-zA-Z0-9]+\\.([a-zA-Z]{2,4})$/;\r\n            if(!myreg.test(this.editBox_mail.string))\r\n            {\r\n                Global.PageMgr.showTipPage(\"请输入正确的邮箱\"); \r\n            }else\r\n            {\r\n                this._time = 30;\r\n                let reqData = {\r\n                    account:this.editBox_mail.string,\r\n                    verifyType:1,\r\n                };\r\n                \r\n                Global.ProtocolMgr.queryGetAuthCode(reqData,(res)=>{\r\n                    if(res.code==200){\r\n                        Global.PageMgr.showTipPage(\"获取成功\");\r\n                    }\r\n                    else\r\n                    {\r\n                        Global.PageMgr.showTipPage(res.message);\r\n                    }\r\n                });\r\n            }\r\n        }\r\n        else\r\n        {\r\n            Global.PageMgr.showTipPage(\"邮箱不能为空\"); \r\n        }\r\n    },\r\n\r\n    //设置文本框空值\r\n    setRegisterString()\r\n    {\r\n        this.editBox_RegisterPassword.string = \"\";\r\n        this.editBox_RegisterPassword2.string = \"\";\r\n        this.editBox_RegisterinviteCode.string = \"\";\r\n        this.editBox_InviteCodeEditBox.string = \"\";\r\n\r\n        this.editBox_RegisterPassword3.string = \"\";\r\n        this.editBox_RegisterPassword4.string = \"\";\r\n        this.editBox_VerificationCode.string = \"\";\r\n        this.editBox_mail.string = \"\";\r\n    },\r\n    update (dt) {\r\n        if(this._time > 0)\r\n        {\r\n            this._time -= dt;\r\n        }\r\n    },\r\n});\r\n"]}