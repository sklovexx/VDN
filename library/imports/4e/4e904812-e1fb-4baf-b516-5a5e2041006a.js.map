{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\Script\\Ui\\LoginPanel/assets\\Script\\Ui\\LoginPanel\\LoginPanel.js"],"names":["cc","Class","extends","Component","properties","btn_login","Node","btn_register","btn_go_login","btn_go_register","editBox_zhujici","EditBox","editBox_password","editBox_inviteCode","PanleLogin","Panle2","PanleForgetPassword","editBox_RegisterPassword","editBox_RegisterPassword2","editBox_RegisterinviteCode","editBox_InviteCodeEditBox","editBox_RegisterPassword3","editBox_RegisterPassword4","editBox_VerificationCode","editBox_mail","Register_btn_determine","Register_btn_ObtainingVerificationCode","Register_btn_register","Register_btn_break","_time","onLoad","onEnable","string","token","sys","localStorage","getItem","GameData","Global","ResourceMgr","playBgAudio","PageMgr","onClosePage","ProtocolMgr","queryGonggao","res2","code","find","getComponent","Label","data","title","showTipPage","message","audio","playLoginAudio","goLogin","start","active","zhujici","i","length","enabled","zhujiciArr","split","login","myreg","test","getZhujici","reqData","account","password","res","tokenHead","setItem","forgotPassword","goRegister","register","payPassword","channelCode","console","log","setRegisterString","push","join","breakLogin","onClickSureModify","authCode","rePassword","queryForgetPassword","onClickObtainingVerificationCode","verifyType","queryGetAuthCode","update","dt"],"mappings":"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","file":"LoginPanel.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Script\\Ui\\LoginPanel","sourcesContent":["\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        btn_login:cc.Node,\n        btn_register:cc.Node,\n        btn_go_login:cc.Node,\n        btn_go_register:cc.Node,\n        editBox_zhujici:[cc.EditBox],\n        editBox_password:cc.EditBox,\n        editBox_inviteCode:cc.EditBox,\n        PanleLogin:cc.Node,\n        Panle2:cc.Node,\n        PanleForgetPassword:cc.Node,\n        editBox_RegisterPassword:cc.EditBox,\n        editBox_RegisterPassword2:cc.EditBox,\n        editBox_RegisterinviteCode:cc.EditBox,\n        editBox_InviteCodeEditBox:cc.EditBox,\n\n        editBox_RegisterPassword3:cc.EditBox,\n        editBox_RegisterPassword4:cc.EditBox,\n        editBox_VerificationCode:cc.EditBox,\n        editBox_mail:cc.EditBox,\n        Register_btn_determine:cc.Node,\n        Register_btn_ObtainingVerificationCode:cc.Node,\n\n        Register_btn_register:cc.Node,\n        Register_btn_break:cc.Node,\n        _time:0,\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad () {\n       \n    },\n    onEnable(){\n        this.editBox_password.string = \"\";\n        this.editBox_inviteCode.string = \"\";\n        let token = cc.sys.localStorage.getItem(\"com.game.vdn.token\");\n        // console.log(token)\n        if(token&&token!=\"\"){\n            GameData.token = token;\n            Global.ResourceMgr.playBgAudio();\n            Global.PageMgr.onClosePage(0);\n            Global.ProtocolMgr.queryGonggao((res2)=>{\n                if(res2.code==200){\n                    cc.find(\"Canvas/Main/view/mask/label_gonggao\").getComponent(cc.Label).string = res2.data.title;\n                }else{\n                    Global.PageMgr.showTipPage(res2.message);\n                }\n            })\n            return;\n        }\n        GameData.audio = true;\n        Global.ResourceMgr.playLoginAudio();\n        this.goLogin();\n    },\n    start () {\n\n    },\n    goLogin(){\n        // this.btn_login.active = true;\n        // this.btn_go_login.active = false;\n        // this.btn_go_register.active = true;\n        // this.btn_register.active = false;\n        this.PanleLogin.active = true;\n        this.Panle2.active = false;\n        this.PanleForgetPassword.active = false;\n        // this.editBox_inviteCode.node.active = false;\n        let zhujici;\n        // let zhujici = \"bitter,undo,later,custom,unfold,owner,bargain,electric,rigid,ginger,range,cupboard\"\n        for(let i = 0;i<this.editBox_zhujici.length;i++){\n            this.editBox_zhujici[i].enabled = true;\n            this.editBox_zhujici[i].string = \"\";\n        }\n        if(zhujici){\n            let zhujiciArr = zhujici.split(\",\");\n            for(let i = 0;i<this.editBox_zhujici.length;i++){\n                this.editBox_zhujici[i].string = zhujiciArr[i];\n            }\n        }\n    },\n    //登录\n    login(){\n        if(this.editBox_password.string != \"\" && this.editBox_inviteCode.string != \"\")\n        {\n            var myreg = /^([a-zA-Z]|[0-9])(\\w|\\-)+@[a-zA-Z0-9]+\\.([a-zA-Z]{2,4})$/;\n            if(!myreg.test(this.editBox_inviteCode.string))\n            {\n                Global.PageMgr.showTipPage(\"请输入正确的邮箱\"); \n            }else\n            {\n                let zhujici = this.getZhujici();\n                let reqData = {\n                    account:this.editBox_inviteCode.string,\n                    password:this.editBox_password.string,\n                }\n                Global.ProtocolMgr.login(reqData,(res)=>{\n                    if(res.code != 3001){\n                        GameData.token = res.data.tokenHead + \" \" + res.data.token;\n                        cc.sys.localStorage.setItem(\"com.game.vdn.token\",GameData.token);\n                        Global.PageMgr.showTipPage(res.message);\n                        Global.ResourceMgr.playBgAudio();\n                        Global.PageMgr.onClosePage(0);\n                        // Global.ProtocolMgr.queryGonggao((res2)=>{\n                        //     if(res2.code != 3001){\n                        //         console.log(cc.find(\"Canvas/Main/view/mask/label_gonggao\"),res2.data.title)\n                        //         cc.find(\"Canvas/Main/view/mask/label_gonggao\").getComponent(cc.Label).string = res2.data.title;\n                        //     }else{\n                        //         Global.PageMgr.showTipPage(res2.message);\n                        //     }\n                        // })\n                        // console.log(cc.find(\"Canvas/Main/view/mask/label_gonggao\"),res2.data.title)\n                        if(cc.find(\"Canvas/Main/view/mask/label_gonggao\") != null)\n                        {\n                            cc.find(\"Canvas/Main/view/mask/label_gonggao\").getComponent(cc.Label).string = res2.data.title;\n                        }\n                        this.editBox_password.string = \"\";\n                        this.editBox_inviteCode.string = \"\";\n                    }else{\n                        Global.PageMgr.showTipPage(res.message);\n                    }\n                })\n            }\n        }\n        else\n        {\n            if(this.editBox_inviteCode.string ==\"\")\n            {\n                Global.PageMgr.showTipPage(\"邮箱为空\"); \n            }else if(this.editBox_password.string ==\"\")\n            {\n                Global.PageMgr.showTipPage(\"密码为空\"); \n            }\n        }\n    },\n    \n    //忘记密码\n    forgotPassword(){\n        this.PanleLogin.active = false;\n        this.Panle2.active = false;\n        this.PanleForgetPassword.active = true;\n    },\n\n    //点击登录界面注册按钮\n    goRegister(){\n        this.PanleLogin.active = false;\n        this.Panle2.active = true;\n        this.PanleForgetPassword.active = false;\n        this.editBox_password.string = \"\";\n        this.editBox_inviteCode.string = \"\";\n\n        // Global.ProtocolMgr.queryZhujici((res)=>{\n        //     if(res.code==200){\n        //         let zhujiciArr = res.data.mnemonic.split(\",\");\n        //         this.btn_login.active = false;\n        //         this.btn_go_login.active = true;\n        //         this.btn_go_register.active = false;\n        //         this.btn_register.active = true;\n        //         this.editBox_inviteCode.node.active = true;\n        //         for(let i = 0;i<this.editBox_zhujici.length;i++){\n        //             this.editBox_zhujici[i].string = zhujiciArr[i];\n        //             this.editBox_zhujici[i].enabled = false;\n        //         }\n        //     }else{\n        //         Global.PageMgr.showTipPage(res.message);\n        //     }\n        // });\n    },\n\n    //点击注册界面注册按钮\n    register(){\n        if(this.editBox_RegisterPassword.string != \"\" && this.editBox_RegisterPassword2.string != \"\"\n        &&this.editBox_RegisterinviteCode.string != \"\")\n        {\n            if(this.editBox_RegisterPassword2.string == this.editBox_RegisterPassword.string)\n            {\n                var myreg = /^([a-zA-Z]|[0-9])(\\w|\\-)+@[a-zA-Z0-9]+\\.([a-zA-Z]{2,4})$/;\n                if(!myreg.test(this.editBox_RegisterinviteCode.string))\n                {\n                    Global.PageMgr.showTipPage(\"请输入正确的邮箱\"); \n                }else\n                {\n                let reqData;\n                if(this.editBox_InviteCodeEditBox.string != \"\")\n                {\n                    reqData = {\n                        account:this.editBox_RegisterinviteCode.string,\n                        payPassword:this.editBox_RegisterPassword.string,\n                        channelCode:this.editBox_InviteCodeEditBox.string\n                    }\n                }else\n                {\n                    reqData = {\n                        account:this.editBox_RegisterinviteCode.string,\n                        payPassword:this.editBox_RegisterPassword.string\n                    }\n                }\n                \n                Global.ProtocolMgr.register(reqData,(res)=>{\n                    if(res.code==200){\n                        // GameData.token = res.data.token;\n                        cc.sys.localStorage.setItem(\"com.game.vdn.token\",res.data.token);\n                        // Global.PageMgr.showTipPage(res.message);\n                        // Global.ResourceMgr.playBgAudio();\n                        // Global.PageMgr.onClosePage(0);\n                        this.editBox_inviteCode.string = this.editBox_RegisterinviteCode.string;\n                        this.editBox_password.string =this.editBox_RegisterPassword.string;\n                        this.login();\n                        Global.ProtocolMgr.queryGonggao((res2)=>{\n                            if(res2.code==200){\n                                console.log(cc.find(\"Canvas/Main/view/mask/label_gonggao\"),res2.data.title)\n                                cc.find(\"Canvas/Main/view/mask/label_gonggao\").getComponent(cc.Label).string = res2.data.title;\n                                this.setRegisterString();\n                            }else{\n                                Global.PageMgr.showTipPage(res2.message);\n                            }\n                        })\n                    }else{\n                        Global.PageMgr.showTipPage(res.message);\n                    }\n                })\n                }\n            }else\n            {\n                Global.PageMgr.showTipPage(\"密码不一致\"); \n            }\n        }else\n        {\n            if(this.editBox_RegisterinviteCode.string ==\"\")\n            {\n                Global.PageMgr.showTipPage(\"邮箱为空\"); \n            }else if(this.editBox_RegisterPassword.string ==\"\")\n            {\n                Global.PageMgr.showTipPage(\"密码为空\"); \n            }else if(this.editBox_RegisterPassword2.string ==\"\")\n            {\n                Global.PageMgr.showTipPage(\"确定密码为空\"); \n            }\n        }\n    },\n\n    getZhujici(){\n        let zhujici = [];\n        for(let i = 0;i<this.editBox_zhujici.length;i++){\n            zhujici.push(this.editBox_zhujici[i].string);\n        }\n        return zhujici.join(\",\");\n    },\n\n    //返回登录\n    breakLogin(){\n        this.PanleLogin.active = true;\n        this.Panle2.active = false;\n        this.PanleForgetPassword.active = false;\n        this.setRegisterString();\n    },\n\n    //确定修改密码\n    onClickSureModify()\n    {\n        if(this.editBox_RegisterPassword3.string != \"\" && this.editBox_RegisterPassword4.string != \"\"\n        &&this.editBox_VerificationCode.string != \"\"&&this.editBox_mail.string != \"\")\n        {\n            if(this.editBox_RegisterPassword3.string == this.editBox_RegisterPassword4.string)\n            {\n                var myreg = /^([a-zA-Z]|[0-9])(\\w|\\-)+@[a-zA-Z0-9]+\\.([a-zA-Z]{2,4})$/;\n                if(!myreg.test(this.editBox_mail.string))\n                {\n                    Global.PageMgr.showTipPage(\"请输入正确的邮箱\"); \n                }else\n                {\n                    let reqData = {\n                            account:this.editBox_mail.string,\n                            authCode:this.editBox_VerificationCode.string,\n                            password :this.editBox_RegisterPassword3.string,\n                            rePassword:this.editBox_RegisterPassword4.string\n                        };\n\n                    Global.ProtocolMgr.queryForgetPassword(reqData,(res)=>{\n                        if(res.code==200){\n                            Global.PageMgr.showTipPage(\"修改成功\");\n                            this.breakLogin();\n                        }else{\n                            Global.PageMgr.showTipPage(res.message);\n                        }\n                    });\n                }\n            }else\n            {\n                Global.PageMgr.showTipPage(\"密码不一致\"); \n            }\n        }else\n        {\n            if(this.editBox_mail.string ==\"\")\n            {\n                Global.PageMgr.showTipPage(\"邮箱为空\"); \n            }else if(this.editBox_RegisterPassword3.string ==\"\")\n            {\n                Global.PageMgr.showTipPage(\"密码为空\"); \n            }else if(this.editBox_RegisterPassword4.string ==\"\")\n            {\n                Global.PageMgr.showTipPage(\"确定密码为空\"); \n            }else if(this.editBox_VerificationCode.string ==\"\")\n            {\n                Global.PageMgr.showTipPage(\"验证码为空\"); \n            }\n        }\n    },\n\n    //获取验证码\n    onClickObtainingVerificationCode()\n    {\n        if(this._time > 0)\n        {\n            Global.PageMgr.showTipPage(\"请稍后再试\"); \n            return;\n        }\n        if(this.editBox_mail.string != \"\")\n        {\n            var myreg = /^([a-zA-Z]|[0-9])(\\w|\\-)+@[a-zA-Z0-9]+\\.([a-zA-Z]{2,4})$/;\n            if(!myreg.test(this.editBox_mail.string))\n            {\n                Global.PageMgr.showTipPage(\"请输入正确的邮箱\"); \n            }else\n            {\n                this._time = 30;\n                let reqData = {\n                    account:this.editBox_mail.string,\n                    verifyType:1,\n                };\n                \n                Global.ProtocolMgr.queryGetAuthCode(reqData,(res)=>{\n                    if(res.code==200){\n                        Global.PageMgr.showTipPage(\"获取成功\");\n                    }\n                    else\n                    {\n                        Global.PageMgr.showTipPage(res.message);\n                    }\n                });\n            }\n        }\n        else\n        {\n            Global.PageMgr.showTipPage(\"邮箱不能为空\"); \n        }\n    },\n\n    //设置文本框空值\n    setRegisterString()\n    {\n        this.editBox_RegisterPassword.string = \"\";\n        this.editBox_RegisterPassword2.string = \"\";\n        this.editBox_RegisterinviteCode.string = \"\";\n        this.editBox_InviteCodeEditBox.string = \"\";\n\n        this.editBox_RegisterPassword3.string = \"\";\n        this.editBox_RegisterPassword4.string = \"\";\n        this.editBox_VerificationCode.string = \"\";\n        this.editBox_mail.string = \"\";\n    },\n    update (dt) {\n        if(this._time > 0)\n        {\n            this._time -= dt;\n        }\n    },\n});\n"]}