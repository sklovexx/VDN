{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\NiuNiu\\script\\views/assets\\NiuNiu\\script\\views\\AlertBindFBCtrl.js"],"names":["ViewBase","require","DataMgr","Utils","cc","Class","extends","properties","btnLogin","Button","btnCollect","btnClose","labelCoins","Label","_showType","showType","type","Integer","set","t","setType","get","act","node","active","onLoad","string","getThousandSeparatorString","GlobalNiuNiu","config","BIND_FB_COINS","onEnable","eventMgr","on","EVENT_BIND_FB_SUC","onBindFbSuc","onDisable","off","onBtnLoginFb","gameMgr","loginFb","onBtnCollect","uiUpdater","updateUserCoins","onBtnClose"],"mappings":";;;;AAAA;;;;AAIA;;AAEA,IAAIA,WAAWC,QAAQ,sBAAR,CAAf;AACA,IAAIC,UAAUD,QAAQ,qBAAR,CAAd;AACA,IAAIE,QAAQF,QAAQ,wBAAR,CAAZ;;AAEAG,GAAGC,KAAH,CAAS;AACLC,aAASN,QADJ;;AAGLO,gBAAY;AACRC,kBAAUJ,GAAGK,MADL;AAERC,oBAAYN,GAAGK,MAFP;AAGRE,kBAAUP,GAAGK,MAHL;AAIRG,oBAAYR,GAAGS,KAJP;;AAMRC,mBAAW,CANH;AAORC,kBAAS;AACLC,kBAAMZ,GAAGa,OADJ;AAELC,eAFK,eAEDC,CAFC,EAEC;AACF,qBAAKC,OAAL,CAAaD,CAAb;AACH,aAJI;AAKLE,eALK,iBAKA;AACD,uBAAO,KAAKP,SAAZ;AACH;AAPI;AAPD,KAHP;;AAqBL;;;;AAIAM,WAzBK,mBAyBGD,CAzBH,EAyBK;AACN,aAAKL,SAAL,GAAiBK,CAAjB;AACA,YAAIG,MAAM,KAAV;AACA,YAAIH,KAAK,CAAT,EAAW;AACPG,kBAAM,IAAN;AACH;AACD,aAAKd,QAAL,CAAce,IAAd,CAAmBC,MAAnB,GAA4BF,GAA5B;AACA,aAAKX,QAAL,CAAcY,IAAd,CAAmBC,MAAnB,GAA4BF,GAA5B;AACA,aAAKZ,UAAL,CAAgBa,IAAhB,CAAqBC,MAArB,GAA8B,CAACF,GAA/B;AACH,KAlCI;AAoCLG,UApCK,oBAoCG;AACJ,aAAKb,UAAL,CAAgBc,MAAhB,GAAyB,MAAMvB,MAAMwB,0BAAN,CAAiCC,aAAaC,MAAb,CAAoBC,aAArD,CAA/B;AACH,KAtCI;AAwCLC,YAxCK,sBAwCK;AACNH,qBAAaI,QAAb,CAAsBC,EAAtB,CAAyBL,aAAaC,MAAb,CAAoBK,iBAA7C,EAAgE,KAAKC,WAArE,EAAkF,IAAlF;AAEH,KA3CI;AA6CLC,aA7CK,uBA6CM;AACPR,qBAAaI,QAAb,CAAsBK,GAAtB,CAA0BT,aAAaC,MAAb,CAAoBK,iBAA9C,EAAiE,KAAKC,WAAtE,EAAmF,IAAnF;AACH,KA/CI;AAiDLA,eAjDK,yBAiDQ;AACT,aAAKf,OAAL,CAAa,CAAb;AACH,KAnDI;AAqDLkB,gBArDK,0BAqDS;AACVV,qBAAaW,OAAb,CAAqBC,OAArB,CAA6B,IAA7B;AACH,KAvDI;AAyDLC,gBAzDK,0BAyDS;AACVb,qBAAac,SAAb,CAAuBC,eAAvB;AACA,aAAKC,UAAL;AACH;AA5DI,CAAT","file":"AlertBindFBCtrl.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\NiuNiu\\script\\views","sourcesContent":["/**\n * Created by skyxu on 2018/7/19.\n */\n\n\"use strict\";\n\nlet ViewBase = require(\"./../common/ViewBase\");\nlet DataMgr = require(\"./../common/DataMgr\");\nlet Utils = require(\"./../common/UtilsOther\");\n\ncc.Class({\n    extends: ViewBase,\n\n    properties: {\n        btnLogin: cc.Button,\n        btnCollect: cc.Button,\n        btnClose: cc.Button,\n        labelCoins: cc.Label,\n\n        _showType: 0,\n        showType:{\n            type: cc.Integer,\n            set(t){\n                this.setType(t);\n            },\n            get(){\n                return this._showType;\n            }\n        }\n    },\n\n    /**\n     *\n     * @param t{0:login 1:collect}\n     */\n    setType(t){\n        this._showType = t;\n        let act = false;\n        if (t <= 0){\n            act = true;\n        }\n        this.btnLogin.node.active = act;\n        this.btnClose.node.active = act;\n        this.btnCollect.node.active = !act;\n    },\n\n    onLoad(){\n        this.labelCoins.string = \"+\" + Utils.getThousandSeparatorString(GlobalNiuNiu.config.BIND_FB_COINS);\n    },\n\n    onEnable(){\n        GlobalNiuNiu.eventMgr.on(GlobalNiuNiu.config.EVENT_BIND_FB_SUC, this.onBindFbSuc, this);\n\n    },\n\n    onDisable(){\n        GlobalNiuNiu.eventMgr.off(GlobalNiuNiu.config.EVENT_BIND_FB_SUC, this.onBindFbSuc, this);\n    },\n\n    onBindFbSuc(){\n        this.setType(1);\n    },\n\n    onBtnLoginFb(){\n        GlobalNiuNiu.gameMgr.loginFb(true);\n    },\n\n    onBtnCollect(){\n        GlobalNiuNiu.uiUpdater.updateUserCoins();\n        this.onBtnClose();\n    }\n});\n"]}