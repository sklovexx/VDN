{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\Script\\Ui\\NongChang/assets\\Script\\Ui\\NongChang\\NongChangPanel.js"],"names":["cc","Class","extends","Component","properties","content","Node","item","Prefab","ToggleContainer","SubPanel","onLoad","director","GlobalEvent","on","onUpdateZhongZiData","onUpdateGuoShiData","onUpdateShangChengData","currentCount","maxCount","forEach","e","EventType","TOUCH_END","toggleChange","name","onDestroy","off","start","children","value","destroy","backPack","GameData","ZhongZiData","table","node","instantiate","parent","id","loader","loadRes","dataFunc","queryValue","err","res","console","error","spriteFrame","SpriteFrame","getChildByName","getComponent","Sprite","Label","string","count","active","GuoShiData","emit","ShangChengData","EditBox","getMyDate","Global","ProtocolMgr","buyZhongZi","addCount","PageMgr","showTipPage","minusCount","changeCount","event","onEnable","queryZhongZi","onDisable","Toggle","isChecked","color","closePage","onClosePage","openSubPanel","customEventData","closeSubPanel","tab","queryGuoShi","log","queryShangCheng","update","dt"],"mappings":"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","file":"NongChangPanel.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Script\\Ui\\NongChang","sourcesContent":["\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        content:cc.Node,\n        item:cc.Prefab,\n        ToggleContainer:[cc.Node],\n        SubPanel:[cc.Node]\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad () {\n        cc.director.GlobalEvent.on(\"ZhongZiData\",this.onUpdateZhongZiData,this)\n        cc.director.GlobalEvent.on(\"GuoShiData\",this.onUpdateGuoShiData,this)\n        cc.director.GlobalEvent.on(\"ShangChengData\",this.onUpdateShangChengData,this)\n        this.currentCount = 0;\n        this.maxCount = 999;\n        this.ToggleContainer.forEach(e =>{\n            e.on(cc.Node.EventType.TOUCH_END,()=>{\n                this.toggleChange(e.name)\n            })\n        })\n    },\n    onDestroy(){\n        cc.director.GlobalEvent.off(\"ZhongZiData\")\n        cc.director.GlobalEvent.off(\"GuoShiData\")\n        cc.director.GlobalEvent.off(\"ShangChengData\")\n    },\n    start () {\n\n    },\n    onUpdateZhongZiData(){\n        let children = this.content.children;\n        children.forEach(value =>{\n            value.destroy();\n        })\n        let backPack = GameData.ZhongZiData;\n        let table = \"zhongzi\"\n        backPack.forEach(value => {\n            let node = cc.instantiate(this.item);\n            node.parent = this.content;\n            let id = value.id + '';\n            cc.loader.loadRes('NongChang/'+dataFunc.queryValue(table,\"picture\",id),(err,res)=>{\n                if(err){\n                    console.error(err);\n                    return;\n                }\n                let spriteFrame = new cc.SpriteFrame(res)\n                node.getChildByName('Bg').getChildByName('Icon').getComponent(cc.Sprite).spriteFrame = spriteFrame\n            })\n            node.getChildByName('Bg').getChildByName('Count').getComponent(cc.Label).string = value.count\n            node.getChildByName('Name').getComponent(cc.Label).string = dataFunc.queryValue(table,\"name\",id)+'种子'\n            node.getChildByName('Reward').getComponent(cc.Label).string = '收获'+dataFunc.queryValue(table,\"reward\",id)+'个'+dataFunc.queryValue(table,\"name\",id)\n            node.getChildByName('Price').active = true;\n            node.getChildByName('Price').getComponent(cc.Label).string = '价格'+dataFunc.queryValue(table,\"price\",id)\n        })\n        this.node.getChildByName('Sale').active = false;\n    },\n    onUpdateGuoShiData(){\n        let children = this.content.children;\n        children.forEach(value =>{\n            value.destroy();\n        })\n        let backPack = GameData.GuoShiData;\n        let table = \"zhongzi\"\n        backPack.forEach(value => {\n            let node = cc.instantiate(this.item);\n            node.parent = this.content;\n            let id = value.id + '';\n            cc.loader.loadRes('NongChang/'+dataFunc.queryValue(table,\"picture\",id),(err,res)=>{\n                if(err){\n                    console.error(err);\n                    return;\n                }\n                let spriteFrame = new cc.SpriteFrame(res)\n                node.getChildByName('Bg').getChildByName('Icon').getComponent(cc.Sprite).spriteFrame = spriteFrame\n            })\n            node.getChildByName('Bg').getChildByName('Count').getComponent(cc.Label).string = value.count\n            node.getChildByName('Name').getComponent(cc.Label).string = dataFunc.queryValue(table,\"name\",id)\n            node.getChildByName('Reward').getComponent(cc.Label).string = '收获'+dataFunc.queryValue(table,\"reward\",id)+'个'+dataFunc.queryValue(table,\"name\",id)\n        })\n        this.node.getChildByName('Sale').active = true;\n        cc.director.GlobalEvent.emit(\"TotalReward\",{})\n    },\n    onUpdateShangChengData(){\n        let children = this.content.children;\n        children.forEach(value =>{\n            value.destroy();\n        })\n        let backPack = GameData.ShangChengData;\n        let table = \"zhongzi\"\n        backPack.forEach(value => {\n            let node = cc.instantiate(this.item);\n            node.parent = this.content;\n            let id = value.id + '';\n            cc.loader.loadRes('NongChang/'+dataFunc.queryValue(table,\"picture\",id),(err,res)=>{\n                if(err){\n                    console.error(err);\n                    return;\n                }\n                let spriteFrame = new cc.SpriteFrame(res)\n                node.getChildByName('Bg').getChildByName('Icon').getComponent(cc.Sprite).spriteFrame = spriteFrame\n                node.getChildByName('Buy').off(cc.Node.EventType.TOUCH_END)\n                node.getChildByName('Buy').on(cc.Node.EventType.TOUCH_END,()=>{\n                    this.SubPanel[0].active = true;\n                    this.currentCount = 1\n                    cc.director.GlobalEvent.on(\"ShangChengCount\",()=>{\n                        this.SubPanel[0].getChildByName('Count').getComponent(cc.EditBox).string = this.currentCount\n                    },this)\n                    this.maxCount = 999\n                    cc.director.GlobalEvent.emit(\"ShangChengCount\",{})\n                    this.SubPanel[0].getChildByName('Icon').getComponent(cc.Sprite).spriteFrame = spriteFrame\n                    this.SubPanel[0].getChildByName('Title').getComponent(cc.Label).string = dataFunc.queryValue(table,\"name\",id)\n                    this.SubPanel[0].getChildByName('Price').getComponent(cc.Label).string = '每个果实价值：'+dataFunc.queryValue(table,\"reward\",id)\n                    this.SubPanel[0].getChildByName('Reward').getComponent(cc.Label).string = '每个果实价值：'+dataFunc.queryValue(table,\"reward\",id)\n                    this.SubPanel[0].getChildByName('Time').getComponent(cc.Label).string = '成熟时间：'+dataFunc.getMyDate(dataFunc.queryValue(table,\"time\",id))\n                    this.SubPanel[0].getChildByName('Period').getComponent(cc.Label).string = dataFunc.queryValue(table,\"quarter\",id)+'季,'+ dataFunc.queryValue(table,\"output\",id) + '/季'\n                    this.SubPanel[0].getChildByName('MaiRu').off(cc.Node.EventType.TOUCH_END)\n                    this.SubPanel[0].getChildByName('MaiRu').on(cc.Node.EventType.TOUCH_END,()=>{\n                        Global.ProtocolMgr.buyZhongZi(id,this.currentCount)\n                    })\n                })\n            })\n            node.getChildByName('Bg').getChildByName('Count').getComponent(cc.Label).string = value.count\n            node.getChildByName('Name').getComponent(cc.Label).string = dataFunc.queryValue(table,\"name\",id)+'种子'\n            node.getChildByName('Reward').getComponent(cc.Label).string = '收获'+dataFunc.queryValue(table,\"reward\",id)+'个'+dataFunc.queryValue(table,\"name\",id)\n            node.getChildByName('Buy').active = true;\n            node.getChildByName('Buy').getChildByName('Background').getChildByName('Label').getComponent(cc.Label).string = dataFunc.queryValue(table,\"price\",id)\n        })\n        this.node.getChildByName('Sale').active = false;\n    },\n    addCount(){\n        if(this.currentCount<this.maxCount){\n            this.currentCount++;\n            cc.director.GlobalEvent.emit(\"ShangChengCount\",{})\n            cc.director.GlobalEvent.emit(\"GuoShiCount\",{})\n        }else{\n            Global.PageMgr.showTipPage('已达到最大值')\n        }\n    },\n    minusCount(){\n        if(this.currentCount>1){\n            this.currentCount--;\n            cc.director.GlobalEvent.emit(\"ShangChengCount\",{})\n            cc.director.GlobalEvent.emit(\"GuoShiCount\",{})\n        }else{\n            Global.PageMgr.showTipPage('已达到最小值')\n        }\n    },\n    changeCount(event){\n        this.currentCount = event;\n        if(this.currentCount>=this.maxCount){\n            this.currentCount = this.maxCount\n        }\n        if(this.currentCount<=1){\n            this.currentCount = 1\n        }\n        cc.director.GlobalEvent.emit(\"ShangChengCount\",{})\n        cc.director.GlobalEvent.emit(\"GuoShiCount\",{})\n    },\n    onEnable(){\n        Global.ProtocolMgr.queryZhongZi()\n    },\n    onDisable(){\n        this.ToggleContainer[0].getComponent(cc.Toggle).isChecked = true;\n        this.ToggleContainer[0].getChildByName('Text').color = new cc.color(255,255,255)\n    },\n    closePage(){\n        Global.PageMgr.onClosePage(1);\n    },\n    openSubPanel(event,customEventData){\n        this.SubPanel[customEventData].active = true;\n    },\n    closeSubPanel(event,customEventData){\n        this.SubPanel[customEventData].active = false\n        cc.director.GlobalEvent.off(\"ShangChengCount\")\n    },\n    toggleChange(tab){\n        this.ToggleContainer.forEach(e =>{\n            e.getComponent(cc.Toggle).isChecked = false\n            e.getChildByName('Text').color = new cc.color(255,255,255)\n            if(e.name == tab){\n                e.getComponent(cc.Toggle).isChecked = true\n                e.getChildByName('Text').color = new cc.color(138,55,249)\n            }\n        })\n        switch (tab) {\n            case 'ZhongZi':\n                Global.ProtocolMgr.queryZhongZi()\n                break;\n            case 'GuoShi' :\n                Global.ProtocolMgr.queryGuoShi()\n                console.log('打开果实')\n                break;\n            case 'ShangCheng' :\n                Global.ProtocolMgr.queryShangCheng()\n                console.log('打开商店')\n                break;\n        }\n    },\n    update (dt) {},\n});\n"]}