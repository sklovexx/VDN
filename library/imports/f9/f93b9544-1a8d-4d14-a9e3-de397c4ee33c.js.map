{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\NiuNiu\\script\\common/assets\\NiuNiu\\script\\common\\SpriteRemote.js"],"names":["cc","Class","extends","Sprite","properties","imgAddr","spSize","Size","onLoad","_newSpFrame","length","setSPLink","link","loader","load","progress","log","error","tex","SpriteFrame","node","oldW","width","oldH","height","getComponent","spriteFrame","bind"],"mappings":";;;;AAAA;;;;AAIA;;AAEAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,MADP;;AAGLC,gBAAY;;AAERC,iBAAQ,EAFA;AAGRC,gBAAQN,GAAGO;AAHH,KAHP;;AASL;AACAC,YAAQ,kBAAY;AAChB,aAAKC,WAAL,GAAmB,IAAnB;AACA,YAAG,KAAKJ,OAAL,IAAgB,KAAKA,OAAL,CAAaK,MAAb,GAAoB,CAAvC,EACA;AACI,iBAAKC,SAAL,CAAe,KAAKN,OAApB;AACH;AACJ,KAhBI;;AAkBLM,eAAU,mBAASC,IAAT,EACV;AACI,YAAGA,QAAQA,KAAKF,MAAL,GAAY,CAAvB,EACA;AACI,iBAAKL,OAAL,GAAeO,IAAf;AACAZ,eAAGa,MAAH,CAAUC,IAAV,CAAe,KAAKT,OAApB,EAA4B,UAASU,QAAT,EAAkB;AAC1Cf,mBAAGgB,GAAH,CAAO,gCAA8BD,QAArC;AACH,aAFD,EAEE,UAASE,KAAT,EAAeC,GAAf,EAAmB;AACjB,oBAAGD,KAAH,EACA;AACIjB,uBAAGgB,GAAH,CAAO,4BAA0BC,KAAjC;AACA;AACH;;AAED,qBAAKR,WAAL,GAAmB,IAAIT,GAAGmB,WAAP,CAAmBD,GAAnB,CAAnB;;AAEA,oBAAG,CAAC,KAAKE,IAAT,EAAe;AACf,oBAAIC,OAAO,KAAKD,IAAL,CAAUE,KAArB;AACA,oBAAIC,OAAO,KAAKH,IAAL,CAAUI,MAArB;;AAEA,qBAAKC,YAAL,CAAkBzB,GAAGG,MAArB,EAA6BuB,WAA7B,GAA2C,KAAKjB,WAAhD;;AAEA,qBAAKW,IAAL,CAAUE,KAAV,GAAkB,KAAKhB,MAAL,CAAYgB,KAAZ,GAAoB,KAAKhB,MAAL,CAAYgB,KAAhC,GAAwCD,IAA1D;AACA,qBAAKD,IAAL,CAAUI,MAAV,GAAmB,KAAKlB,MAAL,CAAYkB,MAAZ,GAAqB,KAAKlB,MAAL,CAAYkB,MAAjC,GAA0CD,IAA7D;AACH,aAjBC,CAiBAI,IAjBA,CAiBK,IAjBL,CAFF;AAoBH;AACJ;AACD;AACA;;AAEA;;AAhDK,CAAT","file":"SpriteRemote.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\NiuNiu\\script\\common","sourcesContent":["/**\r\n * Created by skyxu on 2018/3/22.\r\n */\r\n\r\n\"use strict\";\r\n\r\ncc.Class({\r\n    extends: cc.Sprite,\r\n\r\n    properties: {\r\n\r\n        imgAddr:\"\",\r\n        spSize: cc.Size,\r\n    },\r\n\r\n    // use this for initialization\r\n    onLoad: function () {\r\n        this._newSpFrame = null;\r\n        if(this.imgAddr && this.imgAddr.length>0)\r\n        {\r\n            this.setSPLink(this.imgAddr);\r\n        }\r\n    },\r\n\r\n    setSPLink:function(link)\r\n    {\r\n        if(link && link.length>0)\r\n        {\r\n            this.imgAddr = link;\r\n            cc.loader.load(this.imgAddr,function(progress){\r\n                cc.log(\"~~~~~SpriteRemote progress:\"+progress);\r\n            },function(error,tex){\r\n                if(error)\r\n                {\r\n                    cc.log(\"~~~~~SprieRemote error:\"+error);\r\n                    return;\r\n                }\r\n\r\n                this._newSpFrame = new cc.SpriteFrame(tex);\r\n\r\n                if(!this.node) return;\r\n                let oldW = this.node.width;\r\n                let oldH = this.node.height;\r\n\r\n                this.getComponent(cc.Sprite).spriteFrame = this._newSpFrame;\r\n\r\n                this.node.width = this.spSize.width ? this.spSize.width : oldW;\r\n                this.node.height = this.spSize.height ? this.spSize.height : oldH;\r\n            }.bind(this));\r\n        }\r\n    },\r\n    // called every frame, uncomment this function to activate update callback\r\n    // update: function (dt) {\r\n\r\n    // },\r\n\r\n});\r\n"]}