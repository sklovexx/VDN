{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\Script\\Ui\\GamePanel/assets\\Script\\Ui\\GamePanel\\Game_Item2.js"],"names":["cc","Class","extends","Component","properties","icon_pic","Sprite","label_name","Label","label_menpiao","label_pic","label_fee","propId","start","setData","data","loader","loadRes","id","SpriteFrame","err","sf","spriteFrame","e","console","warn","log","string","grade_field_name","js","formatStr","parseFloat","crystal_quantity","toFixed","reward","ticket","buy","window","DEFAULT_availableUsdt","parseInt","Global","PageMgr","pages","getComponent","goGamePanelUI","showTipPage"],"mappings":";;;;;;AACAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,kBAASL,GAAGM,MADJ;AAERC,oBAAWP,GAAGQ,KAFN;AAGRC,uBAAcT,GAAGQ,KAHT;AAIRE,mBAAUV,GAAGQ,KAJL;AAKRG,mBAAUX,GAAGQ,KALL;AAMRI,gBAAO;AANC,KAHP;;AAYL;;AAEA;AACAC,SAfK,mBAeI,CACR,CAhBI;AAiBLC,WAjBK,mBAiBGC,IAjBH,EAiBQ;AAAA;;AACT,YAAI;AACA;AACA;AACA;AACAf,eAAGgB,MAAH,CAAUC,OAAV,CAAkB,YAAYF,KAAKG,EAAnC,EAAuClB,GAAGmB,WAA1C,EAAuD,UAACC,GAAD,EAAMC,EAAN,EAAW;AAC9D,oBAAI,CAACD,GAAL,EAAS;AACL,0BAAKf,QAAL,CAAciB,WAAd,GAA4BD,EAA5B;AACH;AACJ,aAJD;AAKH,SATD,CASC,OAAOE,CAAP,EAAU;AACPC,oBAAQC,IAAR,CAAaF,CAAb;AACH;AACDC,gBAAQE,GAAR,CAAYX,IAAZ;AACA,aAAKH,MAAL,GAAcG,KAAKG,EAAnB;AACA,aAAKX,UAAL,CAAgBoB,MAAhB,GAAyBZ,KAAKa,gBAA9B;AACA,aAAKlB,SAAL,CAAeiB,MAAf,GAAwB3B,GAAG6B,EAAH,CAAMC,SAAN,CAAgB,mBAAhB,EAAoCC,WAAWhB,KAAKiB,gBAAhB,EAAkCC,OAAlC,CAA0C,CAA1C,CAApC,EAAiFF,WAAWhB,KAAKmB,MAAhB,EAAwBD,OAAxB,CAAgC,CAAhC,CAAjF,CAAxB;AACA,aAAKxB,aAAL,CAAmBkB,MAAnB,GAA4B3B,GAAG6B,EAAH,CAAMC,SAAN,CAAgB,OAAhB,EAAwBC,WAAWhB,KAAKoB,MAAhB,EAAwBF,OAAxB,CAAgC,CAAhC,CAAxB,CAA5B;AACA,aAAKlB,IAAL,GAAYA,IAAZ;AACH,KApCI;AAqCLqB,OArCK,iBAqCA;AACD,YAAGC,OAAOC,qBAAP,IAAiCC,SAAS,KAAKxB,IAAL,CAAUiB,gBAAnB,CAApC,EAA0E;AACtEQ,mBAAOC,OAAP,CAAeC,KAAf,CAAqB,CAArB,EAAwBC,YAAxB,CAAqC,WAArC,EAAkDC,aAAlD,CAAgE,KAAK7B,IAArE;AACH,SAFD,MAEK;AACDyB,mBAAOC,OAAP,CAAeI,WAAf,CAA4B7C,GAAG6B,EAAH,CAAMC,SAAN,CAAgB,QAAhB,EAAyBC,WAAW,KAAKhB,IAAL,CAAUiB,gBAArB,EAAuCC,OAAvC,CAA+C,CAA/C,CAAzB,CAA5B;AACA;AACA;AACA;AACH;AACJ;AACD;;AA/CK,CAAT","file":"Game_Item2.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Script\\Ui\\GamePanel","sourcesContent":["\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        icon_pic:cc.Sprite,\n        label_name:cc.Label,\n        label_menpiao:cc.Label,\n        label_pic:cc.Label,\n        label_fee:cc.Label,\n        propId:1\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    // onLoad () {},\n    start () {\n    },\n    setData(data){\n        try {\n            // cc.loader.load({url:data.icon,type:'png'},(err,res)=>{\n            //     this.icon_pic.spriteFrame = new cc.SpriteFrame(res)\n            // })\n            cc.loader.loadRes(\"imgs/bg\" + data.id, cc.SpriteFrame, (err, sf)=>{\n                if (!err){\n                    this.icon_pic.spriteFrame = sf;\n                }\n            });\n        }catch (e) {\n            console.warn(e)\n        }\n        console.log(data);\n        this.propId = data.id;\n        this.label_name.string = data.grade_field_name;\n        this.label_pic.string = cc.js.formatStr(\"%s个星钻\\n每局胜奖励负扣减%s\",parseFloat(data.crystal_quantity).toFixed(1),parseFloat(data.reward).toFixed(1));\n        this.label_menpiao.string = cc.js.formatStr(\"门票:%s\",parseFloat(data.ticket).toFixed(2));\n        this.data = data;\n    },\n    buy(){\n        if(window.DEFAULT_availableUsdt >= (parseInt(this.data.crystal_quantity))){\n            Global.PageMgr.pages[7].getComponent(\"GamePanel\").goGamePanelUI(this.data); \n        }else{\n            Global.PageMgr.showTipPage( cc.js.formatStr(\"星钻不足%s\",parseFloat(this.data.crystal_quantity).toFixed(1)));\n            // Global.PageMgr.pages[15].getComponent(\"BuyPanel\").propId = this.propId;\n            // Global.PageMgr.pages[15].getComponent(\"BuyPanel\").type = 2;\n            // Global.PageMgr.onOpenPage(15);\n        }\n    }\n    // update (dt) {},\n});\n"]}