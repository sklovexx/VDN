{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\Script\\Ui\\RankPanel/assets\\Script\\Ui\\RankPanel\\RankPanel.js"],"names":["cc","Class","extends","Component","properties","rank_item","Prefab","container","Node","icon_1","icon_2","icon_3","icon_head","Sprite","label_name","Label","label_level","label_canchu","label_life","label_linli","label_zhanli","label_num","start","setData","Global","ProtocolMgr","queryRankList","res","code","data","console","log","removeAllChildren","i","length","rankItemNode","instantiate","getComponent","addChild","PageMgr","showTipPage","message","queryRankInfo","loader","load","url","icon","type","err","spriteFrame","SpriteFrame","e","warn","string","name","level","canchu","life","linli","zhanli","active","node","num"],"mappings":"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","file":"RankPanel.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Script\\Ui\\RankPanel","sourcesContent":["\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        rank_item:cc.Prefab,\r\n        container:cc.Node,\r\n        icon_1:cc.Node,\r\n        icon_2:cc.Node,\r\n        icon_3:cc.Node,\r\n        icon_head:cc.Sprite,\r\n        label_name:cc.Label,\r\n        label_level:cc.Label,\r\n        label_canchu:cc.Label,\r\n        label_life:cc.Label,\r\n        label_linli:cc.Label,\r\n        label_zhanli:cc.Label,\r\n        label_num:cc.Label\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    // onLoad () {},\r\n\r\n    start () {\r\n        this.setData();\r\n    },\r\n    setData(){\r\n        Global.ProtocolMgr.queryRankList((res)=>{\r\n            if(res.code==200){\r\n                let data = res.data\r\n                console.log(data);\r\n                this.container.removeAllChildren();\r\n                for(let i = 0;i<data.length;i++){\r\n                    let rankItemNode = cc.instantiate(this.rank_item);\r\n                    rankItemNode.getComponent(\"rank_item\").setData(data[i]);\r\n                    this.container.addChild(rankItemNode);\r\n                }\r\n            }else{\r\n                Global.PageMgr.showTipPage(res.message);\r\n            }\r\n        })\r\n        Global.ProtocolMgr.queryRankInfo((res)=>{\r\n            if(res.code==200){\r\n                let data = res.data\r\n                console.log(data);\r\n                try {\r\n                    cc.loader.load({url:data.icon,type:'png'},(err,res)=>{\r\n                        this.icon_head.spriteFrame = new cc.SpriteFrame(res)\r\n                    })\r\n                }catch (e) {\r\n                    console.warn(e)\r\n                }\r\n                this.label_name.string = data.name;\r\n                this.label_level.string = data.level;\r\n                this.label_canchu.string = data.canchu;\r\n                this.label_life.string = data.life;\r\n                this.label_linli.string = data.linli;\r\n                this.label_zhanli.string = data.zhanli;\r\n                this.icon_1.active = false;\r\n                this.icon_2.active = false;\r\n                this.icon_3.active = false;\r\n                this.label_num.node.active = false;\r\n                switch (data.num) {\r\n                    case 1:\r\n                        this.icon_1.active = true;\r\n                        break;\r\n                    case 2:\r\n                        this.icon_2.active = true;\r\n                        break;\r\n                    case 3:\r\n                        this.icon_3.active = true;\r\n                        break;\r\n                    default:\r\n                        this.label_num.node.active = true;\r\n                        this.label_num.string = data.num;\r\n                        break;\r\n                }\r\n            }else{\r\n                Global.PageMgr.showTipPage(res.message);\r\n            }\r\n        })\r\n    }\r\n    // update (dt) {},\r\n});\r\n"]}