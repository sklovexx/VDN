{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\NiuNiu\\script\\common/assets\\NiuNiu\\script\\common\\UtilsCross.js"],"names":["UtilsCross","pushLocalNotification","title","message","delay","loop","key","cc","sys","isNative","log","undefined","ret","platform","IPHONE","IPAD","jsb","reflection","callStaticMethod","ANDROID","getAppVersion","v","loadServerTime","getUID","Date","toUTCString","rmAndroidSplash","share","extraText","trackEvent","eventType","jsonStr","trackEvent_FB","loadAdRewardVideo","isAdRewardVideoLoaded","showAdRewardVideo","loadAdInterstitial","isAdInterstitialLoaded","showAdInterstitial","showAdBanner","hideAdBanner","closeAdRewardVideo","isPlayCompleted","GlobalNiuNiu","eventMgr","emit","config","EVENT_CLOSE_AD_REWARD_VIDEO","adRewardVideoLoaded","EVENT_AD_REWARD_VIDEO_LOADED","module","exports"],"mappings":"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","file":"UtilsCross.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\NiuNiu\\script\\common","sourcesContent":["/**\n * Created by skyxu on 2018/5/7.\n *\n * 平台工具，调用原生平台方法\n */\n\n\"use strict\";\n\nlet UtilsCross = UtilsCross || {};\n\n/**\n *\n * @param title {String}\n * @param message {String}\n * @param delay {Number} 多长时间后提醒（单位秒)\n * @param loop {Boolean} 是否重复提醒\n * @param key {String} 唯一key\n */\nUtilsCross.pushLocalNotification = function (title, message, delay, loop, key) {\n    if (!cc.sys.isNative) {\n        cc.log(\"only native can use iap.\");\n        return;\n    }\n    \n    if (loop === undefined){\n        loop = false;\n    }\n\n    let ret = \"\";\n    if (cc.sys.platform === cc.sys.IPHONE || cc.sys.platform === cc.sys.IPAD) {\n        ret = jsb.reflection.callStaticMethod(\"HKLocalNotification\",\"pushLocalNoti:message:withSecond:repeats:key:\", title, message, delay, loop, key);\n    } else if (cc.sys.platform == cc.sys.ANDROID) {\n        ret = jsb.reflection.callStaticMethod(\"com/hawk/utils/UtilNotification\", \"s_postNotification\", \"(Ljava/lang/String;Ljava/lang/String;IZLjava/lang/String;)V\", title, message, delay, loop, key);\n    }\n\n    return ret;\n};\n\nUtilsCross.getAppVersion = function () {\n    let v = \"V\";\n    let ret = \"\";\n    if (cc.sys.platform === cc.sys.IPHONE || cc.sys.platform === cc.sys.IPAD) {\n        ret = jsb.reflection.callStaticMethod(\"UtilsNative\",\"getAppVersion\");\n    } else if (cc.sys.platform == cc.sys.ANDROID){\n        ret = jsb.reflection.callStaticMethod(\"com/hawk/utils/ConfigManager\", \"getPackageVersionStatic\", \"()Ljava/lang/String;\");\n    } else {\n        // web\n        ret = \"1.0.0\";\n    }\n    v += ret;\n\n    return v;\n};\n\n/**\n * 读取服务器时间\n */\nUtilsCross.loadServerTime = function () {\n    if (cc.sys.platform === cc.sys.IPHONE || cc.sys.platform === cc.sys.IPAD) {\n        // do nothing\n    } else if (cc.sys.platform == cc.sys.ANDROID){\n        jsb.reflection.callStaticMethod(\"org/cocos2dx/javascript/AppActivity\", \"loadServerTime\", \"()V\");\n    }\n};\n\nUtilsCross.getUID = function () {\n    let ret = \"\";\n    if (cc.sys.platform === cc.sys.ANDROID) {\n        ret = jsb.reflection.callStaticMethod(\"com/hawk/utils/ConfigManager\", \"getDeviceIDStatic\", \"()Ljava/lang/String;\");\n    } else {\n        ret = (new Date()).toUTCString();\n    }\n    cc.log(\"uid: \" + ret);\n    return ret;\n};\n\n\n/**\n * 移除Andorid SplashView\n */\nUtilsCross.rmAndroidSplash = function () {\n    let ret = \"\";\n    if (cc.sys.platform === cc.sys.ANDROID) {\n        ret = jsb.reflection.callStaticMethod(\"org/cocos2dx/javascript/AppActivity\",\"rmSplashView\", \"()V\");\n    }\n\n    return ret;\n};\n\n/**\n * 分享\n */\nUtilsCross.share = function (title, extraText) {\n    let ret = \"\";\n    if (cc.sys.platform === cc.sys.ANDROID) {\n        ret = jsb.reflection.callStaticMethod(\"com/hawk/utils/ConfigManager\", \"share\", \"(Ljava/lang/String;Ljava/lang/String;)V\", title, extraText);\n    }\n\n    return ret;\n};\n\n/**\n * 追踪事件\n */\nUtilsCross.trackEvent = function (eventType, jsonStr) {\n    if (!cc.sys.isNative) {\n        cc.log(\"only native can trackEvent.\");\n        return;\n    }\n    \n    if (cc.sys.platform === cc.sys.ANDROID) {\n        jsb.reflection.callStaticMethod(\"com/hawk/utils/ConfigManager\", \"trackEvent\", \"(Ljava/lang/String;Ljava/lang/String;)V\", eventType, jsonStr);\n    }\n};\n\n/**\n * 追踪事件(Firebase平台)\n */\nUtilsCross.trackEvent_FB = function (eventType, jsonStr) {\n    if (!cc.sys.isNative) {\n        cc.log(\"only native can trackEvent_FB.\");\n        return;\n    }\n\n    if (cc.sys.platform === cc.sys.ANDROID) {\n        jsb.reflection.callStaticMethod(\"com/hawk/utils/ConfigManager\", \"trackEvent_FB\", \"(Ljava/lang/String;Ljava/lang/String;)V\", eventType, jsonStr);\n    }\n};\n\n//------------Ads start------------\nUtilsCross.loadAdRewardVideo = function () {\n    if (!cc.sys.isNative) {\n        cc.log(\"only native can loadAdRewardVideo.\");\n        return;\n    }\n\n    if (cc.sys.platform === cc.sys.ANDROID) {\n        jsb.reflection.callStaticMethod(\"com/hawk/utils/AdRewardVideoMgr\",\"loadAdStatic\", \"()V\");\n    }\n};\nUtilsCross.isAdRewardVideoLoaded = function () {\n    if (!cc.sys.isNative) {\n        cc.log(\"only native can isAdRewardVideoLoaded.\");\n        return false;\n    }\n\n    if (cc.sys.platform === cc.sys.ANDROID) {\n        return jsb.reflection.callStaticMethod(\"com/hawk/utils/AdRewardVideoMgr\",\"isAdLoadedStatic\", \"()Z\");\n    } else {\n        return false;\n    }\n};\nUtilsCross.showAdRewardVideo = function () {\n    if (!cc.sys.isNative) {\n        cc.log(\"only native can showAdRewardVideo.\");\n        return;\n    }\n\n    if (cc.sys.platform === cc.sys.ANDROID) {\n        jsb.reflection.callStaticMethod(\"com/hawk/utils/AdRewardVideoMgr\",\"showStatic\", \"()V\");\n    }\n};\n\nUtilsCross.loadAdInterstitial = function () {\n    if (!cc.sys.isNative) {\n        cc.log(\"only native can loadAdInterstitial.\");\n        return;\n    }\n\n    if (cc.sys.platform === cc.sys.ANDROID) {\n        jsb.reflection.callStaticMethod(\"com/hawk/utils/AdInterstitialMgr\",\"loadAdStatic\", \"()V\");\n    }\n};\nUtilsCross.isAdInterstitialLoaded = function () {\n    if (!cc.sys.isNative) {\n        cc.log(\"only native can isAdInterstitialLoaded.\");\n        return false;\n    }\n\n    if (cc.sys.platform === cc.sys.ANDROID) {\n        return jsb.reflection.callStaticMethod(\"com/hawk/utils/AdInterstitialMgr\",\"isAdLoadedStatic\", \"()Z\");\n    } else {\n        return false;\n    }\n};\nUtilsCross.showAdInterstitial = function () {\n    if (!cc.sys.isNative) {\n        cc.log(\"only native can showAdInterstitial.\");\n        return;\n    }\n\n    if (cc.sys.platform === cc.sys.ANDROID) {\n        jsb.reflection.callStaticMethod(\"com/hawk/utils/AdInterstitialMgr\",\"showStatic\", \"()V\");\n    }\n};\n\nUtilsCross.showAdBanner = function () {\n    if (!cc.sys.isNative) {\n        cc.log(\"only native can showAdBanner.\");\n        return;\n    }\n\n    if (cc.sys.platform === cc.sys.ANDROID) {\n        jsb.reflection.callStaticMethod(\"com/hawk/utils/AdBannerMgr\",\"showStatic\", \"()V\");\n    }\n};\nUtilsCross.hideAdBanner = function () {\n    if (!cc.sys.isNative) {\n        cc.log(\"only native can hideAdBanner.\");\n        return;\n    }\n\n    if (cc.sys.platform === cc.sys.ANDROID) {\n        jsb.reflection.callStaticMethod(\"com/hawk/utils/AdBannerMgr\",\"hideStatic\", \"()V\");\n    }\n};\n//------------Ads end--------------\n\n//------------native to js begin------------\n// Ads\nUtilsCross.closeAdRewardVideo = function (isPlayCompleted) {\n    cc.log(\"关闭激励视频广告\");\n    GlobalNiuNiu.eventMgr.emit(GlobalNiuNiu.config.EVENT_CLOSE_AD_REWARD_VIDEO, isPlayCompleted);\n};\nUtilsCross.adRewardVideoLoaded = function () {\n    GlobalNiuNiu.eventMgr.emit(GlobalNiuNiu.config.EVENT_AD_REWARD_VIDEO_LOADED);\n};\n//------------native to js end--------------\n\nmodule.exports = UtilsCross;"]}