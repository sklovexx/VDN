{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\NiuNiu\\script\\config/assets\\NiuNiu\\script\\config\\AchievementData.js"],"names":["UtilsOther","require","AchievementData","cc","Class","extends","name","ctor","id","type","order","condition","desc","reward","_jsonData","achieveData","setData","data","initData","splitInfo","pop","split","map","x","parseInt","i","length","startIndex","endIndex","j","aTypeAchieveArr","aTypeAchieveInfo","slice","a","aAchieve","clone","key","hasOwnProperty","toString","push"],"mappings":";;;;AAAA;;;;AAIA;;AAEA,IAAIA,aAAaC,QAAQ,wBAAR,CAAjB;;AAEA,IAAIC,kBAAkBC,GAAGC,KAAH,CAAS;AAC3BC,aAASF,GAAGC,KADe;AAE3BE,UAAM,iBAFqB;;AAI3BC,QAJ2B,kBAIrB;AACF,aAAKC,EAAL,GAAU,CAAC,CAAX;AACA,aAAKC,IAAL,GAAY,CAAC,CAAb;AACA,aAAKC,KAAL,GAAa,CAAC,CAAd;AACA,aAAKC,SAAL,GAAiB,CAAC,CAAlB;AACA,aAAKC,IAAL,GAAY,EAAZ;AACA,aAAKC,MAAL,GAAc,CAAd;AACH;AAX0B,CAAT,CAAtB;;AAcAX,gBAAgBY,SAAhB,GAA4B,IAA5B;AACAZ,gBAAgBa,WAAhB,GAA8B,EAA9B,EAAwC;;AAExCb,gBAAgBc,OAAhB,GAA0B,UAAUC,IAAV,EAAgB;AACtCf,oBAAgBY,SAAhB,GAA4BG,IAA5B;AACH,CAFD;;AAIAf,gBAAgBgB,QAAhB,GAA2B,YAAY;AACnC,QAAI,CAAChB,gBAAgBY,SAArB,EAA+B;AAC3B;AACH;;AAED;AACA,QAAIK,YAAYjB,gBAAgBY,SAAhB,CAA0BM,GAA1B,GAAgCX,IAAhC,CAAqCY,KAArC,CAA2C,GAA3C,EAAgDC,GAAhD,CAAoD,UAACC,CAAD,EAAK;AAAC,eAAOC,SAASD,CAAT,CAAP;AAAoB,KAA9E,CAAhB;;AAEA,SAAK,IAAIE,IAAE,CAAX,EAAcA,IAAEN,UAAUO,MAA1B,EAAkCD,GAAlC,EAAsC;AAClC,YAAIE,aAAa,CAAjB;AACA,YAAIC,WAAW,CAAf;AACA,aAAK,IAAIC,IAAE,CAAX,EAAcA,IAAEJ,CAAhB,EAAmBI,GAAnB,EAAuB;AACnBF,0BAAcR,UAAUU,CAAV,CAAd;AACH;AACDD,mBAAWD,aAAaR,UAAUM,CAAV,CAAxB;;AAEA,YAAIK,kBAAkB,EAAtB;AACA,YAAIC,mBAAmB7B,gBAAgBY,SAAhB,CAA0BkB,KAA1B,CAAgCL,UAAhC,EAA4CC,QAA5C,CAAvB;AATkC;AAAA;AAAA;;AAAA;AAUlC,iCAAcG,gBAAd,8HAA+B;AAAA,oBAAtBE,CAAsB;;AAC3B,oBAAIC,WAAW,IAAIhC,eAAJ,EAAf;AACAF,2BAAWmC,KAAX,CAAiBF,CAAjB,EAAoBC,QAApB;AACA;AACA,qBAAK,IAAIE,GAAT,IAAgBF,QAAhB,EAAyB;AACrB,wBAAI,CAACA,SAASG,cAAT,CAAwBD,GAAxB,CAAL,EAAkC;AAC9B;AACH;AACD,wBAAIA,QAAQ,MAAZ,EAAmB;AACfF,iCAASE,GAAT,IAAgBF,SAASE,GAAT,EAAcE,QAAd,EAAhB;AACH,qBAFD,MAEO;AACHJ,iCAASE,GAAT,IAAgBZ,SAASU,SAASE,GAAT,CAAT,CAAhB;AACH;AACJ;AACDN,gCAAgBS,IAAhB,CAAqBL,QAArB;AACH;AAzBiC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AA0BlChC,wBAAgBa,WAAhB,CAA4BwB,IAA5B,CAAiCT,eAAjC;AACH;;AAGD,WAAO5B,gBAAgBY,SAAvB;AACA;AACH,CAxCD","file":"AchievementData.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\NiuNiu\\script\\config","sourcesContent":["/**\n * Created by skyxu on 2018/7/27.\n */\n\n\"use strict\";\n\nlet UtilsOther = require('./../common/UtilsOther');\n\nlet AchievementData = cc.Class({\n    extends: cc.Class,\n    name: \"AchievementData\",\n\n    ctor(){\n        this.id = -1;\n        this.type = -1;\n        this.order = -1;\n        this.condition = -1;\n        this.desc = \"\";\n        this.reward = 0;\n    }\n});\n\nAchievementData._jsonData = null;\nAchievementData.achieveData = [];       // 所有成就数据(二维数据，成就分类保存)\n\nAchievementData.setData = function (data) {\n    AchievementData._jsonData = data;\n};\n\nAchievementData.initData = function () {\n    if (!AchievementData._jsonData){\n        return;\n    }\n\n    // 最后一行为切割任务类型说明\n    let splitInfo = AchievementData._jsonData.pop().type.split(\",\").map((x)=>{return parseInt(x);});\n\n    for (let i=0; i<splitInfo.length; i++){\n        let startIndex = 0;\n        let endIndex = 0;\n        for (let j=0; j<i; j++){\n            startIndex += splitInfo[j];\n        }\n        endIndex = startIndex + splitInfo[i];\n\n        let aTypeAchieveArr = [];\n        let aTypeAchieveInfo = AchievementData._jsonData.slice(startIndex, endIndex);\n        for (let a of aTypeAchieveInfo){\n            let aAchieve = new AchievementData();\n            UtilsOther.clone(a, aAchieve);\n            // 转换数据类型，以方便使用\n            for (let key in aAchieve){\n                if (!aAchieve.hasOwnProperty(key)){\n                    continue;\n                }\n                if (key === \"desc\"){\n                    aAchieve[key] = aAchieve[key].toString();\n                } else {\n                    aAchieve[key] = parseInt(aAchieve[key]);\n                }\n            }\n            aTypeAchieveArr.push(aAchieve);\n        }\n        AchievementData.achieveData.push(aTypeAchieveArr);\n    }\n\n\n    delete AchievementData._jsonData;\n    // cc.log(JSON.stringify(AchievementData.achieveData));\n};\n\n"]}