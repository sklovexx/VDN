{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\NiuNiu\\script\\common/assets\\NiuNiu\\script\\common\\AssetMgr.js"],"names":["cc","Class","extends","Component","properties","settingPrefab","Prefab","shopPrefab","dialogPrefab","toastPrefab","cardPrefab","modeSelPre","onLoad","game","addPersistRootNode","node","GlobalNiuNiu","assetMgr","setAutoRelease","autoRelease","releaseGameRes"],"mappings":";;;;AAAA;;;;AAIA;;AAEAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,uBAAeL,GAAGM,MADV;AAERC,oBAAYP,GAAGM,MAFP;AAGRE,sBAAcR,GAAGM,MAHT;AAIRG,qBAAaT,GAAGM,MAJR;AAKRI,oBAAYV,GAAGM,MALP;AAMRK,oBAAYX,GAAGM;AANP,KAHP;;AAYLM,YAAQ,kBAAY;AAChBZ,WAAGa,IAAH,CAAQC,kBAAR,CAA2B,KAAKC,IAAhC;AACAC,qBAAaC,QAAb,GAAwB,IAAxB;AACA,aAAKC,cAAL,CAAoB,IAApB;AACH,KAhBI;;AAkBLA,oBAAgB,wBAAUC,WAAV,EAAuB;AACnC;AACA;AACA;AACA;AACA;AACA;AACH,KAzBI;;AA2BL;;;AAGAC,oBAAgB,0BAAU;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACH;AAzCI,CAAT","file":"AssetMgr.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\NiuNiu\\script\\common","sourcesContent":["/**\r\n * Created by skyxu on 2018/3/27.\r\n */\r\n\r\n\"use strict\";\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        settingPrefab: cc.Prefab,\r\n        shopPrefab: cc.Prefab,\r\n        dialogPrefab: cc.Prefab,\r\n        toastPrefab: cc.Prefab,\r\n        cardPrefab: cc.Prefab,\r\n        modeSelPre: cc.Prefab,\r\n    },\r\n\r\n    onLoad: function () {\r\n        cc.game.addPersistRootNode(this.node);\r\n        GlobalNiuNiu.assetMgr = this;\r\n        this.setAutoRelease(true);\r\n    },\r\n\r\n    setAutoRelease: function (autoRelease) {\r\n        // FIXME: 当前未绑定任何prefab，暂时不需要执行以下代码\r\n        // cc.loader.setAutoRelease(this.prefabGameSuc, autoRelease);\r\n        // cc.loader.setAutoRelease(this.prefabGameFailed, autoRelease);\r\n        // cc.loader.setAutoRelease(this.prefabSetting, autoRelease);\r\n        // cc.loader.setAutoRelease(this.prefabShop, autoRelease);\r\n        // cc.loader.setAutoRelease(this.prefabBaseTipShowView, autoRelease);\r\n    },\r\n\r\n    /**\r\n     * 释放掉和游戏场景有关的资源\r\n     */\r\n    releaseGameRes: function(){\r\n        // var slotsId = 6;\r\n        // xlog(\"release game res.\");\r\n        // if (GlobalNiuNiu.assetManager.curSlotsIconAtlas){\r\n        //     var depends = cc.loader.getDependsRecursively(GlobalNiuNiu.assetManager.curSlotsIconAtlas);\r\n        //     cc.loader.release(depends);\r\n        //\r\n        //     // cc.loader.release(GlobalNiuNiu.assetManager.curSlotsIconAtlas);\r\n        // }\r\n        // var url = \"slots_\" + slotsId + \"/animations\";\r\n        // cc.loader.releaseResDir(url);\r\n    }\r\n});"]}