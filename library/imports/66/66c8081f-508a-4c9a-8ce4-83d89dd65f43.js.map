{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\Script\\Ui\\HongBao/assets\\Script\\Ui\\HongBao\\HongBaoList.js"],"names":["cc","Class","extends","Component","properties","Item","Prefab","Content","Node","MaxCount","onLoad","director","GlobalEvent","on","onUpdateHongBaoListData","start","onEnable","clearContent","backPack","GameData","HongBaoList","i","node","instantiate","parent","getChildByName","getComponent","Label","string","nickname","amount","loader","load","url","headPortrait","type","err","res","spriteFrame","SpriteFrame","Sprite","length","children","destroy"],"mappings":";;;;;;AACAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,cAAKL,GAAGM,MADA;AAERC,iBAAQP,GAAGQ,IAFH;AAGRC,kBAAS;AAHD,KAHP;;AASL;;AAEAC,UAXK,oBAWK;AACNV,WAAGW,QAAH,CAAYC,WAAZ,CAAwBC,EAAxB,CAA2B,iBAA3B,EAA6C,KAAKC,uBAAlD,EAA0E,IAA1E;AACH,KAbI;AAcLC,SAdK,mBAcI,CAER,CAhBI;AAiBLC,YAjBK,sBAiBK;AACN;AACA,aAAKF,uBAAL;AACH,KApBI;AAqBLA,2BArBK,qCAqBoB;AAAA;;AACrB,aAAKG,YAAL;AACA,YAAIC,WAAWC,SAASC,WAAxB;;AAFqB,mCAGbC,CAHa;AAIjB,gBAAIC,OAAOtB,GAAGuB,WAAH,CAAe,MAAKlB,IAApB,CAAX;AACAiB,iBAAKE,MAAL,GAAc,MAAKjB,OAAnB;AACAe,iBAAKG,cAAL,CAAoB,OAApB,EAA6BC,YAA7B,CAA0C1B,GAAG2B,KAA7C,EAAoDC,MAApD,GAA6DP,IAAE,CAA/D;AACAC,iBAAKG,cAAL,CAAoB,UAApB,EAAgCC,YAAhC,CAA6C1B,GAAG2B,KAAhD,EAAuDC,MAAvD,GAAgEV,SAASG,CAAT,EAAYQ,QAA5E;AACAP,iBAAKG,cAAL,CAAoB,OAApB,EAA6BC,YAA7B,CAA0C1B,GAAG2B,KAA7C,EAAoDC,MAApD,GAA6DV,SAASG,CAAT,EAAYS,MAAzE;AACA9B,eAAG+B,MAAH,CAAUC,IAAV,CAAe,EAACC,KAAIf,SAASG,CAAT,EAAYa,YAAjB,EAA8BC,MAAK,KAAnC,EAAf,EAAyD,UAACC,GAAD,EAAKC,GAAL,EAAW;AAChE,oBAAIC,cAAc,IAAItC,GAAGuC,WAAP,CAAmBF,GAAnB,CAAlB;AACAf,qBAAKG,cAAL,CAAoB,MAApB,EAA4BA,cAA5B,CAA2C,MAA3C,EAAmDC,YAAnD,CAAgE1B,GAAGwC,MAAnE,EAA2EF,WAA3E,GAAyFA,WAAzF;AACH,aAHD;AATiB;;AAGrB,aAAI,IAAIjB,IAAI,CAAZ,EAAcA,IAAEH,SAASuB,MAAzB,EAAgCpB,GAAhC,EAAoC;AAAA,kBAA5BA,CAA4B;AAUnC;AACJ,KAnCI;AAoCLJ,gBApCK,0BAoCS;AACV;AACA,YAAIyB,WAAW,KAAKnC,OAAL,CAAamC,QAA5B;AACA,aAAI,IAAIrB,IAAI,CAAZ,EAAcA,IAAEqB,SAASD,MAAzB,EAAgCpB,GAAhC,EAAoC;AAChCqB,qBAASrB,CAAT,EAAYsB,OAAZ;AACH;AACJ;AA1CI;AA2CL;AA3CJ","file":"HongBaoList.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Script\\Ui\\HongBao","sourcesContent":["\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        Item:cc.Prefab,\n        Content:cc.Node,\n        MaxCount:200\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad () {\n        cc.director.GlobalEvent.on(\"HongBaoListData\",this.onUpdateHongBaoListData,this)\n    },\n    start () {\n\n    },\n    onEnable(){\n        // Global.ProtocolMgr.queryHongBaoList();\n        this.onUpdateHongBaoListData()\n    },\n    onUpdateHongBaoListData(){\n        this.clearContent();\n        let backPack = GameData.HongBaoList;\n        for(let i = 0;i<backPack.length;i++){\n            let node = cc.instantiate(this.Item);\n            node.parent = this.Content;\n            node.getChildByName('Index').getComponent(cc.Label).string = i+1;\n            node.getChildByName('UserName').getComponent(cc.Label).string = backPack[i].nickname;\n            node.getChildByName('Count').getComponent(cc.Label).string = backPack[i].amount;\n            cc.loader.load({url:backPack[i].headPortrait,type:'png'},(err,res)=>{\n                let spriteFrame = new cc.SpriteFrame(res)\n                node.getChildByName('Mask').getChildByName('Icon').getComponent(cc.Sprite).spriteFrame = spriteFrame\n            })\n        }\n    },\n    clearContent(){\n        //清理列表\n        let children = this.Content.children;\n        for(let i = 0;i<children.length;i++){\n            children[i].destroy();\n        }\n    },\n    // update (dt) {},\n});\n"]}