{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\Script\\Ui\\GamePanel/assets\\Script\\Ui\\GamePanel\\GamePanel.js"],"names":["app","require","cc","Class","extends","Component","properties","game_item","Prefab","container","Node","game_item2","container2","game_item3","container3","Panle","Panle2","Panle3","Panlelist2","Panlelist3","lable_id","Label","lable_name","lable_pic","lable_limit","lable_gold","lable_sum","label_Usdt","editBox_id","EditBox","editBox_name","btn_skip","Sprite","btn_item","onLoad","goSetlectGamePanle","Global","ProtocolMgr","queryUserData","onEnable","reqData","Post","res","code","data","string","totalUsdt","getGameList","breakSetlectGamePanle","event","customData","active","curType","removeAllChildren","queryGameRoomList","i","length","gameItemNode","instantiate","getComponent","setData","addChild","PageMgr","showTipPage","message","goEnterGamePanel","bundleId","datas","node","pages","js","formatStr","game_package_name","game_web_link","selectData","game_customer_account","game_customer_nickname","parseFloat","ticket","toFixed","number_limit","window","DEFAULT_availableUsdt","dianjiSum","jsb","reflection","callStaticMethod","onClickSkip","goGamePanelUI","sinceIncrease","sinceReduction","submitMessage","parseInt","setUrl","game_id","id","sg_id","number","game_account","game_nickname","startCompetitiveGame","console","log","breakPanle","forEach","e","spriteFrame","loader","loadRes","SpriteFrame","err","sf","gameQueryGameList","setStationRecordUI","queryStationRecordList","queryGameList","game_terminal","setPageData"],"mappings":";;;;;;AAAA,IAAIA,MAAMC,QAAQ,sBAAR,CAAV;AACAC,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;AAELC,gBAAY;AACRC,mBAAUL,GAAGM,MADL;AAERC,mBAAUP,GAAGQ,IAFL;AAGRC,oBAAWT,GAAGM,MAHN;AAIRI,oBAAWV,GAAGQ,IAJN;AAKRG,oBAAWX,GAAGM,MALN;AAMRM,oBAAWZ,GAAGQ,IANN;AAORK,eAAMb,GAAGQ,IAPD;AAQRM,gBAAOd,GAAGQ,IARF;AASRO,gBAAOf,GAAGQ,IATF;AAURQ,oBAAWhB,GAAGQ,IAVN;AAWRS,oBAAWjB,GAAGQ,IAXN;AAYRU,kBAASlB,GAAGmB,KAZJ;AAaRC,oBAAWpB,GAAGmB,KAbN;AAcRE,mBAAUrB,GAAGmB,KAdL;AAeRG,qBAAYtB,GAAGmB,KAfP;AAgBRI,oBAAWvB,GAAGmB,KAhBN;AAiBRK,mBAAUxB,GAAGmB,KAjBL;AAkBRM,oBAAWzB,GAAGmB,KAlBN;AAmBRO,oBAAW1B,GAAG2B,OAnBN;AAoBRC,sBAAa5B,GAAG2B,OApBR;AAqBRE,kBAAS7B,GAAG8B,MArBJ;AAsBRC,kBAAS,CAAC/B,GAAG8B,MAAJ;AAtBD,KAFP;;AA2BL;;AAEAE,UA7BK,oBA6BK;AACN,aAAKC,kBAAL;AACAC,eAAOC,WAAP,CAAmBC,aAAnB;AACH,KAhCI;AAkCLC,YAlCK,sBAkCK;AAAA;;AACN,YAAIC,UAAU,EAAd;AACAxC,YAAIyC,IAAJ,CAAS,sBAAT,EAAgCD,OAAhC,EAAwC,UAACE,GAAD,EAAO;AAC3C,gBAAGA,IAAIC,IAAJ,IAAU,GAAb,EAAiB;AACb,oBAAGD,IAAIE,IAAP,EAAY;AACR,0BAAKjB,UAAL,CAAgBkB,MAAhB,GAAyBH,IAAIE,IAAJ,CAASE,SAAlC;AACH;AACJ;AACJ,SAND;AAOA,aAAKC,WAAL,CAAiB,IAAjB,EAAsB,CAAtB;AACH,KA5CI;AA8CLC,yBA9CK,iCA8CiBC,KA9CjB,EA8CuBC,UA9CvB,EA8CkC;AACnC;AACA,aAAKH,WAAL,CAAiB,IAAjB,EAAsB,CAAtB;AACH,KAjDI;AAmDLZ,sBAnDK,gCAoDL;AAAA;;AACI,aAAKpB,KAAL,CAAWoC,MAAX,GAAoB,IAApB;AACA,aAAKnC,MAAL,CAAYmC,MAAZ,GAAqB,KAArB;AACA,aAAKlC,MAAL,CAAYkC,MAAZ,GAAoB,KAApB;AACA,aAAKC,OAAL,GAAe,CAAf;AACA,aAAKxC,UAAL,CAAgByC,iBAAhB;AACAjB,eAAOC,WAAP,CAAmBiB,iBAAnB,CAAqC,CAArC,EAAuC,UAACZ,GAAD,EAAO;AAC1C,gBAAGA,IAAIC,IAAJ,IAAU,GAAb,EAAiB;AACb,oBAAIC,OAAOF,IAAIE,IAAf;AACA,qBAAI,IAAIW,IAAI,CAAZ,EAAcA,IAAIX,KAAKY,MAAvB,EAA8BD,GAA9B,EAAkC;AAC9B,wBAAIE,eAAevD,GAAGwD,WAAH,CAAe,OAAK/C,UAApB,CAAnB;AACA8C,iCAAaE,YAAb,CAA0B,YAA1B,EAAwCC,OAAxC,CAAgDhB,KAAKW,CAAL,CAAhD;AACA,2BAAK3C,UAAL,CAAgBiD,QAAhB,CAAyBJ,YAAzB;AACH;AACJ,aAPD,MAOK;AACDrB,uBAAO0B,OAAP,CAAeC,WAAf,CAA2BrB,IAAIsB,OAA/B;AACH;AACJ,SAXD;AAYH,KAtEI;;AAuEL;AACAC,oBAxEK,4BAwEYC,QAxEZ,EAwEqBC,KAxErB,EAwE2B;AAC5B,YAAIC,OAAOhC,OAAO0B,OAAP,CAAeO,KAAf,CAAqB,CAArB,EAAwBV,YAAxB,CAAqC,WAArC,CAAX;AACA;AACAS,aAAKF,QAAL,GAAgBhE,GAAGoE,EAAH,CAAMC,SAAN,CAAgB,SAAhB,EAA0BJ,MAAMK,iBAAhC,EAAkDL,MAAMM,aAAxD,CAAhB;AACAL,aAAKD,KAAL,GAAaA,KAAb;AACA,YAAG,KAAKO,UAAL,IAAmB,IAAtB,EACA;AACIN,iBAAKrD,KAAL,CAAWoC,MAAX,GAAoB,KAApB;AACAiB,iBAAKpD,MAAL,CAAYmC,MAAZ,GAAqB,KAArB;AACAiB,iBAAKnD,MAAL,CAAYkC,MAAZ,GAAqB,IAArB;AACAiB,iBAAKhD,QAAL,CAAcyB,MAAd,GAAuBsB,MAAMQ,qBAA7B;AACAP,iBAAK9C,UAAL,CAAgBuB,MAAhB,GAAyBsB,MAAMS,sBAA/B;AACAR,iBAAK7C,SAAL,CAAesB,MAAf,GAAwB3C,GAAGoE,EAAH,CAAMC,SAAN,CAAgB,IAAhB,EAAqBM,WAAWT,KAAKM,UAAL,CAAgBI,MAA3B,EAAmCC,OAAnC,CAA2C,CAA3C,CAArB,CAAxB;AACAX,iBAAK5C,WAAL,CAAiBqB,MAAjB,GAA0BsB,MAAMa,YAAhC;AACA,gBAAGb,MAAMa,YAAN,IAAsB,GAAzB,EACA;AACIZ,qBAAK5C,WAAL,CAAiBqB,MAAjB,GAA0B,IAA1B;AACH;;AAEDuB,iBAAK3C,UAAL,CAAgBoB,MAAhB,GAAyB3C,GAAGoE,EAAH,CAAMC,SAAN,CAAgB,KAAhB,EAAsBM,WAAWI,OAAOC,qBAAlB,EAAyCH,OAAzC,CAAiD,CAAjD,CAAtB,CAAzB,CAAoG;AACpGX,iBAAKe,SAAL,GAAiB,CAAjB;;AAEAf,iBAAK1C,SAAL,CAAemB,MAAf,GAAwB,KAAKuB,KAAKe,SAAlC;AACH,SAlBD,MAmBA;AACI,gBAAIjB,YAAWhE,GAAGoE,EAAH,CAAMC,SAAN,CAAgB,SAAhB,EAA0BH,KAAKD,KAAL,CAAWK,iBAArC,EAAuDJ,KAAKD,KAAL,CAAWM,aAAlE,CAAf;AACAW,gBAAIC,UAAJ,CAAeC,gBAAf,CAAgC,qCAAhC,EAAuE,SAAvE,EAAkF,uBAAlF,EAA2GpB,SAA3G;AACH;AACJ,KApGI;AAqGLqB,eArGK,yBAsGL;AACI,aAAKC,aAAL,CAAmB,IAAnB;AACH,KAxGI;;AAyGL;AACAC,iBA1GK,2BA2GL;AACI,YAAG,KAAKN,SAAL,GAAiB,GAApB,EAAwB;AACpB,iBAAKA,SAAL,IAAiB,CAAjB;AACH;AACD,aAAKzD,SAAL,CAAemB,MAAf,GAAwB,KAAK,KAAKsC,SAAlC;AACH,KAhHI;;;AAkHL;AACAO,kBAnHK,4BAoHL;AACI,YAAG,KAAKP,SAAL,GAAiB,CAApB,EAAsB;AAClB,iBAAKA,SAAL,IAAiB,CAAjB;AACH;AACD,aAAKzD,SAAL,CAAemB,MAAf,GAAwB,KAAK,KAAKsC,SAAlC;AACH,KAzHI;;AA0HL;AACAQ,iBA3HK,2BA4HL;AACI,YAAG,KAAK/D,UAAL,CAAgBiB,MAAhB,IAA0B,EAA7B,EACA;AACIT,mBAAO0B,OAAP,CAAeC,WAAf,CAA2B,MAA3B;AACA;AACH,SAJD,MAIM,IAAG,KAAKjC,YAAL,CAAkBe,MAAlB,IAA4B,EAA/B,EACN;AACIT,mBAAO0B,OAAP,CAAeC,WAAf,CAA2B,MAA3B;AACA;AACH,SAJK,MAIA,IAAG,KAAKoB,SAAL,IAAkB,CAArB,EACN;AACI/C,mBAAO0B,OAAP,CAAeC,WAAf,CAA2B,SAA3B;AACA;AACH,SAJK,MAKD,IAAGkB,OAAOC,qBAAP,GAA+B,KAAKC,SAAL,IAAkBS,SAAS,KAAKlB,UAAL,CAAgBI,MAAhB,GAAwB,IAAjC,IAAuC,IAAzD,CAAlC,EACL;AACI1C,mBAAO0B,OAAP,CAAeC,WAAf,CAA2B,QAA3B;AACA;AACH;AACD,aAAK8B,MAAL;AAEH,KAjJI;AAmJLA,UAnJK,oBAoJL;AAAA;;AACI,YAAIrD,UAAU;AACVsD,qBAAQ,KAAKpB,UAAL,CAAgBqB,EADd,EACiB;AAC3BC,mBAAM,KAAK7B,KAAL,CAAW4B,EAFP,EAEU;AACpBE,oBAAO,KAAK,KAAKd,SAHP,EAGiB;AAC3Be,0BAAa,KAAKtE,UAAL,CAAgBiB,MAJnB,EAI0B;AACpCsD,2BAAc,KAAKrE,YAAL,CAAkBe,MALtB,CAK6B;AAL7B,SAAd;AAOAT,eAAOC,WAAP,CAAmB+D,oBAAnB,CAAwC5D,OAAxC,EAAgD,UAACE,GAAD,EAAO;AACnD2D,oBAAQC,GAAR,CAAY5D,GAAZ;AACA,gBAAGA,IAAIC,IAAJ,IAAU,IAAb,EAAkB;AACd,oBAAIC,OAAOF,IAAIE,IAAf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAwC,oBAAIC,UAAJ,CAAeC,gBAAf,CAAgC,qCAAhC,EAAuE,SAAvE,EAAkF,uBAAlF,EAA2G,OAAKpB,QAAhH;AACA,uBAAKqC,UAAL,CAAgB,IAAhB,EAAqB,CAArB;AACH,aAZD,MAYK;AACDnE,uBAAO0B,OAAP,CAAeC,WAAf,CAA2BrB,IAAIsB,OAA/B;AACH;AACJ,SAjBD;AAkBH,KA9KI;AAgLLuC,cAhLK,sBAgLMtD,KAhLN,EAgLYC,UAhLZ,EAgLuB;AACxB,YAAG,KAAKwB,UAAL,IAAmB,IAAtB,EACA;AACItC,mBAAO0B,OAAP,CAAeO,KAAf,CAAqB,CAArB,EAAwBV,YAAxB,CAAqC,WAArC,EAAkD5C,KAAlD,CAAwDoC,MAAxD,GAAiE,KAAjE;AACAf,mBAAO0B,OAAP,CAAeO,KAAf,CAAqB,CAArB,EAAwBV,YAAxB,CAAqC,WAArC,EAAkD3C,MAAlD,CAAyDmC,MAAzD,GAAkE,IAAlE;AACAf,mBAAO0B,OAAP,CAAeO,KAAf,CAAqB,CAArB,EAAwBV,YAAxB,CAAqC,WAArC,EAAkD1C,MAAlD,CAAyDkC,MAAzD,GAAiE,KAAjE;AACH;AACD;AACA;AACH,KAzLI;AA2LLqC,iBA3LK,yBA2LSd,UA3LT,EA2LoB;AACrB,aAAK9D,UAAL,CAAgByC,iBAAhB;AACA,aAAKtC,KAAL,CAAWoC,MAAX,GAAoB,KAApB;AACA,aAAKnC,MAAL,CAAYmC,MAAZ,GAAqB,IAArB;AACA,aAAKlC,MAAL,CAAYkC,MAAZ,GAAoB,KAApB;AACA,aAAKC,OAAL,GAAe,CAAf;AACA,aAAKsB,UAAL,GAAkBA,UAAlB;;AAEA,aAAK3B,WAAL,CAAiB,IAAjB,EAAsB,CAAtB;AAEH,KArMI;AAuMLA,eAvMK,uBAuMOE,KAvMP,EAuMaC,UAvMb,EAuMwB;AAAA;;AACzB,aAAKjB,QAAL,CAAcuE,OAAd,CAAsB,aAAG;AACrBC,cAAEC,WAAF,GAAgB,IAAhB;AACH,SAFD;AAGAxG,WAAGyG,MAAH,CAAUC,OAAV,CAAkB,WAAlB,EAA+B1G,GAAG2G,WAAlC,EAA+C,UAACC,GAAD,EAAMC,EAAN,EAAW;AACtD,gBAAI,CAACD,GAAL,EAAS;AACL,uBAAK7E,QAAL,CAAc2D,SAAS1C,UAAT,CAAd,EAAoCwD,WAApC,GAAkDK,EAAlD;AACH;AACJ,SAJD;AAKA,gBAAQnB,SAAS1C,UAAT,CAAR;AACI,iBAAK,CAAL;AACI,qBAAKE,OAAL,GAAe,CAAf;AACA,qBAAK4D,iBAAL;AACA;AACJ,iBAAK,CAAL;AACI,qBAAK5D,OAAL,GAAe,CAAf;;AAEA,qBAAK4D,iBAAL;AACA;AACJ,iBAAK,CAAL;AACI,qBAAK5D,OAAL,GAAe,CAAf;AACA,qBAAKlC,UAAL,CAAgBiC,MAAhB,GAAwB,IAAxB;AACA,qBAAKhC,UAAL,CAAgBgC,MAAhB,GAAwB,KAAxB;AACA,qBAAKvC,UAAL,CAAgByC,iBAAhB;AACA,qBAAKvC,UAAL,CAAgBuC,iBAAhB;AACA,qBAAKlB,kBAAL;AACA;AACJ,iBAAK,CAAL;AACI,qBAAKvB,UAAL,CAAgByC,iBAAhB;AACA,qBAAKvC,UAAL,CAAgBuC,iBAAhB;AACA,qBAAKD,OAAL,GAAe,CAAf;AACA,qBAAKjC,UAAL,CAAgBgC,MAAhB,GAAwB,IAAxB;AACA,qBAAKjC,UAAL,CAAgBiC,MAAhB,GAAwB,KAAxB;AACA,qBAAK8D,kBAAL;AACA;AACJ;AACI;AA3BR;AA6BH,KA7OI;;;AA+OL;AACAA,sBAhPK,gCAiPL;AAAA;;AACI7E,eAAOC,WAAP,CAAmB6E,sBAAnB,CAA0C,GAA1C,EAA8C,CAA9C,EAAgD,UAACxE,GAAD,EAAO;AACnD,mBAAK5B,UAAL,CAAgBuC,iBAAhB;AACA,gBAAGX,IAAIC,IAAJ,IAAU,GAAb,EAAiB;AACb,oBAAIC,OAAOF,IAAIE,IAAf;AACA,qBAAI,IAAIW,IAAI,CAAZ,EAAcA,IAAIX,KAAKY,MAAvB,EAA8BD,GAA9B,EAAkC;AAC9B,wBAAIE,eAAevD,GAAGwD,WAAH,CAAe,OAAK7C,UAApB,CAAnB;AACA4C,iCAAaE,YAAb,CAA0B,YAA1B,EAAwCC,OAAxC,CAAgDhB,KAAKW,CAAL,CAAhD;AACA,2BAAKzC,UAAL,CAAgB+C,QAAhB,CAAyBJ,YAAzB;AACH;AACJ,aAPD,MAOK;AACDrB,uBAAO0B,OAAP,CAAeC,WAAf,CAA2BrB,IAAIsB,OAA/B;AACH;AACJ,SAZD;AAaH,KA/PI;AAiQLgD,qBAjQK,+BAkQL;AAAA;;AACI,aAAKvG,SAAL,CAAe4C,iBAAf;AACAjB,eAAOC,WAAP,CAAmB8E,aAAnB,CAAiC,CAAjC,EAAmC,CAAnC,EAAqC,UAACzE,GAAD,EAAO;AACxC,mBAAKjC,SAAL,CAAe4C,iBAAf;AACA,gBAAGX,IAAIC,IAAJ,IAAU,GAAb,EAAiB;AACb,oBAAIC,OAAOF,IAAIE,IAAf;AACA;AACA,qBAAI,IAAIW,IAAI,CAAZ,EAAcA,IAAIX,KAAKY,MAAvB,EAA8BD,GAA9B,EAAkC;AAC9B,wBAAGX,KAAKW,CAAL,EAAQ6D,aAAR,IAAuB,OAAKhE,OAA/B,EAAuC;AAAC;AACpC,4BAAIK,eAAevD,GAAGwD,WAAH,CAAe,OAAKnD,SAApB,CAAnB;AACAkD,qCAAaE,YAAb,CAA0B,WAA1B,EAAuCC,OAAvC,CAA+ChB,KAAKW,CAAL,CAA/C,EAAuD,OAAKU,gBAA5D;AACA,+BAAKxD,SAAL,CAAeoD,QAAf,CAAwBJ,YAAxB;AACH;AACJ;AACJ,aAVD,MAUK;AACDrB,uBAAO0B,OAAP,CAAeC,WAAf,CAA2BrB,IAAIsB,OAA/B;AACH;AACJ,SAfD;AAgBH,KApRI;AAsRLqD,eAtRK,uBAsROpE,KAtRP,EAsRa,CAsBjB;AArBG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEJ;;AA7SK,CAAT","file":"GamePanel.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Script\\Ui\\GamePanel","sourcesContent":["let app = require('../../Util/appScript')\ncc.Class({\n    extends: cc.Component,\n    properties: {\n        game_item:cc.Prefab,\n        container:cc.Node,\n        game_item2:cc.Prefab,\n        container2:cc.Node,\n        game_item3:cc.Prefab,\n        container3:cc.Node,\n        Panle:cc.Node,\n        Panle2:cc.Node,\n        Panle3:cc.Node,\n        Panlelist2:cc.Node,\n        Panlelist3:cc.Node,\n        lable_id:cc.Label,\n        lable_name:cc.Label,\n        lable_pic:cc.Label,\n        lable_limit:cc.Label,\n        lable_gold:cc.Label,\n        lable_sum:cc.Label,\n        label_Usdt:cc.Label,\n        editBox_id:cc.EditBox,\n        editBox_name:cc.EditBox,\n        btn_skip:cc.Sprite,\n        btn_item:[cc.Sprite]\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad () {\n        this.goSetlectGamePanle();\n        Global.ProtocolMgr.queryUserData();\n    },\n\n    onEnable(){\n        let reqData = {};\n        app.Post('member/getMemberInfo',reqData,(res)=>{\n            if(res.code==200){\n                if(res.data){\n                    this.label_Usdt.string = res.data.totalUsdt;\n                }\n            }\n        });\n        this.getGameList(null,2);\n    },\n\n    breakSetlectGamePanle(event,customData){\n        // this.goSetlectGamePanle();\n        this.getGameList(null,2);\n    },\n\n    goSetlectGamePanle()\n    {\n        this.Panle.active = true;\n        this.Panle2.active = false;\n        this.Panle3.active= false;\n        this.curType = 2;\n        this.container2.removeAllChildren();\n        Global.ProtocolMgr.queryGameRoomList(1,(res)=>{\n            if(res.code==200){\n                let data = res.data;\n                for(let i = 0;i < data.length;i++){\n                    let gameItemNode = cc.instantiate(this.game_item2);\n                    gameItemNode.getComponent(\"Game_Item2\").setData(data[i]);\n                    this.container2.addChild(gameItemNode);\n                }\n            }else{\n                Global.PageMgr.showTipPage(res.message);\n            }\n        })\n    },\n    //回调\n    goEnterGamePanel(bundleId,datas){\n        var node = Global.PageMgr.pages[7].getComponent(\"GamePanel\");\n        // node.bundleId = bundleId;\n        node.bundleId = cc.js.formatStr(\"1,%s,%s\",datas.game_package_name,datas.game_web_link);\n        node.datas = datas;\n        if(this.selectData != null)\n        {\n            node.Panle.active = false;\n            node.Panle2.active = false;\n            node.Panle3.active = true;\n            node.lable_id.string = datas.game_customer_account;\n            node.lable_name.string = datas.game_customer_nickname;\n            node.lable_pic.string = cc.js.formatStr(\"%s\",parseFloat(node.selectData.ticket).toFixed(2));\n            node.lable_limit.string = datas.number_limit;\n            if(datas.number_limit == \"0\")\n            {\n                node.lable_limit.string = \"无限\";\n            }\n            \n            node.lable_gold.string = cc.js.formatStr(\"%s钻\",parseFloat(window.DEFAULT_availableUsdt).toFixed(3));;\n            node.dianjiSum = 0;\n    \n            node.lable_sum.string = \"\" + node.dianjiSum;\n        }else\n        {\n            let bundleId = cc.js.formatStr(\"1,%s,%s\",node.datas.game_package_name,node.datas.game_web_link);\n            jsb.reflection.callStaticMethod(\"org/cocos2dx/javascript/AppActivity\", \"openApp\", \"(Ljava/lang/String;)Z\", bundleId);\n        }\n    },\n    onClickSkip()\n    {\n        this.goGamePanelUI(null);\n    },\n    //自增\n    sinceIncrease()\n    {\n        if(this.dianjiSum < 100){\n            this.dianjiSum +=1;\n        }\n        this.lable_sum.string = \"\" + this.dianjiSum;\n    },\n\n    //自减\n    sinceReduction()\n    {\n        if(this.dianjiSum > 1){\n            this.dianjiSum -=1;\n        }\n        this.lable_sum.string = \"\" + this.dianjiSum;\n    },\n    //提交信息\n    submitMessage()\n    {\n        if(this.editBox_id.string == \"\")\n        {\n            Global.PageMgr.showTipPage(\"ID为空\"); \n            return;\n        }else if(this.editBox_name.string == \"\")\n        {\n            Global.PageMgr.showTipPage(\"昵称为空\"); \n            return;\n        }else if(this.dianjiSum <= 0)\n        {\n            Global.PageMgr.showTipPage(\"门票不能小于1\"); \n            return;\n        }\n        else if(window.DEFAULT_availableUsdt < this.dianjiSum * (parseInt(this.selectData.ticket *1000)/1000))\n        {\n            Global.PageMgr.showTipPage(\"钻不够请充值\"); \n            return;\n        }\n        this.setUrl();\n      \n    },\n\n    setUrl()\n    {\n        let reqData = {\n            game_id:this.selectData.id,//游戏id\n            sg_id:this.datas.id,//游戏场次ID\n            number:\"\" + this.dianjiSum,//游戏数量\n            game_account:this.editBox_id.string,//游戏账号\n            game_nickname:this.editBox_name.string,//游戏昵称\n        }\n        Global.ProtocolMgr.startCompetitiveGame(reqData,(res)=>{\n            console.log(res)\n            if(res.code!=3001){\n                let data = res.data;\n                // // data = this.data[0];\n                // for(let i = 0;i < data.length;i++){\n                //     // if(data[i].type==this.curType){\n                //         let gameItemNode = cc.instantiate(this.game_item);\n                //         gameItemNode.getComponent(\"game_item\").setData(data[i],this.goEnterGamePanel);\n                //         this.container.addChild(gameItemNode);\n                //     // }\n                // }\n                jsb.reflection.callStaticMethod(\"org/cocos2dx/javascript/AppActivity\", \"openApp\", \"(Ljava/lang/String;)Z\", this.bundleId);\n                this.breakPanle(null,0);\n            }else{\n                Global.PageMgr.showTipPage(res.message);\n            }\n        })\n    },\n\n    breakPanle(event,customData){\n        if(this.selectData != null)\n        {\n            Global.PageMgr.pages[7].getComponent(\"GamePanel\").Panle.active = false;\n            Global.PageMgr.pages[7].getComponent(\"GamePanel\").Panle2.active = true;\n            Global.PageMgr.pages[7].getComponent(\"GamePanel\").Panle3.active= false;\n        }\n        // this.curType = 2;\n        // lobal.PageMgr.pages[7].getComponent(\"GamePanel\").getGameList(null,2);\n    },\n\n    goGamePanelUI(selectData){\n        this.container2.removeAllChildren();\n        this.Panle.active = false;\n        this.Panle2.active = true;\n        this.Panle3.active= false;\n        this.curType = 0;\n        this.selectData = selectData;\n\n        this.getGameList(null,0);\n\n    },\n\n    getGameList(event,customData){\n        this.btn_item.forEach(e=>{\n            e.spriteFrame = null;\n        })\n        cc.loader.loadRes(\"imgs/按钮bg\", cc.SpriteFrame, (err, sf)=>{\n            if (!err){\n                this.btn_item[parseInt(customData)].spriteFrame = sf;\n            }\n        });\n        switch (parseInt(customData)) {\n            case 0:\n                this.curType = 0;\n                this.gameQueryGameList();\n                break;\n            case 1:\n                this.curType = 1;\n                \n                this.gameQueryGameList();\n                break;\n            case 2:\n                this.curType = 2;\n                this.Panlelist2.active= true;\n                this.Panlelist3.active= false;\n                this.container2.removeAllChildren();\n                this.container3.removeAllChildren();\n                this.goSetlectGamePanle();\n                break;\n            case 3:\n                this.container2.removeAllChildren();\n                this.container3.removeAllChildren();\n                this.curType = 3;\n                this.Panlelist3.active= true;\n                this.Panlelist2.active= false;\n                this.setStationRecordUI();\n                break;\n            default:\n                break;\n        }\n    },\n\n    //战绩列表更新数据\n    setStationRecordUI()\n    {\n        Global.ProtocolMgr.queryStationRecordList(100,1,(res)=>{\n            this.container3.removeAllChildren();\n            if(res.code==200){\n                let data = res.data;\n                for(let i = 0;i < data.length;i++){\n                    let gameItemNode = cc.instantiate(this.game_item3);\n                    gameItemNode.getComponent(\"Game_Item3\").setData(data[i]);\n                    this.container3.addChild(gameItemNode);\n                }\n            }else{\n                Global.PageMgr.showTipPage(res.message);\n            }\n        });\n    },\n\n    gameQueryGameList()\n    {\n        this.container.removeAllChildren();\n        Global.ProtocolMgr.queryGameList(1,1,(res)=>{\n            this.container.removeAllChildren();\n            if(res.code==200){\n                let data = res.data;\n                // data = this.data[0];\n                for(let i = 0;i < data.length;i++){\n                    if(data[i].game_terminal==this.curType){//可能有问题\n                        let gameItemNode = cc.instantiate(this.game_item);\n                        gameItemNode.getComponent(\"game_item\").setData(data[i],this.goEnterGamePanel);\n                        this.container.addChild(gameItemNode);\n                    }\n                }\n            }else{\n                Global.PageMgr.showTipPage(res.message);\n            }\n        });\n    },\n\n    setPageData(event){\n        // let param = parseInt(event.target.name);\n        // Global.ProtocolMgr.queryGameList(param,1,(res)=>{\n        //     this.container.removeAllChildren();\n        //     if(res.code==200){\n        //         let data = res.data;\n        //         if(param-1 > data.length)\n        //         {\n        //             data = data[param-1];\n        //         }\n                \n        //         for(let i = 0;i < data.length;i++){\n        //             // if(data[i].type==this.curType){\n        //                 let gameItemNode = cc.instantiate(this.game_item);\n        //                 gameItemNode.getComponent(\"game_item\").setData(data[i],this.goEnterGamePanel);\n        //                 this.container.addChild(gameItemNode);\n        //             // }\n        //         }\n        //     }else{\n        //         Global.PageMgr.showTipPage(res.message);\n        //     }\n        // })\n    }\n    // update (dt) {},\n});\n"]}