{"version":3,"sources":["ToastCtrl.js"],"names":["ViewBase","require","ViewMgr","ToastCtrl","cc","Class","extends","properties","content","Label","bg","Node","initView","t","cb","string","_cb","_t","_rmSelf","node","removeFromParent","destroy","start","scheduleOnce","showText","toast","instantiate","GlobalNiuNiu","assetMgr","toastPrefab","tCtrl","getComponent","getInstance","pushViewImmediate"],"mappings":";;;;AAAA;;;;AAIA;;AAEA,IAAIA,WAAWC,QAAQ,sBAAR,CAAf;AACA,IAAIC,UAAUD,QAAQ,qBAAR,CAAd;;AAEA,IAAIE,YAAYC,GAAGC,KAAH,CAAS;AACrBC,aAASN,QADY;;AAGrBO,gBAAY;AACRC,iBAASJ,GAAGK,KADJ;AAERC,YAAIN,GAAGO;AAFC,KAHS;;AASrBC,YATqB,oBASZJ,OATY,EASHK,CATG,EASAC,EATA,EASG;AACpB,aAAKN,OAAL,CAAaO,MAAb,GAAsBP,OAAtB;AACA,aAAKQ,GAAL,GAAWF,EAAX;AACA,aAAKG,EAAL,GAAUJ,CAAV;AACH,KAboB;AAerBK,WAfqB,qBAeZ;AACL,YAAI,KAAKF,GAAT,EAAa;AACT,iBAAKA,GAAL;AACH;AACD,aAAKG,IAAL,CAAUC,gBAAV,CAA2B,IAA3B;AACA,aAAKD,IAAL,CAAUE,OAAV;AACH,KArBoB;AAuBrBC,SAvBqB,mBAuBd;AACH,aAAKL,EAAL,GAAU,KAAKA,EAAL,GAAU,KAAKA,EAAf,GAAoB,CAA9B;AACA,aAAKM,YAAL,CAAkB,KAAKL,OAAvB,EAAgC,KAAKD,EAArC;AACH;AA1BoB,CAAT,CAAhB;;AA6BA;;;;;AAKAd,UAAUqB,QAAV,GAAqB,UAAUhB,OAAV,EAAmBK,CAAnB,EAAsBC,EAAtB,EAA0B;AAC3CD,QAAIA,IAAEA,CAAF,GAAI,CAAR;AACA,QAAIY,QAAQrB,GAAGsB,WAAH,CAAeC,aAAaC,QAAb,CAAsBC,WAArC,CAAZ;AACA,QAAIC,QAAQL,MAAMM,YAAN,CAAmB,WAAnB,CAAZ;AACAD,UAAMlB,QAAN,CAAeJ,OAAf,EAAwBK,CAAxB,EAA2BC,EAA3B;AACAZ,YAAQ8B,WAAR,GAAsBC,iBAAtB,CAAwCR,KAAxC;AACH,CAND","file":"ToastCtrl.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\NiuNiu\\script\\views","sourcesContent":["/**\n * Created by skyxu on 2019/3/22.\n */\n\n\"use strict\";\n\nlet ViewBase = require(\"./../common/ViewBase\");\nlet ViewMgr = require(\"./../common/ViewMgr\");\n\nlet ToastCtrl = cc.Class({\n    extends: ViewBase,\n\n    properties: {\n        content: cc.Label,\n        bg: cc.Node,\n    },\n\n\n    initView(content, t, cb){\n        this.content.string = content;\n        this._cb = cb;\n        this._t = t;\n    },\n\n    _rmSelf(){\n        if (this._cb){\n            this._cb();\n        }\n        this.node.removeFromParent(true);\n        this.node.destroy();\n    },\n\n    start(){\n        this._t = this._t ? this._t : 1;\n        this.scheduleOnce(this._rmSelf, this._t);\n    }\n});\n\n/**\n * 提示框\n * @param content{String} 内容\n * @param t{Number} 停留时间\n */\nToastCtrl.showText = function (content, t, cb) {\n    t = t?t:1;\n    let toast = cc.instantiate(GlobalNiuNiu.assetMgr.toastPrefab);\n    let tCtrl = toast.getComponent(\"ToastCtrl\");\n    tCtrl.initView(content, t, cb);\n    ViewMgr.getInstance().pushViewImmediate(toast);\n};\n\n\n"]}