{"version":3,"sources":["DialogCtrl.js"],"names":["ViewBase","require","ViewMgr","DialogCtrl","cc","Class","extends","properties","btnLeft","Node","btnRight","content","Label","leftCall","rightCall","start","initView","lBtnTitle","rBtnTitle","lBtnCall","rBtnCall","string","getChildByName","getComponent","active","onBtnLeft","_rmSelf","onBtnRight","node","removeFromParent","destroy","show","leftBtnTitle","rightBtnTitle","leftBtnCall","rightBtnCall","alert","instantiate","GlobalNiuNiu","assetMgr","dialogPrefab","getInstance","pushViewImmediate","showGreen","btnTitle","btnCall","showRed"],"mappings":";;;;AAAA;;;;AAIA;;AAEA,IAAIA,WAAWC,QAAQ,sBAAR,CAAf;AACA,IAAIC,UAAUD,QAAQ,qBAAR,CAAd;;AAEA,IAAIE,aAAaC,GAAGC,KAAH,CAAS;AACtBC,aAASN,QADa;;AAGtBO,gBAAY;AACRC,iBAASJ,GAAGK,IADJ;AAERC,kBAAUN,GAAGK,IAFL;AAGRE,iBAASP,GAAGQ,KAHJ;;AAKRC,kBAAU,IALF;AAMRC,mBAAW;AANH,KAHU;;AAYtBC,SAZsB,mBAYf,CAEN,CAdqB;AAgBtBC,YAhBsB,oBAgBbL,OAhBa,EAgBJM,SAhBI,EAgBOC,SAhBP,EAgBkBC,QAhBlB,EAgB4BC,QAhB5B,EAgBqC;AACvD,aAAKT,OAAL,CAAaU,MAAb,GAAsBV,OAAtB;AACA,YAAIM,SAAJ,EAAc;AACV,iBAAKT,OAAL,CAAac,cAAb,CAA4B,OAA5B,EAAqCC,YAArC,CAAkDnB,GAAGQ,KAArD,EAA4DS,MAA5D,GAAqEJ,SAArE;AACH,SAFD,MAEO;AACH,iBAAKT,OAAL,CAAagB,MAAb,GAAsB,KAAtB;AACH;;AAED,YAAIN,SAAJ,EAAc;AACV,iBAAKR,QAAL,CAAcY,cAAd,CAA6B,OAA7B,EAAsCC,YAAtC,CAAmDnB,GAAGQ,KAAtD,EAA6DS,MAA7D,GAAsEH,SAAtE;AACH,SAFD,MAEO;AACH,iBAAKR,QAAL,CAAcc,MAAd,GAAuB,KAAvB;AACH;;AAED,YAAIL,QAAJ,EAAa;AACT,iBAAKN,QAAL,GAAgBM,QAAhB;AACH;;AAED,YAAIC,QAAJ,EAAa;AACT,iBAAKN,SAAL,GAAiBM,QAAjB;AACH;AACJ,KArCqB;AAuCtBK,aAvCsB,uBAuCX;AACP,aAAKC,OAAL;;AAEA,YAAI,KAAKb,QAAT,EAAkB;AACd,iBAAKA,QAAL;AACH;AACJ,KA7CqB;AA+CtBc,cA/CsB,wBA+CV;AACR,aAAKD,OAAL;;AAEA,YAAI,KAAKZ,SAAT,EAAmB;AACf,iBAAKA,SAAL;AACH;AACJ,KArDqB;AAuDtBY,WAvDsB,qBAuDb;AACL,aAAKE,IAAL,CAAUC,gBAAV,CAA2B,IAA3B;AACA,aAAKD,IAAL,CAAUE,OAAV;AACH;AA1DqB,CAAT,CAAjB;;AA6DA;;;;;;;;AAQA3B,WAAW4B,IAAX,GAAkB,UAAUpB,OAAV,EAAmBqB,YAAnB,EAAiCC,aAAjC,EAAgDC,WAAhD,EAA6DC,YAA7D,EAA2E;AACzF,QAAIC,QAAQhC,GAAGiC,WAAH,CAAeC,aAAaC,QAAb,CAAsBC,YAArC,CAAZ;AACAJ,UAAMb,YAAN,CAAmB,YAAnB,EAAiCP,QAAjC,CAA0CL,OAA1C,EAAmDqB,YAAnD,EAAiEC,aAAjE,EAAgFC,WAAhF,EAA6FC,YAA7F;AACAjC,YAAQuC,WAAR,GAAsBC,iBAAtB,CAAwCN,KAAxC;AACH,CAJD;;AAMA;;;;;;AAMAjC,WAAWwC,SAAX,GAAuB,UAAUhC,OAAV,EAAmBiC,QAAnB,EAA6BC,OAA7B,EAAsC;AACzD1C,eAAW4B,IAAX,CAAgBpB,OAAhB,EAAyB,IAAzB,EAA+BiC,QAA/B,EAAyC,IAAzC,EAA+CC,OAA/C;AACH,CAFD;;AAIA;;;;;;AAMA1C,WAAW2C,OAAX,GAAqB,UAAUnC,OAAV,EAAmBiC,QAAnB,EAA6BC,OAA7B,EAAsC;AACvD1C,eAAW4B,IAAX,CAAgBpB,OAAhB,EAAyBiC,QAAzB,EAAmC,IAAnC,EAAyCC,OAAzC,EAAkD,IAAlD;AACH,CAFD","file":"DialogCtrl.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\NiuNiu\\script\\views","sourcesContent":["/**\r\n * Created by skyxu on 2018/6/12.\r\n */\r\n\r\n\"use strict\";\r\n\r\nlet ViewBase = require(\"./../common/ViewBase\");\r\nlet ViewMgr = require(\"./../common/ViewMgr\");\r\n\r\nlet DialogCtrl = cc.Class({\r\n    extends: ViewBase,\r\n\r\n    properties: {\r\n        btnLeft: cc.Node,\r\n        btnRight: cc.Node,\r\n        content: cc.Label,\r\n\r\n        leftCall: null,\r\n        rightCall: null\r\n    },\r\n\r\n    start(){\r\n\r\n    },\r\n\r\n    initView(content, lBtnTitle, rBtnTitle, lBtnCall, rBtnCall){\r\n        this.content.string = content;\r\n        if (lBtnTitle){\r\n            this.btnLeft.getChildByName(\"Label\").getComponent(cc.Label).string = lBtnTitle;\r\n        } else {\r\n            this.btnLeft.active = false;\r\n        }\r\n\r\n        if (rBtnTitle){\r\n            this.btnRight.getChildByName(\"Label\").getComponent(cc.Label).string = rBtnTitle;\r\n        } else {\r\n            this.btnRight.active = false;\r\n        }\r\n\r\n        if (lBtnCall){\r\n            this.leftCall = lBtnCall;\r\n        }\r\n\r\n        if (rBtnCall){\r\n            this.rightCall = rBtnCall;\r\n        }\r\n    },\r\n\r\n    onBtnLeft(){\r\n        this._rmSelf();\r\n\r\n        if (this.leftCall){\r\n            this.leftCall();\r\n        }\r\n    },\r\n\r\n    onBtnRight(){\r\n        this._rmSelf();\r\n\r\n        if (this.rightCall){\r\n            this.rightCall();\r\n        }\r\n    },\r\n\r\n    _rmSelf(){\r\n        this.node.removeFromParent(true);\r\n        this.node.destroy();\r\n    }\r\n});\r\n\r\n/**\r\n * 提示框\r\n * @param content{String} 内容\r\n * @param leftBtnTitle{String} 左侧按钮文字\r\n * @param rightBtnTitle{String} 右侧按钮文字\r\n * @param leftBtnCall{Function} 左侧按钮回调\r\n * @param rightBtnCall{Function} 右侧按钮回调\r\n */\r\nDialogCtrl.show = function (content, leftBtnTitle, rightBtnTitle, leftBtnCall, rightBtnCall) {\r\n    let alert = cc.instantiate(GlobalNiuNiu.assetMgr.dialogPrefab);\r\n    alert.getComponent(\"DialogCtrl\").initView(content, leftBtnTitle, rightBtnTitle, leftBtnCall, rightBtnCall);\r\n    ViewMgr.getInstance().pushViewImmediate(alert);\r\n};\r\n\r\n/**\r\n * 一个绿色按钮提示\r\n * @param content{String} 内容\r\n * @param btnTitle{String} 按钮文字\r\n * @param btnCall{Function} 按钮回调\r\n */\r\nDialogCtrl.showGreen = function (content, btnTitle, btnCall) {\r\n    DialogCtrl.show(content, null, btnTitle, null, btnCall);\r\n};\r\n\r\n/**\r\n * 一个红色按钮提示\r\n * @param content{String} 内容\r\n * @param btnTitle{String} 按钮文字\r\n * @param btnCall{Function} 按钮回调\r\n */\r\nDialogCtrl.showRed = function (content, btnTitle, btnCall) {\r\n    DialogCtrl.show(content, btnTitle, null, btnCall, null);\r\n};\r\n\r\n"]}