{"version":3,"sources":["CardCtrl.js"],"names":["POINT2SHOW","CartSuit","cc","Enum","DIAMOND","CLUB","HEART","SPADE","Class","extends","Component","properties","cardFace","Sprite","cardPointSp","cardPointSp2","cardSuitSp","cardAtlas","SpriteAtlas","cardPoint","default","type","Integer","min","max","notify","_updateCard","cardShuit","showFace","node","active","start","initCard","point","suit","showF","assert","spriteFrame","getSpriteFrame","_getPointSpriteFrameName","_getSuitSpriteFrameName","undefined","pre","suitName","suitPre"],"mappings":"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","file":"CardCtrl.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\NiuNiu\\script","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\r\n\r\nconst POINT2SHOW = [12,13,1,2,3,4,5,6,7,8,9,10,11];    // 牌面值和图片命名转换\r\nlet CartSuit = cc.Enum({\r\n    DIAMOND: 1, // 方片♦️\r\n    CLUB: 2,    // 梅花♣️\r\n    HEART: 3,   // 红桃♥️\r\n    SPADE: 4,   // 黑桃♠️\r\n});\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        cardFace: cc.Sprite,\r\n        cardPointSp: cc.Sprite,\r\n        cardPointSp2: cc.Sprite,\r\n        cardSuitSp: cc.Sprite,\r\n        cardAtlas: cc.SpriteAtlas,\r\n\r\n        cardPoint: {\r\n            default: 10,\r\n            type: cc.Integer,\r\n            min: 1,\r\n            max: 13,\r\n            notify(){\r\n                this._updateCard();\r\n            }\r\n        },\r\n\r\n        cardShuit: {\r\n            default: 1,\r\n            type: cc.Integer,\r\n            min: 1,\r\n            max: 4,\r\n            notify(){\r\n                this._updateCard();\r\n            }\r\n        },\r\n\r\n        showFace: {\r\n            default: true,\r\n            notify(){\r\n                this.cardFace.node.active = this.showFace;\r\n            }\r\n        },\r\n\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n\r\n    start () {\r\n\r\n    },\r\n\r\n    /**\r\n     * \r\n     * @param {Number} point 牌面点数（1-13）A-K\r\n     * @param {Number} suit  牌面花色（1-4）方块、梅花、红桃、黑桃'\r\n     * @param {Boolean} showF 显示正面\r\n     */\r\n    initCard(point, suit, showF){\r\n        cc.assert(point >= 1 && point <= 13, \"point must be [1,13]\");\r\n        cc.assert(suit >= 1 && suit <= 4, \"suit must be [1,4\");\r\n        this.cardPointSp.spriteFrame = this.cardPointSp2.spriteFrame = this.cardAtlas.getSpriteFrame(this._getPointSpriteFrameName(point,suit));\r\n        this.cardSuitSp.spriteFrame = this.cardAtlas.getSpriteFrame(this._getSuitSpriteFrameName(point, suit));\r\n        this.showFace = showF != undefined ? showF : false;\r\n    },\r\n\r\n    _updateCard(){\r\n        this.initCard(this.cardPoint, this.cardShuit);\r\n    },\r\n\r\n    _getPointSpriteFrameName(point, suit){\r\n        let pre = \"B\";\r\n        pre = suit === 1 || suit === 3 ? \"R\" : pre;\r\n        return pre + POINT2SHOW[point - 1] + \"L\";\r\n    },\r\n\r\n    _getSuitSpriteFrameName(point, suit){\r\n        let suitName = \"fangkuai_L\";\r\n\r\n        if (point < 11){\r\n            if (suit === 2){\r\n                suitName = \"meihua_L\";\r\n            } else if (suit === 3){\r\n                suitName = \"hongtao_L\";\r\n            } else if (suit === 4){\r\n                suitName = \"heitao_L\";\r\n            }\r\n        } else{\r\n            let suitPre = \"hong_\";\r\n            if (suit === 2 || suit === 4){\r\n                suitPre = \"hei_\";\r\n            } \r\n            suitName = suitPre + POINT2SHOW[point - 1] + \"_hua\";\r\n        }\r\n\r\n        return suitName;\r\n    }\r\n\r\n\r\n    // update (dt) {},\r\n});\r\n"]}