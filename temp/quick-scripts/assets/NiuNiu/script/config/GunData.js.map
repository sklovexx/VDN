{"version":3,"sources":["GunData.js"],"names":["UtilsOther","require","GunLevelObj","cc","Class","ctor","level","attackAdd","denseAdd","range","expend","length","coolingAdd","GunObj","baseAttack","baseDense","baseLength","baseSpeed","baseSkillCooling","baseNum","baseGap","levels","skill1level","skill2level","skill3level","skill4level","skill1des","skill2des","skill3des","skill4des","unlockType","unlockAdTimes","unlockChallenge","GunData","_jsonBaseData","_jsonLevelData","gunData","setBaseData","jsonBaseData","setLevelData","jsonLevelData","initBaseData","i","aGunBaseCfg","gunId","clone","initLevelData","aLevelCfgArr","hasOwnProperty","getGunData","obj","newObj","constructor","key","copy"],"mappings":"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","file":"GunData.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\NiuNiu\\script\\config","sourcesContent":["/**\r\n * Created by skyxu on 2018/6/7.\r\n */\r\n\r\n\"use strict\";\r\n\r\nlet UtilsOther = require('./../common/UtilsOther');\r\n\r\nlet GunLevelObj = cc.Class({\r\n    ctor(){\r\n        this.level = 1;         // 当前等级\r\n        this.attackAdd = 0;     // 基础攻击力加成\r\n        this.denseAdd = 0;      // 基础发射速度加成\r\n        this.range = 0;         // 火箭弹爆炸范围0-1\r\n        this.expend = 0;        // 升级到当前等级所需花费\r\n        this.length = 1;        // 激光长度0-1\r\n        this.coolingAdd = 0;    // 大技能冷却加成\r\n    }\r\n});\r\n\r\nlet GunObj = cc.Class({\r\n    ctor(){\r\n        this.baseAttack = 10;           // 基础攻击力\r\n        this.baseDense = 1.25;          // 基础发射速度(bps)\r\n        this.baseLength = 1;            // 基础长度0-1 激光武器\r\n        this.baseSpeed = 20;            // 基础子弹飞行速度\r\n        this.baseSkillCooling = 10;     // 大技能基础冷却时间\r\n        this.baseNum = 3;               // 散弹枪每次发射子弹数量\r\n        this.baseGap = 5;               // 散弹枪子弹间隔角度\r\n        this.levels = new GunLevelObj;  // 枪支等级信息\r\n        this.skill1level = 1;           // 技能开启等级\r\n        this.skill2level = 1;\r\n        this.skill3level = 1;\r\n        this.skill4level = 1;\r\n        this.skill1des = \"\";\r\n        this.skill2des = \"\";\r\n        this.skill3des = \"\";\r\n        this.skill4des = \"\";\r\n        this.unlockType = 1;            // 1:金币解锁 2:观看广告解锁  3:挑战指定关卡解锁\r\n        this.unlockAdTimes = 10;        // 解锁所需观看广告次数\r\n        this.unlockChallenge = 10;      // 解锁所需挑战关卡数\r\n    }\r\n});\r\n\r\nlet GunData = cc.Class({\r\n\r\n});\r\n\r\n\r\nGunData._jsonBaseData = null;\r\nGunData._jsonLevelData = null;\r\nGunData.gunData = null;\r\n\r\nGunData.setBaseData = function (jsonBaseData) {\r\n    GunData._jsonBaseData = jsonBaseData;\r\n};\r\n\r\nGunData.setLevelData = function (jsonLevelData) {\r\n    GunData._jsonLevelData = jsonLevelData;\r\n};\r\n\r\nGunData.initBaseData = function () {\r\n    if (!GunData._jsonBaseData){\r\n        return;\r\n    }\r\n\r\n    GunData.gunData = new GunData();\r\n    for (let i=0; i<GunData._jsonBaseData.length; i++){\r\n        let aGunBaseCfg = GunData._jsonBaseData[i];\r\n        GunData.gunData[\"gun_\" + aGunBaseCfg.gunId] = new GunObj();\r\n        GunData.clone(aGunBaseCfg, GunData.gunData[\"gun_\" + aGunBaseCfg.gunId]);\r\n    }\r\n\r\n    delete GunData._jsonBaseData;\r\n};\r\n\r\nGunData.initLevelData = function () {\r\n    if (!this._jsonLevelData){\r\n        return;\r\n    }\r\n\r\n    for (let i=0; i<this._jsonLevelData.length; i++){\r\n        let aLevelCfgArr = this._jsonLevelData[i];\r\n        if (!GunData.gunData.hasOwnProperty(\"gun_\" + aLevelCfgArr[0].gunId)){\r\n            continue;\r\n        }\r\n        GunData.gunData[\"gun_\" + aLevelCfgArr[0].gunId].levels = aLevelCfgArr;\r\n    }\r\n\r\n    delete GunData._jsonLevelData;\r\n};\r\n\r\n/**\r\n * 获取枪支信息\r\n * @param gunId{cc.Integer} 1: 双枪 2:火箭弹(范围伤害) 3:激光武器 4:散弹枪\r\n */\r\nGunData.getGunData = function (gunId) {\r\n    if (!GunData.gunData || !GunData.gunData[\"gun_\" + gunId]){\r\n        return null;\r\n    }\r\n    return GunData.gunData[\"gun_\" + gunId];\r\n};\r\n\r\nGunData.clone = function (obj, newObj) {\r\n    if (!newObj) {\r\n        newObj = (obj.constructor) ? new obj.constructor() : {};\r\n    }\r\n\r\n    let key;\r\n    let copy;\r\n    for (key in obj) {\r\n        if (!obj.hasOwnProperty(key) || obj[key] == -1) {\r\n            continue;\r\n        }\r\n        copy = obj[key];\r\n        // Beware that typeof null == \"object\" !\r\n        if (((typeof copy) === \"object\") && copy) {\r\n            newObj[key] = UtilsOther.clone(copy, null);\r\n        } else {\r\n            newObj[key] = copy;\r\n        }\r\n    }\r\n    return newObj;\r\n};"]}