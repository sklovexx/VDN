{"version":3,"sources":["event_lister.js"],"names":["eventLister","obj","register","on","type","method","hasOwnProperty","push","fire","methodList","i","length","handle","args","arguments","console","log","apply","removeLister","removeAllLister"],"mappings":";;;;;;;;;AAAA,IAAMA,cAAc,SAAdA,WAAc,CAASC,GAAT,EAAa;AAC7B,QAAIC,WAAW,EAAf;;AAEAD,QAAIE,EAAJ,GAAS,UAASC,IAAT,EAAcC,MAAd,EAAqB;AAC1B,YAAGH,SAASI,cAAT,CAAwBF,IAAxB,CAAH,EAAiC;AAC7BF,qBAASE,IAAT,EAAeG,IAAf,CAAoBF,MAApB;AACH,SAFD,MAEK;AACDH,qBAASE,IAAT,IAAiB,CAACC,MAAD,CAAjB;AACH;AACJ,KAND;;AAQAJ,QAAIO,IAAJ,GAAW,UAASJ,IAAT,EAAc;AACrB,YAAGF,SAASI,cAAT,CAAwBF,IAAxB,CAAH,EAAkC;AAC9B,gBAAIK,aAAaP,SAASE,IAAT,CAAjB;AACA,iBAAI,IAAIM,IAAE,CAAV,EAAYA,IAAED,WAAWE,MAAzB,EAAgC,EAAED,CAAlC,EAAoC;AAChC,oBAAIE,SAASH,WAAWC,CAAX,CAAb;AACA,oBAAIG,OAAO,EAAX;AACA,qBAAI,IAAIH,IAAI,CAAZ,EAAcA,IAAEI,UAAUH,MAA1B,EAAiC,EAAED,CAAnC,EAAqC;AACjCG,yBAAKN,IAAL,CAAUO,UAAUJ,CAAV,CAAV;AACH;;AAED;AACAK,wBAAQC,GAAR,CAAY,iCAA+BZ,IAA3C;AACAQ,uBAAOK,KAAP,CAAa,IAAb,EAAkBJ,IAAlB;AACH;AACJ;AACJ,KAfD;;AAiBAZ,QAAIiB,YAAJ,GAAmB,UAASd,IAAT,EAAc;AAC7BF,iBAASE,IAAT,IAAiB,EAAjB;AACH,KAFD;;AAIAH,QAAIkB,eAAJ,GAAsB,YAAU;AAC5BjB,mBAAW,EAAX;AACH,KAFD;;AAIA,WAAOD,GAAP;AACH,CArCD;;kBAuCeD","file":"event_lister.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\ddz\\scripts\\util","sourcesContent":["const eventLister = function(obj){\n    var register = {}\n\n    obj.on = function(type,method){\n        if(register.hasOwnProperty(type)){\n            register[type].push(method)\n        }else{\n            register[type] = [method]\n        }\n    }\n\n    obj.fire = function(type){\n        if(register.hasOwnProperty(type)) {\n            var methodList = register[type]\n            for(var i=0;i<methodList.length;++i){\n                var handle = methodList[i]\n                var args = []\n                for(var i = 1;i<arguments.length;++i){\n                    args.push(arguments[i])\n                }\n\n                //handle.call(this,args)\n                console.log(\"handle.call(this,args) type:\"+type)\n                handle.apply(this,args)\n            } \n        }\n    }\n\n    obj.removeLister = function(type){\n        register[type] = []\n    }\n\n    obj.removeAllLister = function(){\n        register = {}\n    }\n\n    return obj\n}\n\nexport default eventLister"]}