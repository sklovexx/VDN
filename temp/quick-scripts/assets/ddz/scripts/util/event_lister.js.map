{"version":3,"sources":["event_lister.js"],"names":["eventLister","obj","register","on","type","method","hasOwnProperty","push","fire","methodList","i","length","handle","args","arguments","console","log","apply","removeLister","removeAllLister"],"mappings":";;;;;;;;;AAAA,IAAMA,cAAc,SAAdA,WAAc,CAASC,GAAT,EAAa;AAC7B,QAAIC,WAAW,EAAf;;AAEAD,QAAIE,EAAJ,GAAS,UAASC,IAAT,EAAcC,MAAd,EAAqB;AAC1B,YAAGH,SAASI,cAAT,CAAwBF,IAAxB,CAAH,EAAiC;AAC7BF,qBAASE,IAAT,EAAeG,IAAf,CAAoBF,MAApB;AACH,SAFD,MAEK;AACDH,qBAASE,IAAT,IAAiB,CAACC,MAAD,CAAjB;AACH;AACJ,KAND;;AAQAJ,QAAIO,IAAJ,GAAW,UAASJ,IAAT,EAAc;AACrB,YAAGF,SAASI,cAAT,CAAwBF,IAAxB,CAAH,EAAkC;AAC9B,gBAAIK,aAAaP,SAASE,IAAT,CAAjB;AACA,iBAAI,IAAIM,IAAE,CAAV,EAAYA,IAAED,WAAWE,MAAzB,EAAgC,EAAED,CAAlC,EAAoC;AAChC,oBAAIE,SAASH,WAAWC,CAAX,CAAb;AACA,oBAAIG,OAAO,EAAX;AACA,qBAAI,IAAIH,IAAI,CAAZ,EAAcA,IAAEI,UAAUH,MAA1B,EAAiC,EAAED,CAAnC,EAAqC;AACjCG,yBAAKN,IAAL,CAAUO,UAAUJ,CAAV,CAAV;AACH;;AAED;AACAK,wBAAQC,GAAR,CAAY,iCAA+BZ,IAA3C;AACAQ,uBAAOK,KAAP,CAAa,IAAb,EAAkBJ,IAAlB;AACH;AACJ;AACJ,KAfD;;AAiBAZ,QAAIiB,YAAJ,GAAmB,UAASd,IAAT,EAAc;AAC7BF,iBAASE,IAAT,IAAiB,EAAjB;AACH,KAFD;;AAIAH,QAAIkB,eAAJ,GAAsB,YAAU;AAC5BjB,mBAAW,EAAX;AACH,KAFD;;AAIA,WAAOD,GAAP;AACH,CArCD;;kBAuCeD","file":"event_lister.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\ddz\\scripts\\util","sourcesContent":["const eventLister = function(obj){\r\n    var register = {}\r\n\r\n    obj.on = function(type,method){\r\n        if(register.hasOwnProperty(type)){\r\n            register[type].push(method)\r\n        }else{\r\n            register[type] = [method]\r\n        }\r\n    }\r\n\r\n    obj.fire = function(type){\r\n        if(register.hasOwnProperty(type)) {\r\n            var methodList = register[type]\r\n            for(var i=0;i<methodList.length;++i){\r\n                var handle = methodList[i]\r\n                var args = []\r\n                for(var i = 1;i<arguments.length;++i){\r\n                    args.push(arguments[i])\r\n                }\r\n\r\n                //handle.call(this,args)\r\n                console.log(\"handle.call(this,args) type:\"+type)\r\n                handle.apply(this,args)\r\n            } \r\n        }\r\n    }\r\n\r\n    obj.removeLister = function(type){\r\n        register[type] = []\r\n    }\r\n\r\n    obj.removeAllLister = function(){\r\n        register = {}\r\n    }\r\n\r\n    return obj\r\n}\r\n\r\nexport default eventLister"]}