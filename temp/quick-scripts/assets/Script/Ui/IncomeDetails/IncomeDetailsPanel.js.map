{"version":3,"sources":["IncomeDetailsPanel.js"],"names":["cc","Class","extends","Component","properties","incomeDetailsItem","Prefab","container_incomeDetails","Node","pageSum","pageSum2","onEnable","upDataAccountDetail","Global","ProtocolMgr","querygetAccountDetail","res","code","data","accountDetailList","length","PageMgr","showTipPage","removeAllChildren","i","instantiate","getComponent","setData","addChild","message","onClickDown","onClickUp"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,2BAAkBL,GAAGM,MADb;AAERC,iCAAwBP,GAAGQ,IAFnB;AAGRC,iBAAQ,CAHA;AAIRC,kBAAS;AAJD,KAHP;;AAULC,YAVK,sBAUK;AACN,aAAKF,OAAL,GAAe,CAAf;AACA,aAAKG,mBAAL;AACH,KAbI;AAeLA,uBAfK,iCAgBL;AAAA;;AACIC,eAAOC,WAAP,CAAmBC,qBAAnB,CAAyC,CAAzC,EAA2C,EAA3C,EAA8C,KAAKN,OAAnD,EAA2D,UAACO,GAAD,EAAO;AAC9D,gBAAGA,IAAIC,IAAJ,IAAU,GAAb,EAAiB;AACb,oBAAGD,IAAIE,IAAP,EACA;AACI,wBAAIA,OAAOF,IAAIE,IAAJ,CAASC,iBAApB;AACA,wBAAGD,KAAKE,MAAL,IAAe,CAAlB,EACA;AACI,4BAAG,MAAKX,OAAL,IAAgB,CAAnB,EACA;AACII,mCAAOQ,OAAP,CAAeC,WAAf,CAA2B,SAA3B;AACH;AACD,8BAAKb,OAAL,GAAe,MAAKC,QAAL,GAAgB,CAA/B;AACA;AACH;AACD,0BAAKA,QAAL,GAAgB,MAAKD,OAArB;AACA,wBAAG,MAAKA,OAAL,IAAgB,CAAnB,EACA;AACII,+BAAOQ,OAAP,CAAeC,WAAf,CAA2B,OAA3B;AACH;AACD,0BAAKf,uBAAL,CAA6BgB,iBAA7B;AACA,yBAAI,IAAIC,IAAI,CAAZ,EAAcA,IAAEN,KAAKE,MAArB,EAA4BI,GAA5B,EAAgC;AAC5B,4BAAInB,oBAAoBL,GAAGyB,WAAH,CAAe,MAAKpB,iBAApB,CAAxB;AACAA,0CAAkBqB,YAAlB,CAA+B,oBAA/B,EAAqDC,OAArD,CAA6DT,KAAKM,CAAL,CAA7D;AACA,8BAAKjB,uBAAL,CAA6BqB,QAA7B,CAAsCvB,iBAAtC;AACH;AACJ;AACJ,aAzBD,MAyBK;AACDQ,uBAAOQ,OAAP,CAAeC,WAAf,CAA2BN,IAAIa,OAA/B;AACH;AACJ,SA7BD;AA8BH,KA/CI;AAgDLC,eAhDK,yBAiDL;AACI,YAAG,KAAKrB,OAAL,GAAe,CAAlB,EACA;AACI,iBAAKA,OAAL,IAAe,CAAf;AACA,iBAAKG,mBAAL;AACH,SAJD,MAMA;AACI,iBAAKH,OAAL,GAAe,CAAf;AACAI,mBAAOQ,OAAP,CAAeC,WAAf,CAA2B,QAA3B;AACH;AACJ,KA5DI;AA6DLS,aA7DK,uBA8DL;AACI,aAAKtB,OAAL,IAAe,CAAf;AACA,aAAKG,mBAAL;AACH;AAjEI;AAkEL;AAlEJ","file":"IncomeDetailsPanel.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Script\\Ui\\IncomeDetails","sourcesContent":["cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        incomeDetailsItem:cc.Prefab,\r\n        container_incomeDetails:cc.Node,\r\n        pageSum:1,\r\n        pageSum2:1,\r\n    },\r\n\r\n    onEnable(){\r\n        this.pageSum = 1;\r\n        this.upDataAccountDetail();\r\n    },\r\n\r\n    upDataAccountDetail()\r\n    {\r\n        Global.ProtocolMgr.querygetAccountDetail(0,10,this.pageSum,(res)=>{\r\n            if(res.code==200){\r\n                if(res.data)\r\n                {\r\n                    let data = res.data.accountDetailList;\r\n                    if(data.length == 0)\r\n                    {\r\n                        if(this.pageSum != 1)\r\n                        {\r\n                            Global.PageMgr.showTipPage(\"已经是最后页了\"); \r\n                        }\r\n                        this.pageSum = this.pageSum2 + 1;\r\n                        return;\r\n                    }\r\n                    this.pageSum2 = this.pageSum;\r\n                    if(this.pageSum != 1)\r\n                    {\r\n                        Global.PageMgr.showTipPage(\"刷新成功！\"); \r\n                    }\r\n                    this.container_incomeDetails.removeAllChildren();\r\n                    for(let i = 0;i<data.length;i++){\r\n                        let incomeDetailsItem = cc.instantiate(this.incomeDetailsItem);\r\n                        incomeDetailsItem.getComponent(\"IncomeDetails_Item\").setData(data[i])\r\n                        this.container_incomeDetails.addChild(incomeDetailsItem);\r\n                    }\r\n                }\r\n            }else{\r\n                Global.PageMgr.showTipPage(res.message);\r\n            }\r\n        })\r\n    },\r\n    onClickDown()\r\n    {\r\n        if(this.pageSum > 2)\r\n        {\r\n            this.pageSum -=1;\r\n            this.upDataAccountDetail();\r\n        }\r\n        else\r\n        {\r\n            this.pageSum = 1;\r\n            Global.PageMgr.showTipPage(\"已经是首页了\"); \r\n        }\r\n    },\r\n    onClickUp()\r\n    {\r\n        this.pageSum +=1;\r\n        this.upDataAccountDetail();\r\n    },\r\n    // update (dt) {},\r\n});\r\n"]}