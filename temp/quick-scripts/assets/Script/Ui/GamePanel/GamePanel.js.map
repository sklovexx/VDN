{"version":3,"sources":["GamePanel.js"],"names":["app","require","cc","Class","extends","Component","properties","game_item","Prefab","container","Node","game_item2","container2","game_item3","container3","Panle","Panle2","Panle3","Panle4","bgSprite","Panlelist2","Panlelist3","lable_id","Label","lable_name","lable_pic","lable_limit","lable_gold","lable_sum","label_Usdt","editBox_id","EditBox","editBox_name","btn_skip","Sprite","btn_item","onLoad","Global","ProtocolMgr","queryUserData","onEnable","reqData","Post","res","code","data","string","totalUsdt","getGameList","breakSetlectGamePanle","event","customData","goSetlectGamePanle","active","curType","removeAllChildren","queryGameRoomList","i","length","gameItemNode","instantiate","getComponent","setData","addChild","PageMgr","showTipPage","message","goEnterGamePanel","bundleId","datas","node","pages","js","formatStr","game_package_name","game_web_link","selectData","game_customer_account","game_customer_nickname","parseFloat","ticket","toFixed","number_limit","window","DEFAULT_availableUsdt","dianjiSum","jsb","reflection","callStaticMethod","onClickSkip","goGamePanelUI","sinceIncrease","sinceReduction","submitMessage","parseInt","setUrl","game_id","id","sg_id","number","game_account","game_nickname","startCompetitiveGame","console","log","breakPanle","forEach","e","spriteFrame","loader","loadRes","SpriteFrame","err","sf","gameQueryGameList","setStationRecordUI","queryStationRecordList","queryGameList","game_terminal","setPageData"],"mappings":"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","file":"GamePanel.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Script\\Ui\\GamePanel","sourcesContent":["let app = require('../../Util/appScript')\ncc.Class({\n    extends: cc.Component,\n    properties: {\n        game_item:cc.Prefab,\n        container:cc.Node,\n        game_item2:cc.Prefab,\n        container2:cc.Node,\n        game_item3:cc.Prefab,\n        container3:cc.Node,\n        Panle:cc.Node,\n        Panle2:cc.Node,\n        Panle3:cc.Node,\n        Panle4:cc.Node,\n        bgSprite:cc.Node,\n        Panlelist2:cc.Node,\n        Panlelist3:cc.Node,\n        lable_id:cc.Label,\n        lable_name:cc.Label,\n        lable_pic:cc.Label,\n        lable_limit:cc.Label,\n        lable_gold:cc.Label,\n        lable_sum:cc.Label,\n        label_Usdt:cc.Label,\n        editBox_id:cc.EditBox,\n        editBox_name:cc.EditBox,\n        btn_skip:cc.Sprite,\n        btn_item:[cc.Sprite]\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad () {\n        // this.goSetlectGamePanle();\n        Global.ProtocolMgr.queryUserData();\n    },\n\n    onEnable(){\n        let reqData = {};\n        app.Post('member/getMemberInfo',reqData,(res)=>{\n            if(res.code==200){\n                if(res.data){\n                    this.label_Usdt.string = res.data.totalUsdt;\n                }\n            }\n        });\n        this.getGameList(null,2);\n    },\n\n    breakSetlectGamePanle(event,customData){\n        // this.goSetlectGamePanle();\n        this.getGameList(null,2);\n    },\n\n    goSetlectGamePanle()\n    {\n        this.Panle.active = true;\n        this.Panle2.active = false;\n        this.Panle3.active= false;\n        this.curType = 2;\n        this.container2.removeAllChildren();\n        Global.ProtocolMgr.queryGameRoomList(1,(res)=>{\n            if(res.code==200){\n                let data = res.data;\n                for(let i = 0;i < data.length;i++){\n                    let gameItemNode = cc.instantiate(this.game_item2);\n                    gameItemNode.getComponent(\"Game_Item2\").setData(data[i]);\n                    this.container2.addChild(gameItemNode);\n                }\n            }else{\n                Global.PageMgr.showTipPage(res.message);\n            }\n        })\n    },\n    //回调\n    goEnterGamePanel(bundleId,datas){\n        var node = Global.PageMgr.pages[7].getComponent(\"GamePanel\");\n        // node.bundleId = bundleId;\n        node.bundleId = cc.js.formatStr(\"1,%s,%s\",datas.game_package_name,datas.game_web_link);\n        node.datas = datas;\n        if(this.selectData != null)\n        {\n            node.Panle.active = false;\n            node.Panle2.active = false;\n            node.Panle3.active = true;\n            node.lable_id.string = datas.game_customer_account;\n            node.lable_name.string = datas.game_customer_nickname;\n            node.lable_pic.string = cc.js.formatStr(\"%s\",parseFloat(node.selectData.ticket).toFixed(2));\n            node.lable_limit.string = datas.number_limit;\n            if(datas.number_limit == \"0\")\n            {\n                node.lable_limit.string = \"无限\";\n            }\n            \n            node.lable_gold.string = cc.js.formatStr(\"%s钻\",parseFloat(window.DEFAULT_availableUsdt).toFixed(3));;\n            node.dianjiSum = 0;\n    \n            node.lable_sum.string = \"\" + node.dianjiSum;\n        }else\n        {\n            let bundleId = cc.js.formatStr(\"1,%s,%s\",node.datas.game_package_name,node.datas.game_web_link);\n            jsb.reflection.callStaticMethod(\"org/cocos2dx/javascript/AppActivity\", \"openApp\", \"(Ljava/lang/String;)Z\", bundleId);\n        }\n    },\n    onClickSkip()\n    {\n        this.goGamePanelUI(null);\n    },\n    //自增\n    sinceIncrease()\n    {\n        if(this.dianjiSum < 100){\n            this.dianjiSum +=1;\n        }\n        this.lable_sum.string = \"\" + this.dianjiSum;\n    },\n\n    //自减\n    sinceReduction()\n    {\n        if(this.dianjiSum > 1){\n            this.dianjiSum -=1;\n        }\n        this.lable_sum.string = \"\" + this.dianjiSum;\n    },\n    //提交信息\n    submitMessage()\n    {\n        if(this.editBox_id.string == \"\")\n        {\n            Global.PageMgr.showTipPage(\"ID为空\"); \n            return;\n        }else if(this.editBox_name.string == \"\")\n        {\n            Global.PageMgr.showTipPage(\"昵称为空\"); \n            return;\n        }else if(this.dianjiSum <= 0)\n        {\n            Global.PageMgr.showTipPage(\"门票不能小于1\"); \n            return;\n        }\n        else if(window.DEFAULT_availableUsdt < this.dianjiSum * (parseInt(this.selectData.ticket *1000)/1000))\n        {\n            Global.PageMgr.showTipPage(\"钻不够请充值\"); \n            return;\n        }\n        this.setUrl();\n      \n    },\n\n    setUrl()\n    {\n        let reqData = {\n            game_id:this.selectData.id,//游戏id\n            sg_id:this.datas.id,//游戏场次ID\n            number:\"\" + this.dianjiSum,//游戏数量\n            game_account:this.editBox_id.string,//游戏账号\n            game_nickname:this.editBox_name.string,//游戏昵称\n        }\n        Global.ProtocolMgr.startCompetitiveGame(reqData,(res)=>{\n            console.log(res)\n            if(res.code!=3001){\n                let data = res.data;\n                // // data = this.data[0];\n                // for(let i = 0;i < data.length;i++){\n                //     // if(data[i].type==this.curType){\n                //         let gameItemNode = cc.instantiate(this.game_item);\n                //         gameItemNode.getComponent(\"game_item\").setData(data[i],this.goEnterGamePanel);\n                //         this.container.addChild(gameItemNode);\n                //     // }\n                // }\n                jsb.reflection.callStaticMethod(\"org/cocos2dx/javascript/AppActivity\", \"openApp\", \"(Ljava/lang/String;)Z\", this.bundleId);\n                this.breakPanle(null,0);\n            }else{\n                Global.PageMgr.showTipPage(res.message);\n            }\n        })\n    },\n\n    breakPanle(event,customData){\n        if(this.selectData != null)\n        {\n            Global.PageMgr.pages[7].getComponent(\"GamePanel\").Panle.active = false;\n            Global.PageMgr.pages[7].getComponent(\"GamePanel\").Panle2.active = true;\n            Global.PageMgr.pages[7].getComponent(\"GamePanel\").Panle3.active= false;\n        }\n        // this.curType = 2;\n        // lobal.PageMgr.pages[7].getComponent(\"GamePanel\").getGameList(null,2);\n    },\n\n    goGamePanelUI(selectData){\n        this.container2.removeAllChildren();\n        this.Panle.active = false;\n        this.Panle2.active = true;\n        this.Panle3.active= false;\n        this.curType = 0;\n        this.selectData = selectData;\n\n        this.getGameList(null,0);\n\n    },\n\n    getGameList(event,customData){\n        this.btn_item.forEach(e=>{\n            e.spriteFrame = null;\n        })\n        cc.loader.loadRes(\"imgs/按钮bg\", cc.SpriteFrame, (err, sf)=>{\n            if (!err){\n                this.btn_item[parseInt(customData)].spriteFrame = sf;\n            }\n        });\n        this.bgSprite.active = false;\n        switch (parseInt(customData)) {\n            case 0:\n                this.curType = 0;\n                this.Panle4.active = false;\n                this.bgSprite.active = true;\n                this.gameQueryGameList();\n                break;\n            case 1:\n                this.Panle4.active = false;\n                this.bgSprite.active = true;\n                this.curType = 1;\n                this.gameQueryGameList();\n                break;\n            case 2:\n                // this.curType = 2;\n                this.Panlelist2.active= true;\n                this.Panlelist3.active= false;\n                this.container2.removeAllChildren();\n                this.container3.removeAllChildren();\n                this.goSetlectGamePanle();\n                break;\n            case 3:\n                this.container2.removeAllChildren();\n                this.container3.removeAllChildren();\n                // this.curType = 3;\n                this.Panlelist3.active= true;\n                this.Panlelist2.active= false;\n                this.setStationRecordUI();\n                break;\n            case 4:\n                this.Panle4.active = true;\n                this.container.removeAllChildren();\n                this.curType = 3;\n                break;\n            default:\n                break;\n        }\n    },\n\n    //战绩列表更新数据\n    setStationRecordUI()\n    {\n        Global.ProtocolMgr.queryStationRecordList(100,1,(res)=>{\n            this.container3.removeAllChildren();\n            if(res.code==200){\n                let data = res.data;\n                for(let i = 0;i < data.length;i++){\n                    let gameItemNode = cc.instantiate(this.game_item3);\n                    gameItemNode.getComponent(\"Game_Item3\").setData(data[i]);\n                    this.container3.addChild(gameItemNode);\n                }\n            }else{\n                Global.PageMgr.showTipPage(res.message);\n            }\n        });\n    },\n\n    gameQueryGameList()\n    {\n        this.container.removeAllChildren();\n        Global.ProtocolMgr.queryGameList(1,1,(res)=>{\n            this.container.removeAllChildren();\n            if(res.code==200){\n                let data = res.data;\n                // data = this.data[0];\n                for(let i = 0;i < data.length;i++){\n                    if(data[i].game_terminal==this.curType){\n                        let gameItemNode = cc.instantiate(this.game_item);\n                        gameItemNode.getComponent(\"game_item\").setData(data[i],this.goEnterGamePanel);\n                        this.container.addChild(gameItemNode);\n                    }\n                }\n            }else{\n                Global.PageMgr.showTipPage(res.message);\n            }\n        });\n    },\n\n    setPageData(event){\n        // let param = parseInt(event.target.name);\n        // Global.ProtocolMgr.queryGameList(param,1,(res)=>{\n        //     this.container.removeAllChildren();\n        //     if(res.code==200){\n        //         let data = res.data;\n        //         if(param-1 > data.length)\n        //         {\n        //             data = data[param-1];\n        //         }\n                \n        //         for(let i = 0;i < data.length;i++){\n        //             // if(data[i].type==this.curType){\n        //                 let gameItemNode = cc.instantiate(this.game_item);\n        //                 gameItemNode.getComponent(\"game_item\").setData(data[i],this.goEnterGamePanel);\n        //                 this.container.addChild(gameItemNode);\n        //             // }\n        //         }\n        //     }else{\n        //         Global.PageMgr.showTipPage(res.message);\n        //     }\n        // })\n    }\n    // update (dt) {},\n});\n"]}