{"version":3,"sources":["Game_Item2.js"],"names":["cc","Class","extends","Component","properties","icon_pic","Sprite","label_name","Label","label_menpiao","label_pic","label_fee","propId","start","setData","data","loader","loadRes","id","SpriteFrame","err","sf","spriteFrame","e","console","warn","log","string","grade_field_name","js","formatStr","parseFloat","crystal_quantity","toFixed","reward","ticket","buy","window","DEFAULT_availableUsdt","parseInt","Global","PageMgr","pages","getComponent","goGamePanelUI","showTipPage"],"mappings":";;;;;;AACAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,kBAASL,GAAGM,MADJ;AAERC,oBAAWP,GAAGQ,KAFN;AAGRC,uBAAcT,GAAGQ,KAHT;AAIRE,mBAAUV,GAAGQ,KAJL;AAKRG,mBAAUX,GAAGQ,KALL;AAMRI,gBAAO;AANC,KAHP;;AAYL;;AAEA;AACAC,SAfK,mBAeI,CACR,CAhBI;AAiBLC,WAjBK,mBAiBGC,IAjBH,EAiBQ;AAAA;;AACT,YAAI;AACA;AACA;AACA;AACAf,eAAGgB,MAAH,CAAUC,OAAV,CAAkB,YAAYF,KAAKG,EAAnC,EAAuClB,GAAGmB,WAA1C,EAAuD,UAACC,GAAD,EAAMC,EAAN,EAAW;AAC9D,oBAAI,CAACD,GAAL,EAAS;AACL,0BAAKf,QAAL,CAAciB,WAAd,GAA4BD,EAA5B;AACH;AACJ,aAJD;AAKH,SATD,CASC,OAAOE,CAAP,EAAU;AACPC,oBAAQC,IAAR,CAAaF,CAAb;AACH;AACDC,gBAAQE,GAAR,CAAYX,IAAZ;AACA,aAAKH,MAAL,GAAcG,KAAKG,EAAnB;AACA,aAAKX,UAAL,CAAgBoB,MAAhB,GAAyBZ,KAAKa,gBAA9B;AACA,aAAKlB,SAAL,CAAeiB,MAAf,GAAwB3B,GAAG6B,EAAH,CAAMC,SAAN,CAAgB,oBAAhB,EAAqCC,WAAWhB,KAAKiB,gBAAhB,EAAkCC,OAAlC,CAA0C,CAA1C,CAArC,EAAkFF,WAAWhB,KAAKmB,MAAhB,EAAwBD,OAAxB,CAAgC,CAAhC,CAAlF,CAAxB;AACA,aAAKxB,aAAL,CAAmBkB,MAAnB,GAA4B3B,GAAG6B,EAAH,CAAMC,SAAN,CAAgB,OAAhB,EAAwBC,WAAWhB,KAAKoB,MAAhB,EAAwBF,OAAxB,CAAgC,CAAhC,CAAxB,CAA5B;AACA,aAAKlB,IAAL,GAAYA,IAAZ;AACH,KApCI;AAqCLqB,OArCK,iBAqCA;AACD,YAAGC,OAAOC,qBAAP,IAAiCC,SAAS,KAAKxB,IAAL,CAAUiB,gBAAnB,CAApC,EAA0E;AACtEQ,mBAAOC,OAAP,CAAeC,KAAf,CAAqB,CAArB,EAAwBC,YAAxB,CAAqC,WAArC,EAAkDC,aAAlD,CAAgE,KAAK7B,IAArE,EAA0E,KAAKH,MAA/E;AACH,SAFD,MAEK;AACD4B,mBAAOC,OAAP,CAAeI,WAAf,CAA4B7C,GAAG6B,EAAH,CAAMC,SAAN,CAAgB,SAAhB,EAA0BC,WAAW,KAAKhB,IAAL,CAAUiB,gBAArB,EAAuCC,OAAvC,CAA+C,CAA/C,CAA1B,CAA5B;AACA;AACA;AACA;AACH;AACJ;AACD;;AA/CK,CAAT","file":"Game_Item2.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Script\\Ui\\GamePanel","sourcesContent":["\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        icon_pic:cc.Sprite,\r\n        label_name:cc.Label,\r\n        label_menpiao:cc.Label,\r\n        label_pic:cc.Label,\r\n        label_fee:cc.Label,\r\n        propId:1\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    // onLoad () {},\r\n    start () {\r\n    },\r\n    setData(data){\r\n        try {\r\n            // cc.loader.load({url:data.icon,type:'png'},(err,res)=>{\r\n            //     this.icon_pic.spriteFrame = new cc.SpriteFrame(res)\r\n            // })\r\n            cc.loader.loadRes(\"imgs/bg\" + data.id, cc.SpriteFrame, (err, sf)=>{\r\n                if (!err){\r\n                    this.icon_pic.spriteFrame = sf;\r\n                }\r\n            });\r\n        }catch (e) {\r\n            console.warn(e)\r\n        }\r\n        console.log(data);\r\n        this.propId = data.id;\r\n        this.label_name.string = data.grade_field_name;\r\n        this.label_pic.string = cc.js.formatStr(\"%s个PMV\\n每局胜奖励负扣减%s\",parseFloat(data.crystal_quantity).toFixed(1),parseFloat(data.reward).toFixed(1));\r\n        this.label_menpiao.string = cc.js.formatStr(\"门票:%s\",parseFloat(data.ticket).toFixed(4));\r\n        this.data = data;\r\n    },\r\n    buy(){\r\n        if(window.DEFAULT_availableUsdt >= (parseInt(this.data.crystal_quantity))){\r\n            Global.PageMgr.pages[7].getComponent(\"GamePanel\").goGamePanelUI(this.data,this.propId); \r\n        }else{\r\n            Global.PageMgr.showTipPage( cc.js.formatStr(\"PMV不足%s\",parseFloat(this.data.crystal_quantity).toFixed(1)));\r\n            // Global.PageMgr.pages[15].getComponent(\"BuyPanel\").propId = this.propId;\r\n            // Global.PageMgr.pages[15].getComponent(\"BuyPanel\").type = 2;\r\n            // Global.PageMgr.onOpenPage(15);\r\n        }\r\n    }\r\n    // update (dt) {},\r\n});\r\n"]}