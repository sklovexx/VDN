{"version":3,"sources":["JiaoYiPanel.js"],"names":["cc","Class","extends","Component","properties","jiaoyi_item","Prefab","container","Node","btn_item","Sprite","onEnable","getListData","event","customData","forEach","e","spriteFrame","loader","loadRes","SpriteFrame","err","sf","parseInt","Global","ProtocolMgr","queryJiaoYiList","res","code","data","console","log","removeAllChildren","i","length","jiaoyiItemNode","instantiate","getComponent","setData","addChild","PageMgr","showTipPage","message","close","onClosePage"],"mappings":";;;;;;AACAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,qBAAYL,GAAGM,MADP;AAERC,mBAAUP,GAAGQ,IAFL;AAGRC,kBAAS,CAACT,GAAGU,MAAJ;AAHD,KAHP;;AASL;;AAEA;;AAEAC,YAbK,sBAaK;AACN,aAAKC,WAAL,CAAiB,IAAjB,EAAsB,CAAtB;AACH,KAfI;AAgBLA,eAhBK,uBAgBOC,KAhBP,EAgBaC,UAhBb,EAgBwB;AAAA;;AACzB,aAAKL,QAAL,CAAcM,OAAd,CAAsB,aAAG;AACrBC,cAAEC,WAAF,GAAgB,IAAhB;AACH,SAFD;AAGAjB,WAAGkB,MAAH,CAAUC,OAAV,CAAkB,WAAlB,EAA+BnB,GAAGoB,WAAlC,EAA+C,UAACC,GAAD,EAAMC,EAAN,EAAW;AACtD,gBAAI,CAACD,GAAL,EAAS;AACL,sBAAKZ,QAAL,CAAcc,SAAST,UAAT,CAAd,EAAoCG,WAApC,GAAkDK,EAAlD;AACH;AACJ,SAJD;AAKAE,eAAOC,WAAP,CAAmBC,eAAnB,CAAmC,UAACC,GAAD,EAAO;AACtC,gBAAGA,IAAIC,IAAJ,IAAU,GAAb,EAAiB;AACb,oBAAIC,OAAOF,IAAIE,IAAf;AACAC,wBAAQC,GAAR,CAAYF,IAAZ;AACA,sBAAKtB,SAAL,CAAeyB,iBAAf;AACA,qBAAI,IAAIC,IAAI,CAAZ,EAAcA,IAAEJ,KAAKK,MAArB,EAA4BD,GAA5B,EAAgC;AAC5B,wBAAIE,iBAAiBnC,GAAGoC,WAAH,CAAe,MAAK/B,WAApB,CAArB;AACA8B,mCAAeE,YAAf,CAA4B,aAA5B,EAA2CC,OAA3C,CAAmDL,CAAnD,EAAqDJ,KAAKI,CAAL,CAArD;AACA,0BAAK1B,SAAL,CAAegC,QAAf,CAAwBJ,cAAxB;AACH;AACJ,aATD,MASK;AACDX,uBAAOgB,OAAP,CAAeC,WAAf,CAA2Bd,IAAIe,OAA/B;AACH;AACJ,SAbD;AAcH,KAvCI;AAwCLC,SAxCK,mBAwCE;AACHnB,eAAOgB,OAAP,CAAeI,WAAf,CAA2B,CAA3B;AACH;AACD;;AA3CK,CAAT","file":"JiaoYiPanel.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Script\\Ui\\JiaoYiPanel","sourcesContent":["\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        jiaoyi_item:cc.Prefab,\n        container:cc.Node,\n        btn_item:[cc.Sprite]\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    // onLoad () {},\n\n    onEnable(){\n        this.getListData(null,0)\n    },\n    getListData(event,customData){\n        this.btn_item.forEach(e=>{\n            e.spriteFrame = null;\n        })\n        cc.loader.loadRes(\"imgs/按钮bg\", cc.SpriteFrame, (err, sf)=>{\n            if (!err){\n                this.btn_item[parseInt(customData)].spriteFrame = sf;\n            }\n        });\n        Global.ProtocolMgr.queryJiaoYiList((res)=>{\n            if(res.code==200){\n                let data = res.data\n                console.log(data);\n                this.container.removeAllChildren();\n                for(let i = 0;i<data.length;i++){\n                    let jiaoyiItemNode = cc.instantiate(this.jiaoyi_item);\n                    jiaoyiItemNode.getComponent(\"jiaoyi_item\").setData(i,data[i]);\n                    this.container.addChild(jiaoyiItemNode);\n                }\n            }else{\n                Global.PageMgr.showTipPage(res.message);\n            }\n        })\n    },\n    close(){\n        Global.PageMgr.onClosePage(3);\n    }\n    // update (dt) {},\n});\n"]}