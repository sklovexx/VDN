{"version":3,"sources":["AnnouncementPanel.js"],"names":["cc","Class","extends","Component","properties","emailItem","Prefab","container_email","Node","start","onEnable","Global","ProtocolMgr","queryGetMessage","res","code","data","removeAllChildren","i","instantiate","getComponent","setData","on","EventType","TOUCH_END","PageMgr","onOpenPage","pages","addChild","length","showTipPage","message"],"mappings":";;;;;;AAEAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,mBAAUL,GAAGM,MADL;AAERC,yBAAgBP,GAAGQ;AAFX,KAHP;AAOLC,SAPK,mBAOI,CAER,CATI;AAULC,YAVK,sBAUK;AAAA;;AACNC,eAAOC,WAAP,CAAmBC,eAAnB,CAAmC,UAACC,GAAD,EAAO;AACtC,gBAAGA,IAAIC,IAAJ,IAAU,GAAb,EAAiB;AAAA;AACb,wBAAIC,OAAOF,IAAIE,IAAf;AACA,0BAAKT,eAAL,CAAqBU,iBAArB;;AAFa,+CAGLC,CAHK;AAIT,4BAAIb,YAAYL,GAAGmB,WAAH,CAAe,MAAKd,SAApB,CAAhB;AACAA,kCAAUe,YAAV,CAAuB,WAAvB,EAAoCC,OAApC,CAA4CL,KAAKE,CAAL,CAA5C,EAAoD,CAApD;AACAb,kCAAUiB,EAAV,CAAatB,GAAGQ,IAAH,CAAQe,SAAR,CAAkBC,SAA/B,EAAyC,YAAI;AACzCb,mCAAOc,OAAP,CAAeC,UAAf,CAA0B,EAA1B;AACAf,mCAAOc,OAAP,CAAeE,KAAf,CAAqB,EAArB,EAAyBP,YAAzB,CAAsC,kBAAtC,EAA0DC,OAA1D,CAAkEL,KAAKE,CAAL,CAAlE,EAA0E,CAA1E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACH,yBAZD;AAaA,8BAAKX,eAAL,CAAqBqB,QAArB,CAA8BvB,SAA9B;AAnBS;;AAGb,yBAAI,IAAIa,IAAI,CAAZ,EAAcA,IAAEF,KAAKa,MAArB,EAA4BX,GAA5B,EAAgC;AAAA,8BAAxBA,CAAwB;AAiB/B;AApBY;AAqBhB,aArBD,MAqBK;AACDP,uBAAOc,OAAP,CAAeK,WAAf,CAA2BhB,IAAIiB,OAA/B;AACH;AACJ,SAzBD;AA0BH;AArCI,CAAT","file":"AnnouncementPanel.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Script\\Ui\\AnnouncementPanel","sourcesContent":["\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        emailItem:cc.Prefab,\n        container_email:cc.Node\n    },\n    start () {\n\n    },\n    onEnable(){\n        Global.ProtocolMgr.queryGetMessage((res)=>{\n            if(res.code==200){\n                let data = res.data\n                this.container_email.removeAllChildren();\n                for(let i = 0;i<data.length;i++){\n                    let emailItem = cc.instantiate(this.emailItem);\n                    emailItem.getComponent(\"emailItem\").setData(data[i],2)\n                    emailItem.on(cc.Node.EventType.TOUCH_END,()=>{\n                        Global.PageMgr.onOpenPage(20);\n                        Global.PageMgr.pages[20].getComponent(\"EmailDetailPanel\").setData(data[i],2);\n                        // if(data[i].state==0){\n                        //     Global.ProtocolMgr.readEmail(data[i].id,(res2)=>{\n                        //         if(res2.code==200){\n                        //             console.log(res2);\n                        //         }else{\n                        //             Global.PageMgr.showTipPage(res2.message); \n                        //         }\n                        //     })\n                        // }\n                    })\n                    this.container_email.addChild(emailItem);\n                }\n            }else{\n                Global.PageMgr.showTipPage(res.message);\n            }\n        })\n    }\n});\n"]}