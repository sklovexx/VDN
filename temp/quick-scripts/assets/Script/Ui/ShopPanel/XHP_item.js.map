{"version":3,"sources":["XHP_item.js"],"names":["cc","Class","extends","Component","properties","icon_pic","Sprite","label_name","Label","label_prop","label_fee","btn_use","propId","start","setData","data","types","loader","load","url","icon","type","err","res","spriteFrame","SpriteFrame","e","console","warn","string","name","id","js","formatStr","elevatedValue","parseFloat","price","toFixed","mc_id","quantity","buy","Global","PageMgr","pages","getComponent","onOpenPage","usePprops"],"mappings":";;;;;;AACAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,kBAASL,GAAGM,MADJ;AAERC,oBAAWP,GAAGQ,KAFN;AAGRC,oBAAWT,GAAGQ,KAHN;AAIRE,mBAAUV,GAAGQ,KAJL;AAKRG,iBAAQX,GAAGM,MALH;AAMRM,gBAAO;AANC,KAHP;;AAYL;;AAEA;AACAC,SAfK,mBAeI,CAER,CAjBI;AAkBLC,WAlBK,mBAkBGC,IAlBH,EAkBQC,KAlBR,EAkBc;AAAA;;AACf,YAAI;AACAhB,eAAGiB,MAAH,CAAUC,IAAV,CAAe,EAACC,KAAIJ,KAAKK,IAAV,EAAeC,MAAK,KAApB,EAAf,EAA0C,UAACC,GAAD,EAAKC,GAAL,EAAW;AACjD,sBAAKlB,QAAL,CAAcmB,WAAd,GAA4B,IAAIxB,GAAGyB,WAAP,CAAmBF,GAAnB,CAA5B;AACH,aAFD;AAGA;AACA;AACA;AACA;AACA;AACH,SATD,CASC,OAAOG,CAAP,EAAU;AACPC,oBAAQC,IAAR,CAAaF,CAAb;AACH;;AAED,aAAKnB,UAAL,CAAgBsB,MAAhB,GAAyBd,KAAKe,IAA9B;AACA,YAAGd,SAAS,IAAZ,EAAiB;AACb,iBAAKJ,MAAL,GAAcG,KAAKgB,EAAnB;AACA,iBAAKtB,UAAL,CAAgBoB,MAAhB,GAAyB7B,GAAGgC,EAAH,CAAMC,SAAN,CAAgB,KAAhB,EAAsBlB,KAAKmB,aAA3B,CAAzB;AACA,iBAAKxB,SAAL,CAAemB,MAAf,GAAwB7B,GAAGgC,EAAH,CAAMC,SAAN,CAAgB,IAAhB,EAAqBE,WAAWpB,KAAKqB,KAAhB,EAAuBC,OAAvB,CAA+B,CAA/B,CAArB,CAAxB;AACH,SAJD,MAMA;AACI,iBAAKzB,MAAL,GAAcG,KAAKuB,KAAnB;AACA,iBAAK7B,UAAL,CAAgBoB,MAAhB,GAAyB7B,GAAGgC,EAAH,CAAMC,SAAN,CAAgB,IAAhB,EAAqBlB,KAAKwB,QAA1B,CAAzB;AACH;AAEJ,KA5CI;AA6CLC,OA7CK,iBA6CA;AACDC,eAAOC,OAAP,CAAeC,KAAf,CAAqB,EAArB,EAAyBC,YAAzB,CAAsC,UAAtC,EAAkDhC,MAAlD,GAA2D,KAAKA,MAAhE;AACA6B,eAAOC,OAAP,CAAeC,KAAf,CAAqB,EAArB,EAAyBC,YAAzB,CAAsC,UAAtC,EAAkDvB,IAAlD,GAAyD,CAAzD;AACAoB,eAAOC,OAAP,CAAeG,UAAf,CAA0B,EAA1B;AACH,KAjDI;AAkDLC,aAlDK,uBAkDM;;AAEPL,eAAOC,OAAP,CAAeC,KAAf,CAAqB,EAArB,EAAyBC,YAAzB,CAAsC,UAAtC,EAAkDhC,MAAlD,GAA2D,KAAKA,MAAhE;AACA6B,eAAOC,OAAP,CAAeC,KAAf,CAAqB,EAArB,EAAyBC,YAAzB,CAAsC,UAAtC,EAAkDvB,IAAlD,GAAyD,CAAzD;AACAoB,eAAOC,OAAP,CAAeG,UAAf,CAA0B,EAA1B;AACH;AACD;;AAxDK,CAAT","file":"XHP_item.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Script\\Ui\\ShopPanel","sourcesContent":["\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        icon_pic:cc.Sprite,\r\n        label_name:cc.Label,\r\n        label_prop:cc.Label,\r\n        label_fee:cc.Label,\r\n        btn_use:cc.Sprite,\r\n        propId:1\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    // onLoad () {},\r\n    start () {\r\n\r\n    },\r\n    setData(data,types){\r\n        try {\r\n            cc.loader.load({url:data.icon,type:'png'},(err,res)=>{\r\n                this.icon_pic.spriteFrame = new cc.SpriteFrame(res)\r\n            })\r\n            // cc.loader.loadRes(\"imgs/\" + data.icon, cc.SpriteFrame, (err, sf)=>{\r\n            //     if (!err){\r\n            //         this.icon_pic.spriteFrame = sf;\r\n            //     }\r\n            // });\r\n        }catch (e) {\r\n            console.warn(e)\r\n        }\r\n        \r\n        this.label_name.string = data.name;\r\n        if(types == null){\r\n            this.propId = data.id;\r\n            this.label_prop.string = cc.js.formatStr(\"+%s\",data.elevatedValue);\r\n            this.label_fee.string = cc.js.formatStr(\"%s\",parseFloat(data.price).toFixed(4));\r\n        }\r\n        else\r\n        {\r\n            this.propId = data.mc_id;\r\n            this.label_prop.string = cc.js.formatStr(\"%s\",data.quantity);\r\n        }\r\n\r\n    },\r\n    buy(){\r\n        Global.PageMgr.pages[15].getComponent(\"BuyPanel\").propId = this.propId;\r\n        Global.PageMgr.pages[15].getComponent(\"BuyPanel\").type = 0;\r\n        Global.PageMgr.onOpenPage(15);\r\n    },\r\n    usePprops(){\r\n        \r\n        Global.PageMgr.pages[15].getComponent(\"BuyPanel\").propId = this.propId;\r\n        Global.PageMgr.pages[15].getComponent(\"BuyPanel\").type = 1;\r\n        Global.PageMgr.onOpenPage(15);\r\n    }\r\n    // update (dt) {},\r\n});\r\n"]}