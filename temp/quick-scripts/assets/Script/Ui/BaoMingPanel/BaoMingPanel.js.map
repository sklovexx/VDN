{"version":3,"sources":["BaoMingPanel.js"],"names":["cc","Class","extends","Component","properties","label_saiqu","Label","editBox_zhandui","EditBox","editBox_name","editBox_card","editBox_phone","editBox_email","selectItem","Prefab","container_saiqu","Node","container_zhandui","scroll_saiqu","Panle","Panle2","label_email","label_name","label_zhandui","label_saiqu2","label_dianhua","label_zhengjian","scroll_zhandui","start","onEnable","showApplyForTeamInformation","active","Global","ProtocolMgr","queryGetSignUPInfo","res","code","data","string","email","name","team_name","division_name","id_card_number","phone","showApplyForTeam","did","tid","queryDivisionList","console","log","removeAllChildren","i","instantiate","getComponent","on","EventType","TOUCH_END","id","closeScroll","addChild","length","PageMgr","showTipPage","message","showScroll","event","customData","submit","reqData","toString","submitBaoMing","onClosePage"],"mappings":"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","file":"BaoMingPanel.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Script\\Ui\\BaoMingPanel","sourcesContent":["\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        label_saiqu:cc.Label,\n        // label_zhandui:cc.Label,\n        editBox_zhandui:cc.EditBox,\n        editBox_name:cc.EditBox,\n        editBox_card:cc.EditBox,\n        editBox_phone:cc.EditBox,\n        editBox_email:cc.EditBox,\n        selectItem:cc.Prefab,\n        container_saiqu:cc.Node,\n        container_zhandui:cc.Node,\n        scroll_saiqu:cc.Node,\n        Panle:cc.Node,\n        Panle2:cc.Node,\n        label_email:cc.Label,\n        label_name:cc.Label,\n        label_zhandui:cc.Label,\n        label_saiqu2:cc.Label,\n        label_dianhua:cc.Label,\n        label_zhengjian:cc.Label,\n\n        scroll_zhandui:cc.Node\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    // onLoad () {},\n\n    start () {\n\n    },\n    onEnable(){\n        this.showApplyForTeamInformation();\n    },\n\n    //展示战队信息\n    showApplyForTeamInformation()\n    {\n        this.Panle.active = false;\n        this.Panle2.active = true;\n        Global.ProtocolMgr.queryGetSignUPInfo((res)=>{\n            if(res.code==200){\n                let data = res.data\n                if(data)\n                {\n                    this.label_email.string = data.email;\n                    this.label_name.string = data.name;\n                    this.label_zhandui.string = data.team_name;\n                    this.label_saiqu2.string = data.division_name;\n                    this.label_zhengjian.string = data.id_card_number;\n                    this.label_dianhua.string = data.phone;\n                }\n            }\n            else{\n                this.showApplyForTeam();\n            }\n        })\n    },\n\n    //展示申请战队ui\n    showApplyForTeam()\n    {\n        this.Panle.active = true;\n        this.Panle2.active = false;\n        this.did = 0;\n        this.tid = 0;\n        this.label_saiqu.string = '-选择赛区';\n        this.editBox_name.string = \"\";\n        this.editBox_email.string = \"\";\n        this.editBox_phone.string = \"\";\n        this.editBox_card.string = \"\";\n        this.editBox_zhandui.string = \"\";\n        Global.ProtocolMgr.queryDivisionList((res)=>{\n            if(res.code==200){\n                let data = res.data\n                console.log(data);\n                this.container_saiqu.removeAllChildren();\n                for(let i = 0;i<data.length;i++){\n                    let selectItem = cc.instantiate(this.selectItem);\n                    selectItem.getComponent(cc.Label).string = data[i].division_name;\n                    selectItem.on(cc.Node.EventType.TOUCH_END,()=>{\n                        this.label_saiqu.string = data[i].division_name;\n                        this.did = data[i].id;\n                        console.log(this.did);\n                        this.closeScroll();\n                    })\n                    this.container_saiqu.addChild(selectItem);\n                }\n            }else{\n                Global.PageMgr.showTipPage(res.message);\n            }\n        })\n\n    },\n    showScroll(event,customData){\n        switch (customData) {\n            case \"saiqu\":\n                this.scroll_saiqu.active = true;\n                break;\n            case \"zhandui\":\n                this.scroll_zhandui.active = true;\n                break;\n            default:\n                break;\n        }\n    },\n\n    closeScroll(){\n        this.scroll_saiqu.active = false;\n        this.scroll_zhandui.active = false;\n    },\n    submit(){\n        if(this.did==0){\n            Global.PageMgr.showTipPage(\"还未选择赛区\");\n            return;\n        }\n        if(this.editBox_zhandui.string==\"\"){\n            Global.PageMgr.showTipPage(\"还未填写战队\");\n            return;\n        }\n        if(this.editBox_name.string==\"\"){\n            Global.PageMgr.showTipPage(\"还未填写姓名\");\n            return;\n        }\n        if(this.editBox_card.string==\"\"){\n            Global.PageMgr.showTipPage(\"还未填写身份证号\");\n            return;\n        }\n        if(this.editBox_phone.string==\"\"){\n            Global.PageMgr.showTipPage(\"还未填写手机号\");\n            return;\n        }\n        if(this.editBox_email.string==\"\"){\n            Global.PageMgr.showTipPage(\"还未填写邮箱\");\n            return;\n        }\n        let reqData = {\n            name:this.editBox_name.string,\n            email:this.editBox_email.string,\n            phone:this.editBox_phone.string,\n            id_card_number:this.editBox_card.string,\n            team_name :this.editBox_zhandui.string,\n            did:this.did.toString(),\n        }\n        Global.ProtocolMgr.submitBaoMing(reqData,(res)=>{\n            console.log(res)\n            if(res.code==200){\n                Global.PageMgr.showTipPage(\"报名成功\");\n                Global.PageMgr.onClosePage(17);\n            }else{\n                Global.PageMgr.showTipPage(res.message);\n            }\n        })\n    }\n    // update (dt) {},\n});\n"]}