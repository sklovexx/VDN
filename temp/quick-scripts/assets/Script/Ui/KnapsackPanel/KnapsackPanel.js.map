{"version":3,"sources":["KnapsackPanel.js"],"names":["cc","Class","extends","Component","properties","NFT_item","Prefab","XHP_item","container","Node","btn_item","Sprite","onEnable","getShopList","Global","ProtocolMgr","queryUserData","event","customData","forEach","e","spriteFrame","loader","loadRes","SpriteFrame","err","sf","parseInt","removeAllChildren","queryKnapsackNFTList","res","console","log","code","data","i","length","NFTItemNode","instantiate","getComponent","setData","addChild","PageMgr","showTipPage","message","queryKnapsackXHPList","XHPItemNode","onOpenPage","onDisable"],"mappings":";;;;;;AACAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,kBAASL,GAAGM,MADJ;AAERC,kBAASP,GAAGM,MAFJ;AAGRE,mBAAUR,GAAGS,IAHL;AAIRC,kBAAS,CAACV,GAAGW,MAAJ;AAJD,KAHP;;AAUL;;AAEA;;AAEAC,YAdK,sBAcK;AACN,aAAKC,WAAL,CAAiB,IAAjB,EAAsB,CAAtB;AACAC,eAAOC,WAAP,CAAmBC,aAAnB;AACH,KAjBI;AAkBLH,eAlBK,uBAkBOI,KAlBP,EAkBaC,UAlBb,EAkBwB;AAAA;;AACzB,aAAKR,QAAL,CAAcS,OAAd,CAAsB,aAAG;AACrBC,cAAEC,WAAF,GAAgB,IAAhB;AACH,SAFD;AAGArB,WAAGsB,MAAH,CAAUC,OAAV,CAAkB,WAAlB,EAA+BvB,GAAGwB,WAAlC,EAA+C,UAACC,GAAD,EAAMC,EAAN,EAAW;AACtD,gBAAI,CAACD,GAAL,EAAS;AACL,sBAAKf,QAAL,CAAciB,SAAST,UAAT,CAAd,EAAoCG,WAApC,GAAkDK,EAAlD;AACH;AACJ,SAJD;AAKA,aAAKlB,SAAL,CAAeoB,iBAAf;AACA,gBAAQD,SAAST,UAAT,CAAR;AACI,iBAAK,CAAL;AACIJ,uBAAOC,WAAP,CAAmBc,oBAAnB,CAAwC,UAACC,GAAD,EAAO;AAC3CC,4BAAQC,GAAR,CAAYF,GAAZ;AACA,wBAAGA,IAAIG,IAAJ,IAAU,GAAb,EAAiB;AACb,4BAAIC,OAAOJ,IAAII,IAAf;AACA,6BAAI,IAAIC,IAAI,CAAZ,EAAcA,IAAID,KAAKE,MAAvB,EAA8BD,GAA9B,EAAkC;AAC9B,gCAAIE,cAAcrC,GAAGsC,WAAH,CAAe,MAAKjC,QAApB,CAAlB;AACAgC,wCAAYE,YAAZ,CAAyB,UAAzB,EAAqCC,OAArC,CAA6CN,KAAKC,CAAL,CAA7C,EAAqD,CAArD;AACA,kCAAK3B,SAAL,CAAeiC,QAAf,CAAwBJ,WAAxB;AACH;AACJ,qBAPD,MAOK;AACDvB,+BAAO4B,OAAP,CAAeC,WAAf,CAA2Bb,IAAIc,OAA/B;AACH;AACJ,iBAZD;AAaA;AACJ,iBAAK,CAAL;AACI9B,uBAAOC,WAAP,CAAmB8B,oBAAnB,CAAwC,UAACf,GAAD,EAAO;AAC3CC,4BAAQC,GAAR,CAAYF,GAAZ;AACA,wBAAGA,IAAIG,IAAJ,IAAU,GAAb,EAAiB;AACb,4BAAIC,OAAOJ,IAAII,IAAf;AACA,6BAAI,IAAIC,IAAI,CAAZ,EAAcA,IAAID,KAAKE,MAAvB,EAA8BD,GAA9B,EAAkC;AAC9B,gCAAIW,cAAc9C,GAAGsC,WAAH,CAAe,MAAK/B,QAApB,CAAlB;AACAuC,wCAAYP,YAAZ,CAAyB,UAAzB,EAAqCC,OAArC,CAA6CN,KAAKC,CAAL,CAA7C,EAAqD,CAArD;AACA,kCAAK3B,SAAL,CAAeiC,QAAf,CAAwBK,WAAxB;AACH;AACJ,qBAPD,MAOK;AACDhC,+BAAO4B,OAAP,CAAeC,WAAf,CAA2Bb,IAAIc,OAA/B;AACH;AACJ,iBAZD;AAaA;AACJ,iBAAK,CAAL;AACI9B,uBAAO4B,OAAP,CAAeK,UAAf,CAA0B,CAA1B;AACA;AACJ;AACI;AAnCR;AAqCH,KAjEI;AAkELC,aAlEK,uBAkEM,CACV;AACD;;AApEK,CAAT","file":"KnapsackPanel.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Script\\Ui\\KnapsackPanel","sourcesContent":["\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        NFT_item:cc.Prefab,\n        XHP_item:cc.Prefab,\n        container:cc.Node,\n        btn_item:[cc.Sprite]\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    // onLoad () {},\n\n    onEnable(){\n        this.getShopList(null,0);\n        Global.ProtocolMgr.queryUserData();\n    },\n    getShopList(event,customData){\n        this.btn_item.forEach(e=>{\n            e.spriteFrame = null;\n        })\n        cc.loader.loadRes(\"imgs/按钮bg\", cc.SpriteFrame, (err, sf)=>{\n            if (!err){\n                this.btn_item[parseInt(customData)].spriteFrame = sf;\n            }\n        });\n        this.container.removeAllChildren();\n        switch (parseInt(customData)) {\n            case 0:\n                Global.ProtocolMgr.queryKnapsackNFTList((res)=>{\n                    console.log(res)\n                    if(res.code==200){\n                        let data = res.data;\n                        for(let i = 0;i < data.length;i++){\n                            let NFTItemNode = cc.instantiate(this.NFT_item);\n                            NFTItemNode.getComponent(\"NFT_item\").setData(data[i],2);\n                            this.container.addChild(NFTItemNode);\n                        }\n                    }else{\n                        Global.PageMgr.showTipPage(res.message);\n                    }\n                })\n                break;\n            case 1:\n                Global.ProtocolMgr.queryKnapsackXHPList((res)=>{\n                    console.log(res)\n                    if(res.code==200){\n                        let data = res.data;\n                        for(let i = 0;i < data.length;i++){\n                            let XHPItemNode = cc.instantiate(this.XHP_item);\n                            XHPItemNode.getComponent(\"XHP_item\").setData(data[i],2);\n                            this.container.addChild(XHPItemNode);\n                        }\n                    }else{\n                        Global.PageMgr.showTipPage(res.message);\n                    }\n                })\n                break;\n            case 2:\n                Global.PageMgr.onOpenPage(6);\n                break;\n            default:\n                break;\n        }\n    },\n    onDisable(){\n    }\n    // update (dt) {},\n});\n"]}