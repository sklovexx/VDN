{"version":3,"sources":["Main.js"],"names":["cc","Class","extends","Component","properties","content","Node","MainPage","Prefab","toggles","onLoad","OnOpenPage","event","customEventData","Global","PageMgr","onOpenPage","start","ResourceMgr","undefined","find","getComponent","ProtocolMgr","state","node","instantiate","parent","toggleChange","isChecked","GameData","audio","playBgAudio","target","Sprite","enabled","audioEngine","pauseAll","fanHui","active","queryNongChangUserData","filterClick","console","log","tabLanguager","curLanguage","i18n","init","updateSceneRenderers","logOut","sys","localStorage","removeItem","closeAllPages"],"mappings":";;;;;;AAAA;AACAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,iBAAQL,GAAGM,IADH;AAERC,kBAASP,GAAGQ,MAFJ;AAGRC,iBAAQT,GAAGM;AAHH,KAHP;;AASL;;AAEAI,UAXK,oBAWK;AACN;AACA;AACH,KAdI;AAeLC,cAfK,sBAeMC,KAfN,EAeaC,eAfb,EAe6B;AAC9BC,eAAOC,OAAP,CAAeC,UAAf,CAA0BH,eAA1B;AACH,KAjBI;AAkBLI,SAlBK,mBAkBI;AACL,YAAGH,OAAOI,WAAP,IAAoBC,SAAvB,EAAiC,CAChC,CADD,MACK;AACDL,mBAAOI,WAAP,GAAqBlB,GAAGoB,IAAH,CAAQ,aAAR,EAAuBC,YAAvB,CAAoC,aAApC,CAArB;AACAP,mBAAOQ,WAAP,GAAqBtB,GAAGoB,IAAH,CAAQ,aAAR,EAAuBC,YAAvB,CAAoC,aAApC,CAArB;AACAP,mBAAOC,OAAP,GAAiBf,GAAGoB,IAAH,CAAQ,SAAR,EAAmBC,YAAnB,CAAgC,SAAhC,CAAjB;AACAP,mBAAOC,OAAP,CAAeQ,KAAf,GAAuB,CAAvB;AACAT,mBAAOC,OAAP,CAAeC,UAAf,CAA0B,CAA1B;AACH;AACD;AACA,YAAIQ,OAAOxB,GAAGyB,WAAH,CAAe,KAAKlB,QAApB,CAAX;AACAiB,aAAKE,MAAL,GAAc,KAAKrB,OAAnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACH,KAtDI;;AAuDL;AACAsB,gBAxDK,wBAwDQf,KAxDR,EAwDc;AACf,YAAGA,MAAMgB,SAAT,EAAmB;AACfC,qBAASC,KAAT,GAAiB,IAAjB;AACAhB,mBAAOI,WAAP,CAAmBa,WAAnB;AACAnB,kBAAMoB,MAAN,CAAaX,YAAb,CAA0BrB,GAAGiC,MAA7B,EAAqCC,OAArC,GAA+C,KAA/C;AACH,SAJD,MAIK;AACDL,qBAASC,KAAT,GAAiB,KAAjB;AACA9B,eAAGmC,WAAH,CAAeC,QAAf;AACAxB,kBAAMoB,MAAN,CAAaX,YAAb,CAA0BrB,GAAGiC,MAA7B,EAAqCC,OAArC,GAA+C,IAA/C;AACH;AACJ,KAlEI;AAmELG,UAnEK,oBAmEG;AACJrC,WAAGoB,IAAH,CAAQ,oBAAR,EAA8BkB,MAA9B,GAAuC,KAAvC;AACAxB,eAAOQ,WAAP,CAAmBiB,sBAAnB;AACH,KAtEI;AAuELC,eAvEK,yBAuEQ;AACTC,gBAAQC,GAAR,CAAY,MAAZ;AACA;AACH,KA1EI;AA2ELC,gBA3EK,0BA2ES;AACV,YAAGd,SAASe,WAAT,IAAwB,IAA3B,EAAgC;AAC5Bf,qBAASe,WAAT,GAAuB,IAAvB;AACAC,iBAAKC,IAAL,CAAU,IAAV;AACAD,iBAAKE,oBAAL;AACH,SAJD,MAIK;AACDlB,qBAASe,WAAT,GAAuB,IAAvB;AACAC,iBAAKC,IAAL,CAAU,IAAV;AACAD,iBAAKE,oBAAL;AACH;AACJ,KArFI;AAsFLC,UAtFK,oBAsFG;AACJhD,WAAGiD,GAAH,CAAOC,YAAP,CAAoBC,UAApB,CAA+B,oBAA/B;AACArC,eAAOC,OAAP,CAAeqC,aAAf;AACAtC,eAAOC,OAAP,CAAeC,UAAf,CAA0B,CAA1B;AACH;AACD;;AA3FK,CAAT","file":"Main.js","sourceRoot":"..\\..\\..\\..\\assets\\Script","sourcesContent":["// let  i18n = require('LanguageData');\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        content:cc.Node,\n        MainPage:cc.Prefab,\n        toggles:cc.Node\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad () {\n        // i18n.init(GameData.curLanguage);\n        // i18n.updateSceneRenderers()\n    },\n    OnOpenPage(event, customEventData){\n        Global.PageMgr.onOpenPage(customEventData)\n    },\n    start () {\n        if(Global.ResourceMgr!=undefined){\n        }else{\n            Global.ResourceMgr = cc.find(\"ResourceMgr\").getComponent(\"ResourceMgr\")\n            Global.ProtocolMgr = cc.find(\"ProtocolMgr\").getComponent(\"ProtocolMgr\")\n            Global.PageMgr = cc.find(\"PageMgr\").getComponent(\"PageMgr\")\n            Global.PageMgr.state = 1;\n            Global.PageMgr.onOpenPage(0);\n        }\n        // Global.ResourceMgr.playBgAudio();\n        let node = cc.instantiate(this.MainPage);\n        node.parent = this.content;\n        // cc.find('Canvas/KuangChi/UserData/Audio').getComponent(cc.Toggle).isChecked = GameData.audio;\n        // window.sdk = {\n        //\n        // }\n        // window.sdk.openAudio = function(){\n        //     Global.ResourceMgr.playBgAudio();\n        //     if(GameData.audio==false){\n        //         cc.audioEngine.pauseAll();\n        //     }\n        // }\n        // window.sdk.closeAudio = function(){\n        //     cc.audioEngine.pauseAll();\n        // }\n        // dsBridge.register('openAudio', function (data) {\n        //     Global.ResourceMgr.playBgAudio();\n        //     if(GameData.audio==false){\n        //         cc.audioEngine.pauseAll();\n        //     }\n        //     return \"success\"\n        // });\n        // dsBridge.register('closeAudio', function (data) {\n        //     cc.audioEngine.pauseAll();\n        //     return \"success\"\n        // });\n    },\n    //聲音開關\n    toggleChange(event){\n        if(event.isChecked){\n            GameData.audio = true;\n            Global.ResourceMgr.playBgAudio();\n            event.target.getComponent(cc.Sprite).enabled = false;\n        }else{\n            GameData.audio = false;\n            cc.audioEngine.pauseAll();\n            event.target.getComponent(cc.Sprite).enabled = true;\n        }\n    },\n    fanHui(){\n        cc.find('Canvas/Main/FanHui').active = false;\n        Global.ProtocolMgr.queryNongChangUserData()\n    },\n    filterClick(){\n        console.log('点击过滤')\n        return\n    },\n    tabLanguager(){\n        if(GameData.curLanguage == 'zh'){\n            GameData.curLanguage = 'en';\n            i18n.init('en');\n            i18n.updateSceneRenderers()\n        }else{\n            GameData.curLanguage = 'zh';\n            i18n.init('zh');\n            i18n.updateSceneRenderers()\n        }\n    },\n    logOut(){\n        cc.sys.localStorage.removeItem(\"com.game.vdn.token\");\n        Global.PageMgr.closeAllPages();\n        Global.PageMgr.onOpenPage(0);\n    }\n    // update (dt) {},\n});\n"]}